/*! ds-bootstrap - v1.0.0.36125 - 2026-01-19 3:18pm UTC
* Copyright (c) 2026 ; Not Licensed */!function(){"use strict";var e=DS,t=(e.MicroScrollBar,e.detection,function(e){return null!=e&&2===e.split(".").length}),n=function(e,t){return e.some((function(e){var n=t[e.name];return null==n||"outline"===e.name&&n.enabled||!0===n}))};function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}var l=DS,c=l._,s=l.pubSub,u=l.events,f=l.constants,d=l.utils,h=l.translationStore,p=[],y=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.frame=t,this.frame.blocked=!1,this.preso=r,this.setupControlOptions(),this.layouts={},this.dockedStates={},this.dockSettings={dockedState:f.docked.NONE,width:0},this.setLayout(this.frame.default_layout,f.refs.FRAME),DS.flagManager.localizationPlatform&&!c.isEmpty(n)&&this.setLocalizationData(n,!0),this.resourceDescription=this.frame.resourceData.description;var o=r.getFirstSlide();for(var a in this.slideWidth=o.get("width"),this.slideHeight=o.get("height"),this.temp=[],this.frame.layouts)this.temp.push(a);this.rtl="rtl"===this.frame.textdirection,this.hasModernText=0!==this.frame.renderingEngineType,this.dir=this.dir.bind(this),c.bindAll(this,"onLayoutChanged"),s.on(u.controlLayout.CHANGED,this.onLayoutChanged),s.on(u.controlLayout.UPDATE,(function(e,t,n){i.frame.controlLayouts[e]=n,i.setLayout(e,t)})),s.on(u.controlOptions.CHANGED,(function(e){var t=i.optionChangesRequireMenuRefresh(i.frame.controlOptions.menuOptions,e.menuOptions);i.frame.controlOptions=e,i.setupControlOptions(),s.trigger(u.controlOptions.RESET),t&&s.trigger(u.navData.REFRESH_VIEW)})),s.on(u.frame.FONT_SCALE,(function(e){i.frame.fontscale=e,s.trigger(u.controlOptions.RESET)})),s.on(u.glossary.UPDATE,(function(e){i.frame.glossaryData=e,s.trigger(u.glossary.REFRESH_VIEW)})),s.on(u.navData.UPDATE,(function(e){i.frame.navData=e,s.trigger(u.navData.REFRESH_VIEW)})),s.on(u.resources.UPDATE,(function(e){i.frame.resourceData.resources=e,s.trigger(u.resources.REFRESH_VIEW)})),s.on(u.resources.UPDATE_DESCRIPTION,(function(e){i.frame.resourceData.description=e,s.trigger(u.resources.REFRESH_VIEW)})),s.on(u.layer.DIALOG_SHOWN,(function(e){var t=DS.windowManager.getCurrentWindow();s.trigger(u.frameModel.BLOCKED_CHANGED,t.frame.id,!0,e)})),s.on(u.layer.DIALOG_HIDDEN,(function(){var e=DS.windowManager.getCurrentWindow();s.trigger(u.frameModel.BLOCKED_CHANGED,e.frame.id,!1)})),s.on(u.localization.LANGUAGE_UPDATED,(function(){i.setLocalizationData(DS.localizationManager.getCurrentFrameData())})),s.on(u.localization.REVIEW_FRAME_UPDATED,(function(){i.updateReviewStrings()}))}var t,r,o;return t=e,r=[{key:"traverseMenu",value:function(e,t){var n=this;t.forEach((function(r){e(r),null!=r.links&&t.length>0&&n.traverseMenu(e,r.links)}))}},{key:"updateMenuStrings",value:function(){var e=d.getPath(this.frame,"navData.outline.links",[]);this.traverseMenu((function(e){e.displaytext=h.getUpdatedTextData("menuItem","".concat(e.translationId,"-Name"),e.displaytext)}),e)}},{key:"updateGlossaryStrings",value:function(){(this.frame.glossaryData||[]).forEach((function(e){var t=e.translationId;e.title=h.getUpdatedTextData("glossaryItem","".concat(t,"-Term"),e.title),e.content=h.getUpdatedTextData("glossaryItem","".concat(t,"-Definition"),e.content)}))}},{key:"updateResourcesStrings",value:function(){d.getPath(this.frame,"resourceData.resources",[]).forEach((function(e){var t=e.translationId;e.title=h.getUpdatedTextData("resourceItem","".concat(t,"-Title"),e.title)}))}},{key:"updateNoteStrings",value:function(){(this.frame.notesData||[]).forEach((function(e){var t=e.slideId,n=c.last(t.split(".")),r=h.getUpdatedTextData("slideNote","".concat(n,"-Note"));null!=r&&null!=DS.renderHtmlString&&(e.content=DS.renderHtmlString(r))}))}},{key:"updateReviewStrings",value:function(){this.updateMenuStrings(),this.updateGlossaryStrings(),this.updateResourcesStrings(),this.updateNoteStrings(),this.title.text=h.getUpdatedTextData("projectTitle","project-Title",this.title.text),this.notifyStringsUpdated()}},{key:"setLocalizationData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.frame.stringTables=e.stringTables,this.frame.navData=e.navData,this.frame.resourceData=e.resourceData,this.frame.glossaryData=e.glossaryData,this.frame.notesData=e.notesData,this.frame.controlStrings=e.controlStrings.reduce((function(e,t){var n=t.id,r=t.value;return e[n]=r,e}),{}),this.title.text=this.frame.controlStrings.title,this.logo.altText=this.frame.controlStrings.logoAltText,this.frame.textdirection=e.textdirection,this.rtl="rtl"===this.frame.textdirection,"bylanguage"===this.initialSidebarPos&&(this.sidebarOpts.sidebarPos=this.getSidebarPos()),t||this.notifyStringsUpdated()}},{key:"notifyStringsUpdated",value:function(){s.trigger(u.strings.UPDATE_STRINGS),s.trigger(u.navData.REFRESH_VIEW),s.trigger(u.glossary.REFRESH_VIEW),s.trigger(u.resources.REFRESH_VIEW),s.trigger(u.transcript.REFRESH_VIEW),s.trigger(u.frame.REFLOW),s.trigger(u.frame.LOCALIZATION_UPDATED)}},{key:"getSidebarPos",value:function(){return"bylanguage"===this.initialSidebarPos?DS.localizationManager.getCurrentLangIsRTL()?"right":"left":this.initialSidebarPos}},{key:"setupControlOptions",value:function(){var e=this.frame.controlOptions.sidebarOptions;this.initialSidebarPos=e.sidebarPos,e.sidebarPos=this.getSidebarPos(),this.sidebarOpts=e,this.bottomBarOpts=this.frame.controlOptions.bottomBarOptions,this.topTabs=e.tabs.linkRight||[],this.topTabsLeft=e.tabs.linkLeft||[],this.topTabsRight=e.tabs.linkRight||[],this.sidebarTabs=e.tabs.sidebar||[],this.outlineInSidebar=this.sidebarTabs.some((function(e){return"outline"===e.name})),this.buttonOptions=this.frame.controlOptions.buttonoptions,this.title={enabled:e.titleEnabled,text:e.titleText},this.logo={enabled:e.logoEnabled,altText:e.logoAltText,altTextEnabled:e.logoAltTextEnabled}}},{key:"optionChangesRequireMenuRefresh",value:function(e,t){return e.wrapListItems!==t.wrapListItems||e.autonumber!==t.autonumber}},{key:"onLayoutChanged",value:function(e,t){this.setLayout(e,t)}},{key:"hasTopLinks",value:function(){return 0!==this.topTabsLeft.length||0!==this.topTabsRight.length}},{key:"getControlString",value:function(e){return h.getUpdatedTextData("frameLink","".concat(e,"-Link"),d.getPath(this.frame,"controlStrings.".concat(e),null))}},{key:"getString",value:function(e,t){var n=this.currLayout.string_table,r=this.frame.stringTables[n].string[e];return null==r?(p.includes(e)||(p.push(e),console.warn("could not find ".concat(e," in string table ").concat(n))),null!=t?t:e.replace("acc_","").replace(/_/g," ")):r}},{key:"setDocked",value:function(e,t,n){t===f.docked.NONE?(this.dockedStates[e]=null,delete this.dockedStates[e]):this.dockedStates[e]={dockedState:t,width:n};var r=Object.keys(this.dockedStates);0===r.length?this.dockSettings={dockedState:f.docked.NONE,width:0}:t!==f.docked.NONE?this.dockSettings={dockedState:t,width:n}:this.dockSettings=this.dockedStates[r[0]]}},{key:"getDockedWidth",value:function(){var e=this.dockSettings,t=e.dockedState,n=e.width;return t!==DS.constants.docked.NONE?n:0}},{key:"setLayout",value:function(e,t){this.currLayout=this.frame.layouts[e],this.currControlLayout=this.frame.controlLayouts[e],this.layouts[t]=this.currControlLayout,this.topbarHasTabs=n([].concat(i(this.topTabsRight),i(this.topTabsLeft)),e),s.trigger(u.frameModel.LAYOUT_CHANGED,this.currControlLayout,t)}},{key:"getWndControlLayout",value:function(e){return this.layouts[e]||this.currControlLayout}},{key:"dir",value:function(e){if(null!=e)return this.rtl?e.reverse():e}}],r&&a(t.prototype,r),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=y;function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function k(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}var O,C=DS,E=C._,x=C.scaler,T=C.detection,L=C.detection.orientation,P=C.utils,j=P.getPath,D=P.scaleVal,I=P.pxify,A=C.dom,R=A.addClass,B=A.removeClass,M=C.constants.refs.FRAME,H=C.pubSub,N=C.events,F=document.getElementById(DS.constants.els.PRESO),V={x:"w",xl:"w",xp:"w",y:"h",yl:"h",yp:"h",wl:"w",wp:"w",hl:"h",hp:"h"},W=["wrapper","lightBoxWrapper"],U=new ResizeObserver((function(){H.trigger(N.strings.UPDATE_STRINGS),H.trigger(N.frame.REFLOW)})),z=function(e){null!=e.beforeUpdateHook&&e.beforeUpdateHook()},K=function(e,t,n){z(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.l+n,e.update(!0),t.l=e.x+e.w},G=function(e,t,n){z(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.r-e.w-n,e.update(!0),t.r=e.x},q=function(e,t,n){z(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.t+n,e.update(!0),t.t=e.y+e.h},Z=function(e,t,n){z(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.b-e.h-n,e.update(!0),t.b=e.y},Q={l:K,r:G,t:q,b:Z},Y=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ViewLogic=t,this.params=n,this.nameKey=null!=n&&n.nameKey||t.nameKey,this.enabled=!0}var t,n,r;return t=e,n=[{key:"init",value:function(e){if(this.hasInited)console.warn("has already initialized",this);else{var t;this.hasInited=!0;var n=this.ViewLogic,r=this.params;null==r&&null!=n?r=n:null!=n&&(t=!0),E.isFunction(r)&&(r=r(this.nameSpace||e)),r.w=r.w||r.minW||100,r.h=r.h||r.minH||100,this.orientationProps(r,"x","y","w","h","scale"),(r=Object.assign({position:"absolute",x:0,y:0,minW:0,maxW:Number.MAX_SAFE_INTEGER,minH:0,maxH:Number.MAX_SAFE_INTEGER,wPad:0,scale:1,visibility:"reflow",visual:!0,bgColor:null,overflow:"hidden",origin:"center center",z:null,opacity:null,visible:!0,attrs:{},noContent:!0,calcTextSize:!1},r)).calcTextSize&&(r.noContent=!1),this.noContent=r.noContent,this.lastWidthByText=0,this.lastHeightByText=0,this.padLeft=r.padLeft||0,this.padRight=r.padRight||0,this.childDef=r.childDef,this.childViews=r.childViews,this.updateHook=r.updateHook,this.onCaptionChanged=r.onCaptionChanged,r.childViews=null,r.updateHook=null,r.childDef=null,r.nameKey=null,r.onCaptionChanged=null,Object.assign(this,r.methods),r.methods=null,this.createDynamicGetters(r),r.visual&&(this.el=document.createElement(r.tag||"div"),this.initAttributes(r.attrs),this.initStyles(r),"button"===r.tag&&(this.el.style.cursor="pointer"),this.initContent(r),r.add&&F.appendChild(this.el),this.hasInitialized=!0),this.initVisibility(r),this.initChildRefs(),t&&(this.viewLogic=new n(this))}}},{key:"orientationProp",value:function(e,t){var n="".concat(t,"l"),r="".concat(t,"p");null!=e[n]&&null!=e[r]&&(e[t]=function(){return L.isLandscape?this[n]:this[r]})}},{key:"orientationProps",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.forEach((function(n){return t.orientationProp(e,n)}))}},{key:"initContent",value:function(e){if(this.noContent){var t=this.html;null!=t&&(this.el.innerHTML=t)}else{var n="button"===e.tag?"span":"div";this.content=document.createElement(n),this.content.setAttribute("class","view-content"),"div"===n&&this.content.setAttribute("tabindex",-1),Object.assign(this.content.style,{position:"relative","text-align":"center",top:0}),Object.assign(this.content.style,e.contentStyle||{}),this.initAttributes(e.contentAttrs,this.content),null!=e.html&&(this.content.innerHTML=this.html),this.el.appendChild(this.content)}}},{key:"initAttributes",value:function(e,t){for(var n in e)if(null!=e[n]){var r=e[n];"id"===n?r=E.kebabCase(r):"tabindex"===n&&-1!==r&&this.el.setAttribute("data-".concat(n),r),(t||this.el).setAttribute(n,r)}}},{key:"initStyles",value:function(e){if(Object.assign(this.el.style,{position:e.position,left:0,top:0,backgroundColor:e.bgColor,border:e.border,overflow:e.overflow,transformOrigin:e.origin,opacity:e.opacity,zIndex:e.z}),null!=j(e,"style.display")){var t=e.style.display;"boolean"==typeof t&&(e.style.display=t?"block":"none")}Object.assign(this.el.style,e.style)}},{key:"initVisibility",value:function(e){!1===e.visible&&this.setVisibility(!1)}},{key:"initChildRefs",value:function(){this.children=[],this.childList=[];for(var e=this.el.querySelectorAll("[data-ref]"),t=0;t<e.length;t++)this.children[e[t].dataset.ref]={el:e[t]}}},{key:"updateStrings",value:function(){null!=this.ariaStringId&&this.el.setAttribute("aria-label",te.model.getString(this.ariaStringId)),null!=this.updateDomStrings&&(this.updateDomStrings(),this.calcTextSize&&(this.doTextCalcs(),this.update()))}},{key:"updateHtml",value:function(){var e=this.html;null!=e&&(this.noContent?this.el.innerHTML=e:this.content.innerHTML=e)}},{key:"createDynamicGetters",value:function(t){for(var n in t)"id"!==n&&null!=t[n]&&e.prop(this,n,t[n])}},{key:"updateSize",value:function(){"button"===this.tag?(this.el.style.width=I(D(Math.max(this.w,24))),this.el.style.height=I(D(Math.max(this.h,24)))):(this.el.style.width=I(D(this.w)),this.el.style.height=I(D(this.h)))}},{key:"updateTrans",value:function(){var e=W.includes(this.nameKey)?E.identity:D,t=["translate(".concat(I(e(this.x)),", ").concat(I(e(this.y)),")")];if(this.xs)for(var n=0;n<this.xs.length;n++)t.push("translateX(".concat(I(e(this.xs[n])),")"));if(this.ys)for(var r=0;r<this.ys.length;r++)t.push("translateY(".concat(I(e(this.ys[r])),")"));T.deviceView.isMobile&&null!=this.scale&&t.push("scale(".concat(this.scale,")")),this.el.style.transform=t.join(" ")}},{key:"getMinChildWidthInfo",value:function(){return null==this.children?0:this.children.reduce((function(e,t){return t.visible?(e.count++,e.minWidth+=t.minW,e):e}),{count:0,minWidth:0})}},{key:"calcChildrensWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},t=0;return null!=this.children&&this.children.forEach((function(n){e(n)&&(n.update(),t+=n.w)})),t}},{key:"calcChildrensHeight",value:function(){var e=0;return null!=this.children&&this.children.forEach((function(t){t.update(),e+=t.h})),e}},{key:"positionChildren",value:function(e){var t=e.vertical,n=e.toTop,r=e.toLeft,i=e.pad,o=e.startPos,a=e.reverse,l=void 0!==a&&a,c=e.hook,s=void 0===c?E.noop:c,u=e.rtl,f=void 0!==u&&u,d=e.sizeToChildren,h=e.alignChild,p=t?n?Z:q:r?G:K,y=Object.assign({l:o,r:o,t:o,b:o},e.bounds),v=l!==f?this.children.slice().reverse():this.children,b=g(t?["height","t"]:["width","l"],2),m=b[0],w=b[1],S=L.isLandscape?E.first:E.last;v.forEach((function(e){(e.beforeReflowHook||E.noop)();var t=h&&S(e.parentAlign);!e.visible&&"reflow"===e.visibility||"-"===t||(t?Q[t](e,y,i):p(e,y,i),s(e))})),d&&(this[m]=y[w])}},{key:"flowChildren",value:function(e){(e=Object.assign({pad:0,sizeToChildren:!1,startPos:0,toLeft:!1,reverse:!1,fullUpdate:!1,rtl:!1,hook:function(){}},e)).fullUpdate?this.hasAllChildren()&&(this.positionChildren(e),this.updateSize()):this.positionChildren(e)}},{key:"isBlocked",value:function(){if(T.theme.isClassic)return!1;var e=te.getTopNameSpace(),t=te.getCurrentNameSpace(),n=te.getBlocker(t.name);return null!=e&&null!=n&&n.visible}},{key:"setEnabled",value:function(e,t){this.enabled!=e&&(this.enabled=e,e?B(this.el,"cs-disabled"):R(this.el,"cs-disabled"),this.el.setAttribute("aria-disabled",!e));var n=this.el.getAttribute("data-tabindex");null!=n&&this.el.setAttribute("tabindex",t&&!e||this.isBlocked()?-1:n)}},{key:"setVisibility",value:function(e,t){var n=this.visible!==e,r=!1;return"no-reflow"===this.visibility?(this.el.style.visibility=e?"visible":"hidden",this.el.style.pointerEvents=e?"":"none"):"reflow"===this.visibility&&(this.el.style.display=e?"block":"none",r=!0),t&&(this.layoutDefaultVisible=e),this.visible=e,n&&j(this,"viewLogic.didChangeVisibility")&&this.viewLogic.didChangeVisibility(e),r}},{key:"ariaVisibleWithChildren",value:function(){this.el.setAttribute("aria-hidden",!this.children.some((function(e){return e.visible})))}},{key:"childVisibilityChanged",value:function(){null!=this.childVisibilityChangedHook?this.childVisibilityChangedHook():null!=this.parent&&this.parent.childVisibilityChanged()}},{key:"update",value:function(e){null==this.beforeUpdateHook||e||this.beforeUpdateHook(),this.updateSize(),this.updateTrans(),null!=this.updateHook&&this.updateHook()}},{key:"updateChildren",value:function(e){this.children.forEach((function(t){t.update(),e&&t.updateChildren(e)}))}},{key:"initTextListener",value:function(){var e=this.el.querySelector(".resizeable-text");null!=e&&U.observe(e)}},{key:"doTextCalcs",value:function(){var e=1/x.getScale(),t=this.content.style.width,n=this.el.style.display;this.el.style.display="block",this.content.style.width="fit-content";var r=this.content.clientWidth*e,i=this.content.clientHeight*e;this.content.style.width=t,this.el.style.display=n,this.lastWidthByText=r+4+this.padLeft+this.padRight,this.lastHeightByText=i+4}},{key:"wasAppended",value:function(){var e=this;this.calcTextSize&&(this.doTextCalcs(),this.initTextListener()),null!=this.childViews&&this.childViews.forEach((function(t){"string"==typeof t&&(t=te.getOrCreateView(t)),t.init(e.nameSpace),e.append(t)}))}},{key:"setChildNum",value:function(e){this.defaultChildNum=e}},{key:"hasAllChildren",value:function(){return this.hasInitialized&&this.children.length===this.defaultChildNum}},{key:"append",value:function(e,t){if(e.parent=this,this.children[E.camelCase(e.nameKey)]=e,t?this.children.unshift(e):this.children.push(e),this.noContent||e.outsideContent?this.el.appendChild(e.el):this.content.appendChild(e.el),e.wasAppended(),e.update(),null==e.nameSpace){for(var n=this;null!=n&&null==n.nameSpace;)n=n.parent;e.nameSpace=n.nameSpace,te.hasNamespace(n.nameSpace)?te.getNamespace(n.nameSpace)[e.nameKey]=e:console.warn("could not find namespace ".concat(n.nameSpace," when appending"))}}},{key:"destroy",value:function(){var e,t;null!=this.children&&this.children.forEach((function(e){return e.destroy()})),null==this||null===(e=this.viewLogic)||void 0===e||null===(t=e.teardown)||void 0===t||t.call(e),null!=this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.nameSpace=null}},{key:"startFloat",value:function(){this.floating=!0,this.lastFloatParent=this.el.parentNode,this.shouldReparent&&te.getNamespace(this.nameSpace).wrapper.el.appendChild(this.el)}},{key:"endFloat",value:function(){this.floating&&(this.floating=!1,this.shouldReparent&&this.lastFloatParent.appendChild(this.el))}},{key:"right",value:function(){return this.floating?0:this.x+this.w}},{key:"bottom",value:function(){return this.floating?0:this.y+this.h}},{key:"getBox",value:function(){if(null==te.getNamespace(this.nameSpace).wrapper)return null;var e=T.theme.isClassic&&te.getNamespace(this.nameSpace).wrapper.dimScale||1,t=(te.getNamespace(this.nameSpace).wrapper.scale||1)*e,n=this.x,r=this.y,i=this.w,o=this.h,a=this.offsets,l=(a=void 0===a?{}:a).l,c=void 0===l?0:l,s=a.t,u=this;for(n=(n+c)*t,r=(r+(void 0===s?0:s))*t;u=u.parent;){var f=null!=u.parent?t:1,d=u.offsets,h=(d=void 0===d?{}:d).l,p=void 0===h?0:h,y=d.t,v=void 0===y?0:y;n+=(u.x+p)*f,r+=(u.y+v)*f}return{x:n,y:r,w:i*=t,h:o*=t}}}],n&&S(t.prototype,n),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Y.propFns={"fit-to-text-w":function(){return Math.max(this.minW,this.lastWidthByText)+this.wPad},"fit-to-text-h":function(){return Math.max(this.minH,this.lastHeightByText)},"vertical-center":function(){return this.parent.h/2-this.h/2},"horizontal-center":function(){return this.parent.w/2-this.w/2}},Y.prop=function(e,t,n){if("number"==typeof n)e[t]=n;else if("string"==typeof n&&null!=Y.propFns[n])Object.defineProperties(e,m({},t,{get:Y.propFns[n],set:E.noop}));else if("string"==typeof n&&n.endsWith("%")){var r=parseFloat(n)/100,i=null!=V[t]?V[t]:t;Object.defineProperties(e,m({},t,{get:function(){return this.parent[i]?e.parent[i]*r:0},set:E.noop}))}else if(E.isFunction(n)){var o;if("w"===t||"h"===t){var a=n.bind(e),l=t.toUpperCase(),c=e["min".concat(l)],s=e["max".concat(l)];o=function(){var e=a();return e<c?e=c:e>s&&(e=s),e}.bind(e)}else o=n;Object.defineProperties(e,m({},t,{get:o,set:E.noop}))}else e[t]=n;e[t]=n};var X={},$={},J={},ee=function(e){var t,n,r=b(e);return"string"===r?t=e:"object"===r?n=e[t=Object.keys(e)[0]]:console.warn("invalid view definition. ".concat(e," is a ").concat(b(e))),{viewName:t,children:n}},te={nameSpaces:{},nsStack:[],iconTextEl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return DS.detection.deviceView.isMobile?"":'<span class="frame-icon-text"\n      style="'.concat(t,'">').concat(te.model.getString(e),"</span>")},getNamespace:function(e){return this.nameSpaces[e]},hasNamespace:function(e){return null!=this.nameSpaces[e]},setModel:function(e){return this.model=e,this},resetStates:function(e){var t=this.getNamespace(e);E.forEach(t,(function(e){return e&&e.setEnabled&&e.setEnabled(!0)}))},updateVisibility:function(e,t){var n=!1;for(var r in e){var i=this.nameSpaces[t][r];if(null!=i)i.setVisibility(e[r],!0)&&(n=!0)}return n},def:function(e,t,n){null==n?t.nameKey=e:n.nameKey=e;var r=new Y(t,n);return null==X[e]?(X[e]=r,$[e]={ViewLogic:t,p:n},J[e]=0):console.warn("views connot share the same name ".concat(e)),r},addNameSpace:function(e){O=e,this.nameSpaces[O]=this.nameSpaces[O]||{name:e,topLevelElements:[],isAttached:!0,tabReachable:!0,detach:function(){this.isAttached=!1,this.topLevelElements.forEach((function(e){return F.removeChild(e.el)}))},reattach:function(){this.isAttached=!0,this.topLevelElements.forEach((function(e){return F.appendChild(e.el)}))},updateTabIndex:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=function(t){if(!t.dataset.leavealone){var n=t.getAttribute("data-tabindex");null==n&&(n=t.tabIndex,t.setAttribute("data-tabindex",n)),t.tabIndex=e.tabReachable?n:-1}};this.topLevelElements.forEach((function(r){var i=function(e,t){t?e.el.removeAttribute("aria-hidden"):e.el.setAttribute("aria-hidden",!0)};t&&(r.children.some((function(e){return"startoverlay"===e.nameKey}))?r.children.filter((function(e){return"startoverlay"!==e.nameKey})).forEach((function(t){return i(t,e.tabReachable)})):i(r,e.tabReachable)),r.el.querySelectorAll("[tabIndex]:not(.acc-shadow-el):not(.slide-object)").forEach((function(e){return n(e)})),"lightBoxClose"===r.nameKey&&n(r.el)}))}}},update:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){e.forEach((function(e){E.isFunction(e)?e():Array.isArray(e)?update(e,t):null==e||!e.update||e.noUpdate&&!t||(e.update(),t&&e.updateHtml())}))})),getViewConfig:function(e){var t=$[e];return{name:e,ViewLogic:t.ViewLogic,p:t.p}},getOrCreateView:function(e){if(++J[e]>1){var t=$[e],n=t.ViewLogic,r=t.p;return new Y(n,r)}return X[e]},tree:function(e,t){for(var n=this,r=[],i=function t(r){if(null!==r){var i=ee(r),o=i.viewName,a=i.children,l=n.nameSpaces[e][o]=n.getOrCreateView(o);if(null!=l){if(l.nameSpace=e,j(a,"length")>0){l.setChildNum(a.length),l.hasChildren=!0;for(var c=0;c<a.length;c++)t(a[c])}}else console.warn("could not find view '".concat(o,"'"))}},o=function t(i,o){if(null!==i){var a=ee(i),l=a.viewName,c=a.children,s=n.nameSpaces[e][l];if(null!=s){if(s.init(e),null!=o?o.append(s):n.nameSpaces[e].topLevelElements.push(s),null!=s.childDef&&s.childDef(),r.push(s),s.hasChildren)for(var u=0;u<c.length;u++)t(c[u],s)}else console.warn("could not find view '".concat(l,"'"))}},a=0;a<t.length;a++)i(t[a]);for(var l=0;l<t.length;l++)o(t[l]);return r},getCurrentNameSpace:function(){return this.nameSpaces[O]},getTopNameSpace:function(){return E.last(this.nsStack)},getCurrentNameSpaceString:function(){return O},getFrameNameSpace:function(){return this.nameSpaces[M]},getBlocker:function(e){switch(e){case DS.constants.refs.FRAME:return te.getNamespace(e).frameBlocker;case"LightboxWnd":return te.getNamespace(e).lightBoxBlocker;case"LightboxControlsWnd":return te.getNamespace(e).lightBoxControlsBlocker;default:return null}}};function ne(e){return function(e){if(Array.isArray(e))return e}(e)||oe(e)||ie(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||oe(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}function oe(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var le,ce=DS,se=ce._,ue=ce.pubSub,fe=ce.events,de={},he=!1,pe={},ye={},ve=function(e){try{var t=re(document.styleSheets).find(e);le=re(t.rules)}catch(e){}};if(ve((function(e){return null!=e.href&&e.href.includes("output.min.css")})),ue.on(fe.scheme.CHANGED,(function(e){ve((function(t){return null!=t.ownerNode&&t.ownerNode.id===e})),pe={},de.initializeCssColorVars()})),null!=le){var be=function(e,t){var n,r;if(he){n="".concat(t,".cs-").concat(te.model.frame.default_layout);var i=e.split(" ");r=(i=i.map((function(e){return(e.startsWith(".")?".":"")+se.compact(e.split(".")).reverse().join(".")}))).join(" ")}else{te.model;n=".cs-".concat(te.model.frame.default_layout).concat(t),r=e}return"".concat(n," ").concat(r)};de.getColor=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=be(t,r);if(null==pe[i]){var o=le.find((function(e){return e.selectorText===i}));null==o&&(he=!he,i=be(t,r),o=le.find((function(e){return e.selectorText===i}))||{}),pe[i]=o.style||{}}return pe[i][n]||""}}else{de.usePolyfill=!0;var me=function(e,t){var n=document.createElement(e);return n.setAttribute("class",t),n},ge=/^\./,we=/\./g;de.getColor=function(e,t,n){var r,i,o=(arguments.length>4&&void 0!==arguments[4]&&arguments[4]||t).split(/\s+/),a=te.getNamespace(e).wrapper.el;o.forEach((function(e,t){if(ge.test(e))c=e.replace(we," "),r=me("div",c);else{var n=ne(e.split(".")),o=n[0],l=n.slice(1);r=me(o,l.join(" "))}var c;0===t&&(r.style.position="absolute",r.style.display="none",i=r),a.appendChild(r),a=r}));var l=window.getComputedStyle(r).getPropertyValue(n);return""===l&&"border-color"===n&&(l=window.getComputedStyle(r).getPropertyValue("border-top-color")),i.parentNode.removeChild(i),l||""}}de.initializeCssColorVars=function(){ye={},de.createCssColorVar("--color-messagebox-title-separator",".message-window-header p","border-bottom-color"),de.createCssColorVar("--color-messagebox-button-border",".message-window button.slide-object-button","border-color"),de.createCssColorVar("--color-messagebox-button-hover",".message-window button.slide-object-button:hover","background-color","",".resources .resources-list a.button-tapped")},de.createCssColorVar=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!ye[e]){var o="";if(de.usePolyfill){var a=Object.keys(te.nameSpaces);if(0===a.length)return void requestAnimationFrame((function(){de.createCssColorVar(e,t,n,r,i)}));o=a[0]}var l=de.getColor(o,t,n,r,i);if(!se.isEmpty(l)&&e)ye[e]=!0,document.getElementById("preso").style.setProperty(e,l)}};var Se=de;function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ce(r.key),r)}}function Ce(e){var t=function(e,t){if("object"!==ke(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ke(t)?t:String(t)}var Ee=DS,xe=Ee.detection,Te=Ee.pubSub,Le=Ee.events,Pe=327,_e=new(function(){function e(){var t,n,r,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r=function(){i.scale=Math.min(window.innerWidth/i.ratioW,window.innerHeight/i.ratioH),i.scale>1&&i.preventUpscale&&(i.scale=1),i.scaledRatioH=i.ratioH*i.scale,i.scaledRatioW=i.ratioW*i.scale},(n=Ce(n="onResize"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.scale=1,this.ratioW=720,this.ratioH=540,this.isMobileChrome=xe.os.isIOS&&xe.browser.isChrome,xe.deviceView.isMobile?this.isScaled=!0:this.setScaleMode(),DS.flagManager.playerSizeOption&&this.isLockedFit&&(window.addEventListener("resize",this.onResize),this.onResize()),Te.on("frame:modelReady",(function(){var e,t,n,r,o=!te.model.frame.chromeless&&!xe.env.hideFrame;i.ratioW=null==te||null===(e=te.model)||void 0===e?void 0:e.slideWidth,i.ratioH=null==te||null===(t=te.model)||void 0===t?void 0:t.slideHeight,i.preventUpscale=null==te||null===(n=te.model)||void 0===n||null===(r=n.frame)||void 0===r?void 0:r.preventUpscale,!te.model.sidebarOpts.closed&&te.model.sidebarOpts.sidebarEnabled||(Pe=0),o&&(i.ratioW+=Pe,i.ratioH+=130),i.onResize()})),this.setupFullScreen()}var t,n,r;return t=e,(n=[{key:"setupFullScreen",value:function(){var e=this;document.addEventListener("fullscreenchange",(function(){var t,n=null!=document.fullscreenElement,r="preso"===(null===(t=document.fullscreenElement)||void 0===t?void 0:t.id);n&&!r?e.forcePlayerScaled():e.playerScaleIsForced&&e.setScaleMode(),Te.trigger(Le.frameWindow.FULLSCREEN,{preso:n&&r})}))}},{key:"setScaleMode",value:function(){this.isLockedFit="LockedFit"===window.globals.scale,this.isLocked="Locked"===window.globals.scale,this.isScaled="Scaled"===window.globals.scale,Te.trigger(Le.frame.REFLOW),Te.trigger(Le.frame.SCALE)}},{key:"forcePlayerScaled",value:function(){this.isLockedFit=this.isLocked=!1,this.isScaled=!0,this.playerScaleIsForced=!0}},{key:"shouldUseCache",value:function(){return this.isMobileChrome&&document.activeElement.classList.contains("acc-textinput")}},{key:"innerWidth",get:function(){return this.isLockedOption?this.isLocked?this.ratioW:this.scaledRatioW:window.innerWidth}},{key:"innerHeight",get:function(){return this.isLockedOption?this.isLocked?this.ratioH:this.scaledRatioH:window.innerHeight}},{key:"minHeight",get:function(){return Math.min(this.innerHeight,window.innerHeight)}},{key:"minWidth",get:function(){return Math.min(this.minWidth,window.innerWidth)}},{key:"x",get:function(){return this.isLockedOption?Math.max(0,(window.innerWidth-this.innerWidth)/2):0}},{key:"y",get:function(){return this.isLockedOption?Math.max(0,(window.innerHeight-this.innerHeight)/2):0}},{key:"height",get:function(){return this.shouldUseCache()?(this.cachedOuterHeight!==this.outerHeight&&(this.cachedHeight=this.outerHeight-(this.cachedOuterHeight-this.cachedHeight),this.cachedOuterHeight=this.outerHeight),this.cachedHeight):(this.cachedOuterHeight=this.outerHeight,this.cachedHeight=this.innerHeight,this.innerHeight)}},{key:"width",get:function(){return this.innerWidth}},{key:"isLockedOption",get:function(){return DS.flagManager.playerSizeOption&&(this.isLockedFit||this.isLocked)}}])&&Oe(t.prototype,n),r&&Oe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());DS.frameWindow=_e;var je=_e;function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==De(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===De(o)?o:String(o)),r)}var i,o}var Ae,Re,Be,Me,He=DS,Ne=He.dom,Fe=He._,Ve=He.detection,We=He.pubSub,Ue=He.events,ze=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Fe.bindAll(this,"onLoaderShow","onLoaderMute","onLoaderUnmute","onLoaderHide","onRemoveLoaderTitle");var t={};t[Ue.loader.SHOW]=this.onLoaderShow,t[Ue.loader.MUTE]=this.onLoaderMute,t[Ue.loader.UNMUTE]=this.onLoaderUnmute,t[Ue.loader.HIDE]=this.onLoaderHide,t[Ue.loader.REMOVE_TITLE]=this.onRemoveLoaderTitle,t[Ue.startOverlay.READY]=this.onLoaderHide,Ne.addClass(document.body,"theme-".concat(window.globals.themeName)),document.body.classList.contains("view-tablet")&&Ne.addClass(document.body,"is-touchable-tablet"),Ve.env.is360&&!je.isLockedOption&&Ne.addClass(document.body,"is-360"),We.on(t),this.setupBrandingColor()}var t,n,r;return t=e,(n=[{key:"setupBrandingColor",value:function(){window.requestAnimationFrame((function(){var e=Se.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");null!=e&&(DS.constants.theme.brandingHighlight=e,We.trigger(Ue.app.BRANDING_COLOR,e))}))}},{key:"onRemoveLoaderTitle",value:function(){var e=document.querySelector("body > .mobile-load-title-overlay");null!=e&&e.parentNode.removeChild(e)}},{key:"getSpinLoader",value:function(){return document.querySelector("body > .slide-loader")}},{key:"onLoaderMute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=0)}},{key:"showLoaderDelayed",value:function(e){clearTimeout(this.loaderTimeout),this.loaderTimeout=setTimeout(this.onLoaderShow,e)}},{key:"onLoaderHide",value:function(){clearTimeout(this.loaderTimeout),this.getSpinLoader().style.display="none",Ne.addClass(document.getElementById("preso"),"hide-slide-loader"),We.trigger(Ue.app.HIDE_LOADER)}},{key:"onLoaderUnmute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=1)}},{key:"onLoaderShow",value:function(e){e>0?this.showLoaderDelayed(e):(this.getSpinLoader().style.display="block",Ne.removeClass(document.getElementById("preso"),"hide-slide-loader"),We.trigger(Ue.app.SHOW_LOADER))}}])&&Ie(t.prototype,n),r&&Ie(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ke=DS,Ge=Ke.globalEventHelper.addWindowListener,qe=Ke.events,Ze=qe.ds,Qe=Ze.FRAME_DATA_LOADED,Ye=Ze.PRESO_READY,Xe=qe.window.STACKING_CHANGED,$e=qe.frame,Je=$e.MODEL_READY,et=$e.SCALE,tt=qe.resume.SET_DATA,nt=qe.startOverlay.READY,rt=qe.controlOptions.RESET,it=qe.sidebar.ACTIVE_TAB_SET,ot=qe.renderTree.DESTROYED,at=Ke.constants,lt=(at.els.PRESO,at.refs.FRAME),ct=Ke.detection.theme,st=Ke.pubSub,ut=Ke.focusManager,ft=(Ke.flagManager,Ke.playerGlobals),dt=Ke.stringTabler,ht=Ke.shortcutManager,pt=Ke.dom,yt={},vt=function(e){var t=te.nsStack.indexOf(e);t>=0&&te.nsStack.splice(t,1)},bt=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];te.nsStack.forEach((function(t,n,r){t.tabReachable=n===r.length-1&&e,t.updateTabIndex()}))},mt=function(e){Ae={createWindow:function(t,n){var r,i,o,a,l,c=this,s=te.getNamespace(t),u=function(){return function(e){var t=te.getNamespace(e),n=t.isAttached;t.reattach(),vt(t),te.nsStack.push(t),n||yt[e].all();var r=te.nsStack.length;te.nsStack.forEach((function(e,t){var n=e.slide.el;t===r-1?(pt.addClass(n,"primary-slide"),pt.removeClass(n,"secondary-slide")):(pt.removeClass(n,"primary-slide"),pt.addClass(n,"secondary-slide"))})),bt(),st.trigger(Xe,e)}(t)},f=function(e,n,r){if(e===t){var i=r?r.getWndBlockerBackground():"",o=te.getBlocker(e);null!=o&&(o.setBackgroundColor(i),o.setVisibility(n)),s.tabReachable=!n,s.updateTabIndex(!1)}};(null==s&&(te.addNameSpace(t),i=e[t](Re),r=_.flow(Ge("resize",(function(){i.resize(),st.trigger(et)})),DS.pubSub.addListener(DS.events.utilityWindow.DOCKED,(function(){i.resize(),st.trigger(et)}))),t===lt?Re.setLayout(Re.frame.default_layout,lt):i.all(),s=te.getNamespace(t),yt[t]=i,s.moveToTop=u,ct.isUnified&&(st.on(DS.events.frameModel.BLOCKED_CHANGED,f),st.on(DS.events.window.MAIN_CHANGED,(function(e,t){return f(t,!1)})))),u(),st.on(rt,(function e(){var t=function(){var e=[],t=te.getNamespace(lt).tabs.viewLogic.getSelectedTab();return t&&e.push(t.nameKey),_.each(te.getNamespace(lt).topTabs.children,(function(t){_.each(_.filter(t.children,"viewLogic.showing",!0),(function(t){return e.push(t.nameKey)}))})),e}();vt(te.getNamespace(lt)),i.destroy(),DS.pubSub.trigger(ot),te.nameSpaces[lt]=null,r(),st.off(rt,e),c.createWindow("_frame"),i.rerender(),t.forEach((function(e){st.trigger(it,e)}))})),null!=n)&&(null===(o=s.slide)||void 0===o||null===(a=o.viewLogic)||void 0===a||null===(l=a.setPromptId)||void 0===l||l.call(a,n));return{id:t,promptId:n,el:s.slide.el,wndEl:s.wrapper.el,captionEl:(s.captionContainer||{}).el,x:function(){return s.wrapper.x},y:function(){return s.wrapper.y},close:function(){s.zoomBounds=null,s.detach(),vt(s),te.nsStack[te.nsStack.length-1].moveToTop(),ut.reCenter()},moveToTop:u,getFocusReturner:function(){var e=document.activeElement;return s.wrapper.el.contains(e)&&!s.slide.el.contains(e)?function(){return!(!s.wrapper.el.contains(e)||-1===e.zIndex)&&(e.focus(),!0)}:function(){return!1}},getWinScale:function(){return s.slide.winScale||1},getPinchZoomBounds:function(){return s.slide.pinchZoomBounds},onPinchZoom:yt[t].pinchZoom?function(e){s.zoomBounds=e,yt[t].pinchZoom()}:function(){},onWndBlockedChanged:f}},getSidebarPosition:function(){return Re.sidebarOpts.sidebarPos},getDefaultLayout:function(){return Be.default_layout},getFonts:function(){return Be.fonts},getFontScale:function(){return Re.frame.fontscale},getCaptionData:function(){var e=Re.frame.controlOptions.controls,t={font:e.font,enabled:e.closed_captions},n=Re.frame.controlOptions.ccOptions||{};return t.font=n.font,t.size=n.size,t.placement=n.placement,t.backgroundColor=n.backgroundColor,t.color=n.color,t.text=n.text,t.textShadow=n.textShadow,t},getNavData:function(){return Re.frame.navData.outline.links},isReadOnlyOnce:function(){return Be.controlOptions.controls.readonlyOnce},topmostUnreachable:function(){return te.nsStack},setAllAccVisibility:function(e){_.forEach(te.nameSpaces,(function(t){var n=t.wrapper;e?n.el.removeAttribute("aria-hidden"):n.el.setAttribute("aria-hidden",!0)}))}},st.on(tt,bt),st.on(nt,(function(){bt(!1)})),ft.player=Ae},gt=function(){Ae.hasData=!0,st.trigger(Qe,Ae)},wt=10,St=20,kt=46;function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Ot(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Ot(o)?o:String(o)),r)}var i,o}var Et,xt=DS.utils,Tt=xt.scaleVal,Lt=xt.pxify,Pt=10,_t=function(e){return Lt(Tt(e,!1))},jt=function(e){return Lt(Tt(e))},Dt=function(e){return"scale(".concat(Tt(e,!1),")")},It=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=t}var t,n,r;return t=e,(n=[{key:"calcStyles",value:function(){return"\n      .cs-".concat(this.model.frame.default_layout,".cs-base {\n        border-width: ").concat(_t(1)," !important;\n      }\n\n      #frame {\n        border-radius: ").concat(jt(Pt),";\n      }\n\n      .btn {\n        border-radius: ").concat(_t(7),";\n      }\n\n      #nav-controls .btn svg,\n      #light-box-bottom .btn svg {\n        width: ").concat(jt(8),";\n        height: ").concat(jt(11),";\n      }\n\n      #reset svg {\n        width: ").concat(jt(18),";\n        height: ").concat(jt(16),";\n      }\n\n      .search-heading {\n        padding: ").concat(jt(Pt),";\n        margin: 0;\n        padding-bottom: ").concat(jt(12),";\n      }\n\n      #outline-search {\n        padding: ").concat(jt(Pt),'\n      }\n\n      .search input[type="search"] {\n        height: ').concat(jt(28),";\n        width: calc(100% - ").concat(jt(25),");\n        border-top-left-radius: ").concat(_t(4),";\n        border-bottom-left-radius: ").concat(_t(4),";\n      }\n\n      #outline-search button {\n        width: ").concat(jt(25),";\n        height: ").concat(jt(28),";\n        border-top-right-radius: ").concat(_t(4),";\n        border-bottom-right-radius: ").concat(_t(4),";\n      }\n\n      .icon-search {\n        width: ").concat(jt(14),";\n        height: ").concat(jt(14),";\n      }\n\n      #outline-content > ul {\n        padding: ").concat(jt(1)," ").concat(jt(3)," ").concat(jt(2),";\n      }\n\n      #outline-content svg {\n        width: ").concat(jt(20),";\n        height: ").concat(jt(20),";\n      }\n\n      .note-content, .note-title, #transcript-content hr,\n      .resources-content, .resources-title, #resources-content hr,\n      #search-results-content hr {\n        margin-left: ").concat(_t(Pt),";\n        margin-right: ").concat(_t(Pt),";\n      }\n\n      .resources-title, .note-title {\n        margin-top: ").concat(_t(Pt),";\n        margin-bottom: ").concat(_t(Pt),";\n      }\n\n      hr {\n        border-width: ").concat(_t(1),";\n        width: calc(100% - ").concat(_t(20),");\n      }\n\n      #transcript-content hr {\n        top: ").concat(_t(2),";\n      }\n\n      .glossary-title {\n        padding: ").concat(jt(Pt),";\n      }\n\n      .term button {\n        padding-top: ").concat(jt(7),";\n        padding-right: ").concat(jt(10),";\n        padding-bottom: ").concat(jt(7),";\n        padding-left: ").concat(jt(10),";\n      }\n\n      #captions {\n        border-radius: ").concat(_t(7),";\n      }\n\n      #captions svg {\n        width: ").concat(jt(22),";\n        height: ").concat(jt(18),";\n      }\n\n      #light-box-close svg {\n        width: ").concat(jt(10),";\n        height: ").concat(jt(10),";\n      }\n\n      .message-window {\n        border-width: ").concat(_t(1),";\n      }\n\n      .message-window-header {\n        padding-right: ").concat(jt(10),";\n        padding-left: ").concat(jt(10),";\n      }\n\n      .message-window-header hr {\n        right: ").concat(jt(10),";\n        left: ").concat(jt(10),";\n      }\n\n      .message-window-header hr + hr {\n        bottom: ").concat(jt(1),";\n      }\n\n      .volume-panel {\n        border-radius: ").concat(_t(7),"\n      }\n\n      .volume-panel .btn {\n        height: ").concat(_t(30),";\n      }\n\n      .volume-panel .slider-bar {\n        transform: ").concat(Dt(1),";\n      }\n\n      /* search results */\n      .icon-gear {\n        width: ").concat(_t(14),";\n        height: ").concat(_t(14),";\n      }\n\n      .search-results li div {\n        padding-left: ").concat(jt(20),";\n      }\n\n      .search-results {\n        padding: ").concat(jt(1)," ").concat(jt(3),";\n      }\n\n      .search-filter {\n        top: ").concat(_t(7),";\n        right: ").concat(_t(5),';\n      }\n\n      .search-options input[type="checkbox"] {\n        transform: ').concat(Dt(1),";\n      }\n\n      .search-options p {\n        margin-left: ").concat(jt(10),";\n        margin-right: ").concat(jt(10),";\n      }\n\n      .search-options label {\n        margin-left: ").concat(jt(10),";\n        margin-right: ").concat(jt(10),";\n      }\n\n      .search-content {\n        height: calc(100% - ").concat(_t(40),");\n      }\n\n      .search-clear {\n        padding: 0 ").concat(_t(8),";\n      }\n\n      .search-clear svg {\n        height: ").concat(_t(14),";\n        width: ").concat(_t(13),";\n      }\n\n      .search-options {\n        height: ").concat(_t(80),";\n      }\n\n      #light-box-bottom button {\n        height: ").concat(_t(28)," !important;\n      }\n\n    ")}},{key:"update",value:function(){null!=Et&&Et.parentNode.removeChild(Et),Et=document.createElement("style"),document.body.appendChild(Et),Et.innerHTML=this.calcStyles()}}])&&Ct(t.prototype,n),r&&Ct(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function At(e){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==At(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==At(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===At(o)?o:String(o)),r)}var i,o}var Bt,Mt=DS,Ht=Mt.dom,Nt=Mt._,Ft=Mt.pubSub,Vt=Mt.detection,Wt=Mt.frameWindow,Ut=Mt.globalEventHelper.addWindowListener,zt=Mt.events,Kt=zt.slide.HAS_MOUNTED,Gt=zt.frame.SCALE,qt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"show all"!==window.globals.scale&&(this.el=t.el,Nt.bindAll(this,"onResize"),this.removeListener=Ut("resize",this.onResize),Ft.once(Kt,this.onResize),DS.flagManager.playerSizeOption&&Ft.on(Gt,this.onResize))}var t,n,r;return t=e,(n=[{key:"onResize",value:function(){var e=document.body;DS.flagManager.playerSizeOption?Vt.theme.isUnified&&!Wt.isLocked||!(e.clientHeight<this.el.clientHeight||e.clientWidth<this.el.clientWidth)?Ht.removeClass(e,"has-scrollbar"):Ht.addClass(e,"has-scrollbar"):e.clientHeight<this.el.clientHeight||e.clientWidth<this.el.clientWidth?Ht.addClass(e,"has-scrollbar"):Ht.removeClass(e,"has-scrollbar")}},{key:"teardown",value:function(){null!=this.removeListener&&this.removeListener()}}])&&Rt(t.prototype,n),r&&Rt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Zt="wrapper",Qt=DS,Yt=Qt.utils.scaleVal,Xt=Qt.scaler;te.def(Zt,qt,(function(){var e=te.model,t=e.preso.display().width(),n=e.preso.display().height();return{attrs:{id:Zt,class:"cs-base cs-".concat(e.frame.default_layout," fn-").concat(e.frame.default_layout)},style:{fontSize:"".concat(Xt.getScaledFontSize(),"%")},w:t,h:n,origin:"0 0",dimScale:function(){return Xt.getScale()},html:function(){return'<div id="frame-overlay" style="z-index:'.concat(999,';"></div>')},x:function(){var e=Yt(t),n=e>window.innerWidth;return Math.max(0,n?0:Math.ceil((window.innerWidth-e)/2))},y:function(){var e=Yt(n),t=e>window.innerHeight;return Math.max(0,t?0:Math.ceil((window.innerHeight-e)/2))},updateHook:function(){this.el.style.fontSize="".concat(Xt.getScaledFontSize(),"%")},add:!0}}));var $t,Jt="-20px",en="-30px";var tn={setTooltipOn:function(e,t,n){var r,i,o=t.left,a=t.top,l=t.width,c=t.height;null==Bt&&(r=te.model,i=Se.getColor(DS.constants.refs.FRAME,".cs-button .cs-icon","fill"),(Bt=document.createElement("div")).id="tooltip",Bt.style.left=Jt,Bt.style.top=en,Bt.style.borderColor=i,Bt.classList.add("cs-base","cs-".concat(r.frame.default_layout)),document.getElementById("app-top").appendChild(Bt),Bt.addEventListener("mouseleave",tn.runObjHoverOut)),$t=e,Bt.style.display="block",Bt.innerText=n;var s=Bt.getBoundingClientRect().width,u=window.innerWidth,f=o+(l/2-s/2);f+s>=u-10?f=u-10-s:f<=10&&(f=10);var d=a-(c+10);d<=10&&(d=a+c+10),Bt.style.left="".concat(f,"px"),Bt.style.top="".concat(d,"px")},hideTooltip:function(e){null==Bt||null!=e&&e!==$t||(Bt.style.display="none",Bt.innerText="",Bt.style.left=0,$t=void 0)},updateTooltip:function(e,t){var n=Bt.getBoundingClientRect().width;Bt.innerText=t,Bt.style.left="".concat(e-n/2,"px")},runObjHoverOut:function(){null!=$t?$t.onHoverOut():tn.hideTooltip()}},nn=tn;function rn(e){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(e)}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==rn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===rn(o)?o:String(o)),r)}var i,o}var an=DS,ln=an.dom,cn=an.pubSub,sn=an.events,un=an._,fn=an.constants,dn=an.keyManager,hn=an.focusManager,pn=(an.flagManager,an.stringTabler),yn=an.detection,vn="click",bn=function(){return yn.deviceView.isUnifiedDesktop},mn=function(){function e(t){var n=this;for(var r in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.view=t,this.model=t.model,t.children)this[r+"El"]=t.children[r].el;DS.flagManager.localizationPlatform?(t.simpleView||(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),cn.on(sn.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),cn.on(sn.strings.UPDATE_STRINGS,(function(){return n.onStringsUpdated()}))):(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),cn.on(sn.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),bn()&&(un.bindAll(this,"onHoverIn","onHoverOut","onMainKeydown"),document.body.addEventListener("mouseenter",this.onHoverOut),this.el.addEventListener("mouseenter",this.onHoverIn),this.el.addEventListener("mouseleave",this.onHoverOut),this.hasTooltip&&this.el.addEventListener("mouseup",this.onHoverOut),document.addEventListener("keydown",this.onMainKeydown))}var t,n,r;return t=e,(n=[{key:"onClick",value:function(e){this.el.addEventListener(vn,e.bind(this))}},{key:"onClickEl",value:function(e,t){e.addEventListener(vn,t.bind(this))}},{key:"on",value:function(e,t){this.el.addEventListener(e,t.bind(this))}},{key:"getViewBox",value:function(){return this.view.getBox()}},{key:"onFocus",value:function(e){var t=this.getViewBox(),n=t.x,r=t.y,i=t.w,o=t.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(n-=window.scrollX,r-=window.scrollY),hn.setFocusRectOn(this.el,{left:n,top:r,width:i,height:o}),this.onHoverIn(e),this.hasFocus=!0}},{key:"onBlur",value:function(e){hn.takeFocusOff(),this.onHoverOut(e),this.hasFocus=!1}},{key:"getTooltipString",value:function(){return pn.getString(this.tooltipKey)}},{key:"onHoverIn",value:function(e){var t=this;if(bn()&&this.hasTooltip&&(null==this.hideTooltipWhenOpen||!this.isOpen)){var n=this.getTooltipString(e);if(null==n&&"seek"===this.view.nameKey)return void setTimeout((function(){return t.onHoverIn(e)}),200);nn.hideTooltip();var r=this.getViewBox(e),i=r.x,o=r.y,a=r.w,l=r.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(i-=window.scrollX,o-=window.scrollY),nn.setTooltipOn(this,{left:i,top:o,width:a,height:l},n),this.tooltipMoves&&this.setForFollowMouse(),this.tooltipOn=!0}}},{key:"dismissTooltip",value:function(){nn.hideTooltip(this),this.tooltipMoves&&this.stopFollowMouse(),this.tooltipOn=!1}},{key:"onHoverOut",value:function(){var e=this;bn()&&this.hasTooltip&&this.tooltipOn&&setTimeout((function(){var t=document.elementFromPoint(ln.mouseX,ln.mouseY);null!=t&&(e.el.contains(t)||"tooltip"===t.id||e.dismissTooltip())}),200)}},{key:"onMainKeydown",value:function(e){dn.isKey(e.which,fn.keys.ESCAPE)&&(e.stopPropagation(),this.dismissTooltip())}},{key:"teardown",value:function(){cn.off(sn.frameModel.LAYOUT_CHANGED,this.onLayoutChange),yn.deviceView.isUnifiedDesktop&&(document.body.removeEventListener("mouseenter",this.onHoverOut),this.el.removeEventListener("mouseenter",this.onHoverIn),this.el.removeEventListener("mouseleave",this.onHoverOut),this.el.removeEventListener("mousedown",this.dismissTooltip),document.removeEventListener("keydown",this.onMainKeydown),this.tooltipOn&&(this.onHoverOut(),this.tooltipMoves&&this.stopFollowMouse()))}},{key:"onLayoutChange",value:function(){}},{key:"onStringsUpdated",value:function(){this.view.updateStrings()}}])&&on(t.prototype,n),r&&on(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function gn(e){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==gn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===gn(o)?o:String(o)),r)}var i,o}function Sn(e,t){return Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sn(e,t)}function kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=On(e);if(t){var i=On(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===gn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function On(e){return On=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},On(e)}var Cn="frame",En=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sn(e,t)}(o,e);var t,n,r,i=kn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).onScroll=function(e){e.preventDefault(),t.el.scrollTop=0,t.el.scrollLeft=0},t.el.addEventListener("scroll",t.onScroll),t}return t=o,(n=[{key:"teardown",value:function(){this.el.removeEventListener("scroll",this.onScroll)}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&wn(t.prototype,n),r&&wn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn);function xn(e){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(e)}function Tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==xn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===xn(o)?o:String(o)),r)}var i,o}function Ln(e,t){return Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ln(e,t)}function Pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jn(e);if(t){var i=jn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===xn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _n(e)}(this,n)}}function _n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jn(e){return jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jn(e)}te.def(Cn,En,(function(){var e=te.model;return{attrs:{id:Cn,class:"cs-base cs-".concat(e.frame.default_layout," fn-").concat(e.frame.default_layout)},w:"100%",h:"100%"}}));var Dn,In,An=DS,Rn=An.detection,Bn=An.events,Mn=An.pubSub,Hn=function(){return document.getElementById("app-top")||document.body},Nn=DS.utils.pxify,Fn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ln(e,t)}(o,e);var t,n,r,i=Pn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).visualNode=function(){var e=document.createElement("div");e.className="skipnav transparent";var t=function(){e.innerText=te.model.getString("acc_skipnavigation"),Hn().appendChild(e),window.requestAnimationFrame((function(){In=e.clientHeight,Dn=e.clientWidth,e.className="skipnav",null!=e.parentNode&&e.parentNode.removeChild(e)}))};return Mn.on(Bn.strings.UPDATE_STRINGS,(function(){t()})),t(),e}(),DS._.bindAll(_n(t),"onButtonClick"),t.onClick(t.onButtonClick),t}return t=o,n=[{key:"onFocus",value:function(){if(!Rn.device.isMobile){DS.focusManager.takeFocusOff();var e=te.getTopNameSpace().slide;if(DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop)Object.assign(this.visualNode.style,{right:"".concat(50,"px"),bottom:"".concat(50,"px")}),e.el.querySelector(".slide-container").style.opacity=.6,e.el.append(this.visualNode);else{var t=e.getBox(),n=t.x,r=t.y,i=t.w,o=t.h;Object.assign(this.visualNode.style,{top:Nn(r+o-In-50),left:Nn(n+i-Dn-50)}),e.el.style.opacity=.6,Hn().appendChild(this.visualNode)}this.visualNode.classList.add("focused"),Mn.trigger(Bn.skipNav.FOCUSED)}}},{key:"onBlur",value:function(){var e=te.getTopNameSpace().slide,t=this.visualNode.parentNode;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop?e.el.querySelector(".slide-container").style.opacity=1:e.el.style.opacity=1,this.visualNode.classList.remove("focused"),null!=t&&t.removeChild(this.visualNode)}},{key:"onButtonClick",value:function(e){this.el.focus(),setTimeout((function(){DS.focusManager.onSlideStarted(null,DS.windowManager.getCurrentWindowSlide())}),100)}}],n&&Tn(t.prototype,n),r&&Tn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),Vn=Fn,Wn="skipnav";function Un(e){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(e)}function zn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Un(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Un(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Un(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}te.def(Wn,Vn,(function(){var e=te.model,t=e.getString("acc_skipnavigation");return{tag:"button",ariaStringId:"acc_skipnavigation",attrs:{id:Wn,"aria-label":t,tabindex:0},visible:e.sidebarOpts.sidebarEnabled,x:-100,y:-100,w:1,h:1,html:t,methods:{updateDomStrings:function(){this.el.textContent=e.getString("acc_skipnavigation")}}}}));var Kn=DS,Gn=Kn._,qn=Kn.pubSub,Zn=Kn.events,Qn=Kn.detection,Yn=Kn.constants.MOBILE_UI_SIZE,Xn="top ".concat(150,"ms ease-in-out");function $n(e){return $n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$n(e)}function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==$n(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===$n(o)?o:String(o)),r)}var i,o}function er(e,t){return er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},er(e,t)}function tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rr(e);if(t){var i=rr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===$n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nr(e)}(this,n)}}function nr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rr(e){return rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rr(e)}var ir=DS,or=ir.pubSub,ar=ir.events,lr=ir._,cr=ir.utils,sr=(ir.flagManager,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&er(e,t)}(o,e);var t,n,r,i=tr(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),lr.bindAll(nr(t),"onSlideChange","onAriaToggle"),or.on(ar.slide.HAS_MOUNTED,t.onSlideChange),or.on(ar.slide.ARIA_TOGGLE,t.onAriaToggle);var n=function(){return t.el.scrollTop=0};return t.el.addEventListener("scroll",n),t.removeScrollListener=function(){t.el.removeEventListener("scroll",n)},t.teardownPushableSlide=function(e){var t;if(!Qn.deviceView.isPhone)return Gn.noop;function n(){e.view.el.style.transition=null,e.view.el.style.top="0px"}function r(t){e.view.el.style.transition=Xn;var n=.45*window.innerHeight-10,r=-(e.view.bottom()-n),i=e.view.y+r,o=0;i<Yn&&Qn.theme.isUnified?o=Yn-i+10:i<0&&(o=-1*i+10),e.view.el.style.top="".concat(r+o,"px")}function i(){e.view.el.style.transition=Xn,e.view.el.style.top="".concat(0,"px")}return qn.on((zn(t={},Zn.threeSixtyImage.UN_PUSH_LABEL,n),zn(t,Zn.threeSixtyImage.PUSH_UP_BY_LABEL,r),zn(t,Zn.threeSixtyImage.PUSH_DOWN_BY_LABEL,i),t)),function(){n(),qn.off(Zn.threeSixtyImage.UN_PUSH_LABEL,n),qn.off(Zn.threeSixtyImage.PUSH_UP_BY_LABEL,r),qn.off(Zn.threeSixtyImage.PUSH_DOWN_BY_LABEL,i)}}(nr(t)),t}return t=o,(n=[{key:"onAriaToggle",value:function(e){e.hidden?(this.el.setAttribute("aria-hidden",!0),this.el.setAttribute("tabindex",0)):(this.el.removeAttribute("aria-hidden"),this.el.removeAttribute("tabindex"))}},{key:"teardown",value:function(){or.off(ar.slide.HAS_MOUNTED,this.onSlideChange),this.teardownPushableSlide(),null!=this.removeScrollListener&&this.removeScrollListener()}},{key:"onSlideChange",value:function(e){null!=this.labelEl&&this.view.nameSpace===e.props.windowId&&(this.labelEl.textContent="".concat(te.model.getString("slide"),": ").concat(cr.stripTags(e.props.model.title())))}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&Jn(t.prototype,n),r&&Jn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn)),ur="slide";te.def(ur,sr,(function(e){var t=te.getNamespace(e),n=t.frame,r=t.sidebar,i=(t.title,te.model);return{attrs:{id:ur},winScale:function(){return DS.scaler.getScale()},origin:"0 0",w:i.slideWidth,h:i.slideHeight,x:function(){var e=0,t=0;return"left"===r.pos&&(t=r.w),e=r.visible?n.x+t+wt:n.x+n.w/2-this.w/2,e-1},y:function(){var e=n.y+wt;return te.model.hasTopLinks()&&(e+=24),(i.sidebarOpts.titleEnabled||i.sidebarOpts.timeEnabled)&&(e+=23),e},add:!0,html:'<div id="slide-label" data-ref="label" aria-live="polite"></div><main class="slide-container" data-ref="container" aria-live="off" tabindex="-1"></main>',noContent:!0,childViews:["captionContainer"],updateHook:function(){this.children.captionContainer.update()}}}));var fr,dr="logo",hr=DS.utils.scaleVal;te.def(dr,(function(e){var t=te.model,n=te.getNamespace(e).sidebar,r=t.sidebarOpts.html5_logo_url,i=t.sidebarOpts.logoPlaceholderText,o=200,a=150;return{id:dr,attrs:{class:null!=i?"placeholder":"logo cs-logo"},x:function(){return wt},y:wt,w:o+St,h:function(){return(null!=fr&&r===fr.imgSrc?fr.imgH:a)+St},html:function(){var e=this;if(null!=i){var t=document.createElement("div");t.className="placeholder-text",t.style.fontSize="2.5em",t.innerText=i,this.el.appendChild(t)}else{this.img=document.createElement("img"),this.img.onload=function(){o=Math.min(e.img.naturalWidth,200),a=e.img.naturalHeight/e.img.naturalWidth*o,fr={imgW:o,imgH:a,imgSrc:r},e.img.width=hr(o),e.img.onload=null,n.updateChildren(!0)};var l=DS.utils.resolveAssetUrl(r);this.img.src=l,this.el.appendChild(this.img)}},updateHook:function(){null!=this.img&&(this.img.width=hr(o))},visible:t.sidebarOpts.logoEnabled}}));var pr="sidebar";te.def(pr,(function(e){var t=te.model,n=te.getNamespace(e).frame;return{tag:"section",attrs:{id:pr,class:"cs-left","aria-label":"sidebar"},style:{zIndex:1},maxW:400,visible:t.sidebarOpts.sidebarEnabled,pos:t.sidebarOpts.sidebarPos,x:function(){var e=0;return"right"===this.pos&&(e=n.w-this.w),e},w:function(){return this.visible?240:0},h:"100%"}}));var yr="topBar";te.def(yr,(function(e){var t=te.getNamespace(e),n=t.sidebar,r=t.frame,i=t.title,o=te.model;return{tag:"section",noTabIndex:!0,attrs:{id:yr,"aria-label":"top bar"},overflow:"visible",x:function(){return"left"===n.pos?n.right():0},w:function(){return r.w-n.w-wt},h:function(){var e=0;return i.visible||o.sidebarOpts.timeEnabled?e=58:o.hasTopLinks()&&(e=34),e},y:0}}));var vr="title";function br(e){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(e)}function mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xr(r.key),r)}}function Sr(e,t){return Sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sr(e,t)}function kr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cr(e);if(t){var i=Cr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===br(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Or(e)}(this,n)}}function Or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cr(e){return Cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cr(e)}function Er(e,t,n){return(t=xr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xr(e){var t=function(e,t){if("object"!==br(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==br(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===br(t)?t:String(t)}te.def(vr,(function(e){var t=te.model,n=te.model.rtl,r=te.getNamespace(e),i=r.timer,o=r.linksLeft,a=r.linksRight;return{id:vr,tag:"h1",attrs:{class:"presentation-title cs-title ".concat(n?"rtl":""),tabindex:-1},x:n?0:16,y:function(){return(t.hasTopLinks()?8:0)-1},calcTextSize:!0,w:function(){var e=n?5:-10;return this.parent.w-(t.sidebarOpts.timeEnabled?i.w:0)-this.x+e},h:function(){return this.parent.h-16},html:t.title.text,visible:t.sidebarOpts.titleEnabled,updateHook:function(){var e="remove";if(!((n?t.topTabsRight:t.topTabsLeft).length>0)){(n?o:a).calcChildrensWidth((function(e){return"TabPanel"!==e.ViewLogic.name}))+this.lastWidthByText<this.parent.w&&(e="add")}this.el.classList[e]("centered")}}}));var Tr=DS,Lr=Tr.detection,Pr=Tr.events,_r=Tr.pubSub,jr=Tr.svgUtils,Dr=Tr._.bindAll,Ir={remaining:function(e,t){return DS.utils.formatSecondsAsTime(t-e,!0)},totalelapsed:function(e,t){return[e,t].map((function(e){return DS.utils.formatSecondsAsTime(e,!0)})).join(" / ")},elapsed:function(e){return DS.utils.formatSecondsAsTime(e,!0)},none:function(){return""}},Ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sr(e,t)}(o,e);var t,n,r,i=kr(o);function o(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Er(Or(n=i.call(this,e)),"updateReadeableTimer",(function(){n.timerTextReadEl.innerHTML=n.timerTextEl.innerHTML})),Dr(Or(n),"onShow","onHide","onTick"),_r.on((Er(t={},Pr.timer.SHOW,n.onShow),Er(t,Pr.timer.HIDE,n.onHide),t)),n.timeFormat=n.getTimeFormat(),n.isPieProgress=Lr.theme.isUnified,n}return t=o,n=[{key:"getTimeFormat",value:function(){if(!Lr.deviceView.isClassicMobile){var e=te.model.sidebarOpts.timeFormat;if(e&&null!=Ir[e.toLowerCase()])return e.toLowerCase();if(!te.model.sidebarOpts.timeEnabled)return"none"}return"remaining"}},{key:"teardown",value:function(){var e;_r.off((Er(e={},Pr.timer.SHOW,this.onShow),Er(e,Pr.timer.HIDE,this.onHide),e))}},{key:"onTick",value:function(e,t,n){if(this.view.children.timerText.el.innerHTML=Ir[this.timeFormat](t,n),!Lr.deviceView.isClassicMobile){var r=jr.wheelPath(9,9,9,0,360*(1-e),this.isPieProgress);this.view.children.timerPath.el.setAttributeNS(null,"d",r)}}},{key:"onShow",value:function(e){null!=this.currentTimer&&this.onHide(),this.currentTimer=e,this.currentTimer.on("tick",this.onTick),Lr.deviceView.isDesktop&&(requestAnimationFrame(this.updateReadeableTimer),this.timeReadId=setInterval(this.updateReadeableTimer,7e3)),this.toggleVisibility(!0),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.SHOWN))}},{key:"onHide",value:function(){null!=this.currentTimer&&(this.currentTimer.off("tick",this.onTick),this.currentTimer=null,Lr.deviceView.isDesktop&&clearTimeout(this.timeReadId),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.HIDDEN))),this.toggleVisibility(!1)}},{key:"toggleVisibility",value:function(e){var t=mr(e?["add","remove"]:["remove","add"],2),n=t[0],r=t[1];document.body.classList[n]("timer-shown"),this.el.classList[r]("hidden"),this.el.classList[n]("shown"),this.view.setVisibility(e),this.view.parent.updateChildren(!0)}},{key:"onFocus",value:function(){var e=this.view.children.timerText.el.getBoundingClientRect(),t=e.left,n=e.top,r=e.width,i=e.height;t-=8,n-=8,r+=37,i+=12,DS.focusManager.setFocusRectOn(this.el,{left:t,top:n,width:r,height:i})}}],n&&wr(t.prototype,n),r&&wr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),Rr=Ar,Br="timer";function Mr(e){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mr(e)}function Hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Mr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Mr(o)?o:String(o)),r)}var i,o}function Vr(){return Vr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Vr.apply(this,arguments)}function Wr(e,t){return Wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wr(e,t)}function Ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kr(e);if(t){var i=Kr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Mr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zr(e)}(this,n)}}function zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kr(e){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kr(e)}te.def(Br,Rr,(function(e){return{noTabIndex:!0,attrs:{id:Br,"aria-label":"timer",class:"timer cs-timer"},overflow:"visible",x:function(){return te.getNamespace(e).topBar.w-210},y:6,w:200,h:kt,visible:!1,html:'\n      <div class="timer-wheel cs-pie">\n        <svg\n          style="width: 18px; height: 18px; overflow: visible;"\n          width="18"\n          height="18"\n          xmlns:xlink="http://www.w3.org/1999/xlink"\n          focusable="false"\n        >\n        <circle cx="9" cy="9" r="9" fill="url(#timer-yellow-grad)" />\n        <path data-ref="timerPath"\n          d=""\n          fill="url(#timer-blue-grad)"\n          transform="rotate(-90 9 9)"\n          stroke="none" />\n\n          <circle cx="9" cy="9" r="10" fill="none" class="cs-innerstroke" stroke-width="1"/>\n          <circle cx="9" cy="9" r="9" fill="none" class="cs-innerborder" stroke-width="1"/>\n        </svg>\n      </div>\n      <div class="timer-text" data-ref=\'timerText\' tabindex=\'0\' data-tabindex=\'0\'></div>\n    '}}));var Gr=DS,qr=Gr._,Zr=Gr.keyManager,Qr=Gr.focusManager,Yr=Gr.windowManager,Xr=Gr.pubSub,$r=Gr.events,Jr=Gr.detection,ei=Gr.globalEventHelper,ti=ei.addBodyListener,ni=ei.removeBodyListener,ri=ei.addWindowListener,ii=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wr(e,t)}(o,e);var t,n,r,i=Ur(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),qr.bindAll(zr(t),"onKeydown","onResizeRefresh"),t.active=[],Xr.on($r.sidebar.ACTIVE_TAB_SET,t.onActiveTabSet.bind(zr(t))),DS.flagManager.localizationPlatform&&Xr.on($r.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(zr(t))),Jr.theme.isUnified&&(t.removeResize=ri("resize",t.onResizeRefresh)),t}return t=o,(n=[{key:"onResizeRefresh",value:function(){var e=this;clearTimeout(this.forceRefresh),this.forceRefresh=setTimeout((function(){e.view.update()}),200)}},{key:"onShowTabItem",value:function(e,t){var n=this.view.children.find((function(t){return t.nameKey.includes(e)}));null!=n?(n.viewLogic.showPanel(),Xr.trigger($r.sidebar.OPEN)):document.body.classList.contains("floating-sidebar")&&Xr.trigger($r.sidebar.CLOSE)}},{key:"onActiveTabSet",value:function(e){var t=this.view.children.find((function(t){return t.nameKey.includes(e)}));null!=t&&t.viewLogic.showPanel()}},{key:"onLayoutChange",value:function(e){var t=this;if(null!=te.model&&0!==this.view.children.length){var n=(te.model.sidebarTabs||[]).reduce((function(n,r){var i=r.name,o=e[i],a="".concat(i,"Tab");return(qr.isObject(o)?!0===o.enabled:!0===o)&&null!=t.view.children[a]&&n.push(t.view.children[a]),n}),[]);if(this.view.children.forEach((function(e){e.el.setAttribute("aria-selected",!1),e.el.tabIndex=-1})),0===this.active.length&&n.length>0||!n.includes(this.currentTab)){var r=Hr(n,1)[0];this.currentTab=r}if(null!=this.currentTab){this.currentTab.el.setAttribute("aria-selected",!0);var i=Yr.getCurrentWindow();null!=i&&null!=i.getId&&"_frame"!==i.getId()||(this.currentTab.el.tabIndex=0)}this.active=n}}},{key:"onFocus",value:function(e){this.isFocused||(this.isFocused=!0,this.getInitialActive().setCurrent(),ti("keydown",this.onKeydown))}},{key:"onBlur",value:function(e){this.el.contains(e.relatedTarget)||(this.isFocused=!1,Vr(Kr(o.prototype),"onBlur",this).call(this),ni("keydown",this.onKeydown))}},{key:"onKeydown",value:function(e){var t=this.currentTab;Zr.isActionKey(e.which)?(this.activeTab=this.currentTab,this.activateTab()):Zr.isRightKey(e.which)?this.currentTab=this.getNextTab(this.currentTab.model.idx):Zr.isLeftKey(e.which)?this.currentTab=this.getPrevTab(this.currentTab.model.idx):Zr.isHomeKey(e.which)?this.currentTab=this.getFirstTab():Zr.isEndKey(e.which)&&(this.currentTab=this.getLastTab()),t!==this.currentTab&&(null!=t&&(t.el.tabIndex=-1),this.setCurrent())}},{key:"activateTab",value:function(){null!=this.activeTab&&(qr.forEach(this.view.children,(function(e){return e.el.setAttribute("aria-selected",!1)})),this.activeTab.el.setAttribute("aria-selected",!0),this.activeTab.viewLogic.showPanel())}},{key:"setAsActive",value:function(e){this.activeTab=this.currentTab=e}},{key:"tabDidChangeVisibility",value:function(){this.view.visible&&(null!=this.activeTab&&this.activeTab.visible||(this.currentTab=this.activeTab=qr.first(this.getLiveChildren())),this.activateTab())}},{key:"setCurrent",value:function(){var e=this.currentTab;if(null!=e){e.el.tabIndex=0,e.el.focus();var t=e.getBox(),n=t.x,r=t.y,i=t.w,o=t.h;Qr.setFocusRectOn(e.el,{left:n,top:r,width:i,height:o})}}},{key:"getInitialActive",value:function(){return this.currentTab=this.activeTab=this.getLiveChildren().find((function(e){return e.el===document.activeElement})),this}},{key:"getNextTab",value:function(e){var t=this.getLiveChildren(),n=t.findIndex((function(t){return t.model.idx===e}))+1;return n===t.length&&(n=0),t[n]}},{key:"getPrevTab",value:function(e){var t=this.getLiveChildren(),n=t.findIndex((function(t){return t.model.idx===e}))-1;return-1===n&&(n=t.length-1),t[n]}},{key:"getFirstTab",value:function(){return this.view.children.find((function(e){return e.viewLogic.isLive()}))}},{key:"getLastTab",value:function(){return this.view.children.slice().reverse().find((function(e){return e.viewLogic.isLive()}))}},{key:"getLiveChildren",value:function(){return this.view.children.filter((function(e){return e.viewLogic.isLive()}))}},{key:"getSelectedTab",value:function(){return this.view.children.find((function(e){return!0===e.viewLogic.isActive}))}},{key:"teardown",value:function(){Xr.off($r.sidebar.ACTIVE_TAB_SET),o.lastSelectedTab=this.getSelectedTab(),null!=this.removeResize&&this.removeResize()}}])&&Fr(t.prototype,n),r&&Fr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn);function oi(e){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oi(e)}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==oi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==oi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===oi(o)?o:String(o)),r)}var i,o}function li(e,t){return li=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},li(e,t)}function ci(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=si(e);if(t){var i=si(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===oi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function si(e){return si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},si(e)}var ui=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&li(e,t)}(o,e);var t,n,r,i=ci(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).searchEnabled=te.model.frame.controlOptions.controls.search,t.onClick(t.showPanel),t}return t=o,(n=[{key:"didChangeVisibility",value:function(e){this.view.parent.viewLogic.tabDidChangeVisibility()}},{key:"showPanel",value:function(e){if(!this.isActive){var t=this.view.parent,n=t.children;for(var r in n)n[r].viewLogic.hidePanel();this.el.classList.add("cs-selected"),this.el.setAttribute("aria-selected","true"),this.isActive=!0,t.viewLogic.setAsActive(this.view),DS.pubSub.trigger(DS.events.tab.SHOW,this.model.name)}}},{key:"hidePanel",value:function(){this.el.classList.remove("cs-selected"),this.el.setAttribute("aria-selected","false"),this.isActive=!1}},{key:"isLive",value:function(){var e=te.model.currControlLayout[this.model.name];return _.isObject(e)?e.enabled:e}}])&&ai(t.prototype,n),r&&ai(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),fi="tabs",di=DS,hi=di._,pi=di.utils,yi=pi.getPath,vi=pi.scaleVal,bi=pi.pxify,mi=di.constants.refs.FRAME,gi=(te.def(fi,ii,(function(e){var t=te.getNamespace(e),n=t.sidebar,r=t.logo,i=te.model.rtl;return{attrs:{id:fi,role:"tablist",tabindex:-1,"aria-label":"sidebar-tabs"},overflow:"visible",x:9,y:function(){return(r?r.bottom():0)+wt-1},w:function(){return n.w-St},h:function(){return hi.get(this,"children[0].h",25)},updateHook:function(){var e=this,t=this.children.length;if(0!==t){var n=t<=2,r=this.children.reduce((function(e,t){return t.lastWidthByText+e}),0),o=this.w-8*(t-1),a=(this.w-r)/t,l=this.w/t;if(n&&o>r||!n&&this.w>r){var c=0;this.children.forEach((function(r,i){var o=n?8:0,l=Math.round(r.lastWidthByText+(n?8:a))-o;n||i!==t-1||(l=e.w-c),r.width=l,c+=l}))}else{this.children.slice().sort((function(e,t){return e.lastWidthByText-t.lastWidthByText})).forEach((function(e,n){var r=e.lastWidthByText;r<l?(e.width=r,l+=(l-r)/(t-(n+1))):e.width=l}))}}var s={};i&&(s.toLeft=!0,s.startPos=this.w),this.flowChildren(s)},childDef:function(){gi(te.model)}}})),function(e){var t=!1;yi(e,"sidebarTabs",[]).forEach((function(n,r){var i=function(e,t,n,r){var i=t.name,o=e.getString(i),a=e.currControlLayout[i],l=!r&&(hi.isObject(a)?a.enabled:a),c=i+"Tab",s=te.def(c,ui,{model:Object.assign(t,{idx:n}),tag:"button",attrs:{id:c,class:"tab cs-tabs ".concat(l?"cs-selected":""),role:"tab","aria-selected":l?"true":"false","aria-label":o,"aria-controls":"".concat(i,"-panel"),tabindex:0===n?0:-1},style:{borderTopLeftRadius:bi(vi(6)),borderTopRightRadius:bi(vi(6))},calcTextSize:!0,w:function(){return this.width||this.lastWidthByText+St},padLeft:6,padRight:6,noUpdate:!0,h:function(){return this.lastHeightByText||26},html:o,updateHook:function(){this.el.style.borderTopLeftRadius=this.el.style.borderTopRightRadius=bi(vi(6))}});return s.init(),te.getNamespace(mi).tabs.append(s),l}(e,n,r,t);t=i||t}))});function wi(e){return wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wi(e)}function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==wi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===wi(o)?o:String(o)),r)}var i,o}function ki(){return ki="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xi(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ki.apply(this,arguments)}function Oi(e,t){return Oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oi(e,t)}function Ci(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xi(e);if(t){var i=xi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===wi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ei(e)}(this,n)}}function Ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xi(e){return xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xi(e)}var Ti=DS,Li=Ti._,Pi=Ti.pubSub,_i=Ti.detection,ji=Ti.globalEventHelper,Di=(ji.addDocumentListener,ji.removeDocumentListener,Ti.keyManager.isTabKey,Ti.playerGlobals),Ii=Ti.utils,Ai=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oi(e,t)}(o,e);var t,n,r,i=Ci(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),Li.bindAll(Ei(t),"onShow"),Pi.on(DS.events.tab.SHOW,t.onShow),t}return t=o,(n=[{key:"getFirstChild",value:function(){return Li.first(this.view.children)}},{key:"focusChild",value:function(){this.getFirstChild().viewLogic.focusSelf()}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(e){if(!Di.presentation.isPreview()||window.globals.HAS_SLIDE)if(DS.flagManager.localizationPlatform){var t=Ii.getPath(this,this.view.lnk);_i.deviceView.isDesktop&&null!=t&&!t.translationShown&&this.isTargetOutsidePanel(e.relatedTarget)&&(ki(xi(o.prototype),"onBlur",this).call(this,e),t.viewLogic.hidePanel())}else _i.deviceView.isDesktop&&null!=this.view.lnk&&this.isTargetOutsidePanel(e.relatedTarget)&&(ki(xi(o.prototype),"onBlur",this).call(this,e),this.view.lnk.viewLogic.hidePanel())}},{key:"isTargetOutsidePanel",value:function(e){return null==e||!this.el.contains(e)&&Li.camelCase(e.id)!==this.view.lnk.nameKey&&Li.camelCase(e.parentElement.id)!==this.view.lnk.nameKey}},{key:"onShow",value:function(e){var t="".concat(e,"Panel");if(this.view.nameKey===t){var n=this.view.parent.children,r=this.getFirstChild();for(var i in n)i.indexOf("Panel")>-1&&n[i].viewLogic.onHide();this.el.style.display="block",null!=r.onPanelVisible&&r.onPanelVisible()}}},{key:"onHide",value:function(){this.el.style.display="none"}},{key:"isTopLink",value:function(){return null!=this.view.tabsId}},{key:"getTopTabsView",value:function(){return this.view.lnk.parent.parent}},{key:"teardown",value:function(){Pi.off(DS.events.tab.SHOW,this.onShow)}}])&&Si(t.prototype,n),r&&Si(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn);function Ri(e){return Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ri(e)}function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Ri(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ri(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Ri(o)?o:String(o)),r)}var i,o}function Mi(e,t){return Mi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mi(e,t)}function Hi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ni(e);if(t){var i=Ni(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ri(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ni(e){return Ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ni(e)}var Fi=DS.detection,Vi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mi(e,t)}(o,e);var t,n,r,i=Hi(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return t=o,n=[{key:"focusSelf",value:function(){var e=this.view.children,t=e.search,n=e.outline;if(null!=t){var r=t.viewLogic.searchInputEl;Fi.deviceView.isUnifiedMobile?(r.style.pointerEvents="none",setTimeout((function(){r.style.pointerEvents="all"}),100)):r.focus()}else n.viewLogic.focusSelf()}},{key:"onFocus",value:function(){}}],n&&Bi(t.prototype,n),r&&Bi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),Wi=Vi;function Ui(e){return Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ui(e)}function zi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ki(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Ui(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ui(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Ui(o)?o:String(o)),r)}var i,o}function qi(e,t){return qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qi(e,t)}function Zi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yi(e);if(t){var i=Yi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ui(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qi(e)}(this,n)}}function Qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yi(e){return Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yi(e)}var Xi=DS,$i=Xi.pubSub,Ji=Xi.events,eo=Xi.TweenLite,to=Xi.focusManager,no=Xi._.bindAll,ro=Xi.dom.addClass,io=Xi.detection,oo=!1,ao=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qi(e,t)}(o,e);var t,n,r,i=Zi(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=(t=i.call(this,e)).view.children.searchForm.el,r=t.view.children.searchInput.el;return n.addEventListener("submit",t.onSearch.bind(Qi(t))),io.deviceView.isMobile&&(no(Qi(t),"onMobileOutlineShown"),r.addEventListener("input",t.onSearch.bind(Qi(t))),$i.on(Ji.mobile.OUTLINE_SHOWN,t.onMobileOutlineShown)),t.ensureEventSubscriptions(),t}return t=o,n=[{key:"teardown",value:function(){$i.off(Ji.mobile.OUTLINE_SHOWN,this.onMobileOutlineShown),$i.off(Ji.controlOptions.RESET,this.onControlOptionsReset,this),oo=!1}},{key:"ensureEventSubscriptions",value:function(){oo||($i.on(Ji.controlOptions.RESET,this.onControlOptionsReset,this),oo=!0)}},{key:"onControlOptionsReset",value:function(){this.view.updateHtml(),this.view.update()}},{key:"onMobileOutlineShown",value:function(){document.getElementById("outline-panel").appendChild(this.el),ro(document.body,"tab-shown")}},{key:"onFocus",value:function(e){to.setFocusRectOn(this.view.el)}},{key:"onSearch",value:function(e){e.preventDefault();var t=this.view.parent.children.searchResults,n=this.view.children,r=n.bottomDiv,i=n.searchStatus,o=document.querySelector("#outline-content ul");eo.to(o,.2,{alpha:0,onComplete:function(){t.el.style.opacity=0,eo.to(t.el,.2,{alpha:1,onComplete:function(){return t.viewLogic.onAfterVisible()}}),r.el.style.opacity=0,t.setVisibility(!0)}});var a=t.viewLogic.performSearch(this.searchInputEl.value),l=zi(1===a?["acc_search_result_status","%count% result found for %term%"]:["acc_search_results_status","%count% results found for %term%"],2),c=l[0],s=l[1],u=DS.stringTabler.getString(c,{count:a,term:this.searchInputEl.value},s);i.el.textContent=u,ro(document.body,"search-results-active")}},{key:"updateVisibility",value:function(e){var t=this.view,n=t.searchResults,r=t.searchResults.visible,i=t.visible;this.view.setVisibility(e),n.setVisibility(e&&this.searchResultsOpen),i&&(this.searchResultsOpen=r)}}],n&&Gi(t.prototype,n),r&&Gi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),lo=ao,co=function(){return"no icon"},so={next:function(e){return'<svg class="cs-icon" width="8" height="11" viewBox="0 0 8 11" focusable="false" data-ref="icon">\n    <use xlink:href="#next-icon" class="cs-icon-shadow" transform="translate(0, 1)" />\n    <polygon\n      id="next-icon"\n      transform="translate(0, 1)"\n      points="2.7,0 0,1.7 3,5 0.3,8.3 3,10 7,5" />\n  </svg>'},prev:function(e){return'<svg class="cs-icon" width="8" height="11" viewBox="0 0 8 11" focusable="false" data-ref="icon">\n    <use xlink:href="#prev-icon" class="cs-icon-shadow" transform="translate(0, 1)"></use>\n    <polygon\n      id="prev-icon"\n      transform="translate(0, 1)"\n      points="0,5 4,10 7,8.3 4,5 7,1.7 4.3,0"/>\n  </svg>'},replay:function(e){return'<svg id="icon-replay" class="cs-icon" width="18" height="16" viewBox="0 0 18 16" focusable="false" data-ref="icon">\n    <use xlink:href="#replay-icon" class="cs-icon-shadow" transform="translate(0, 1.5)"></use>\n    <path id="replay-icon" transform="translate(-3, 1)" d="M9.2,15c4.1,0,7.4-3.1,7.7-7c0-0.2,0-0.4,0-0.5C17,3.3,13.5,0,9.2,0C5.7,0,2.6,2.8,1.8,6.1H0l2.6,2.9l3-2.9H3.7c0.6-2.5,2.8-4.3,5.5-4.3c3.3,0,5.9,2.5,5.9,5.7c0,0.2,0,0.4,0,0.5c-0.3,2.9-2.8,5.2-5.9,5.2c-2,0-3.7-0.9-4.8-2.5l-1.8,1.1C4,13.9,6.7,15,9.2,15z"/>\n  </svg>'},play:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:14;return'<svg id="icon-play" class="cs-icon play-icon" width="'.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,'" height="').concat(e,'" viewBox="0 0 11 14" focusable="false" data-ref="icon">\n    <use xlink:href="#play-icon" class="cs-icon-shadow" transform="translate(0, 1)" />\n    <path\n      id="play-icon"\n      transform="translate(3.5, 1)"\n      d="M1.3 0.1l8.3 5.2c0.5 0.3 0.5 1 0 1.3l-8.3 5.2c-0.5 0.3-1.3 0-1.3-0.7L0 0.8C0 0.3 0.7-0.2 1.3 0.1z" />\n  </svg>')},pause:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:14;return'<svg id="icon-pause" class="cs-icon pause-icon" width="'.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,'" height="').concat(e,'" viewBox="0 0 12 14" focusable="false" data-ref="icon">\n    <use xlink:href="#pause-icon" class="cs-icon-shadow" transform="translate(0, 1)" />\n    <g id="pause-icon" transform="translate(2, 1)">\n       <rect x="0" width="4" height="14"/>\n       <rect x="8" width="4" height="14"/>\n    </g>\n  </svg>')},volume:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=e>0?"":"hidden",r=e>=5?"":"hidden",i=10==e?"":"hidden";return'<svg class="cs-icon volume-icon" width="'.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,'" height="').concat(t,'" viewBox="0 0 15 20" focusable="false" data-ref="icon">\n    <use xlink:href="#player-volume" class="cs-icon-shadow" transform="translate(0, 1)" />\n    <g id="player-volume" transform="translate(-1, 4)">\n      <polygon points="4.3,10.7 0,10.7 0,4.3 4.3,4.3 8.6,0 8.6,15"/>\n      <rect class="').concat(n,'" x="10" y="5" width="1" height="6"/>\n      <rect class="').concat(r,'" x="12" y="4" width="1" height="8"/>\n      <rect class="').concat(i,'" x="14" y="3" width="1" height="10"/>\n    </g>\n  </svg>')},captions:function(){return'<svg\n    class="cs-icon caption-icon"\n    data-ref="icon"\n    width="22px" height="18px" viewBox="0 0 22 18"\n    focusable="false">\n    <g stroke="none" stroke-width="1" fill-rule="evenodd" transform="translate(0, 1)">\n      <path d="M14.8517422,14 L20.008845,14 C21.1103261,14 22,13.1019465 22,11.9941413 L22,2.00585866 C22,0.897060126 21.1085295,0 20.008845,0 L1.991155,0 C0.889673948,0 0,0.898053512 0,2.00585866 L0,11.9941413 C0,13.1029399 0.891470458,14 1.991155,14 L8.09084766,14 L11.4712949,17.3804472 L14.8517422,14 Z M3,4 L13,4 L13,6 L3,6 L3,4 Z M14,4 L19,4 L19,6 L14,6 L14,4 Z M19,8 L8,8 L8,10 L19,10 L19,8 Z M7,8 L3,8 L3,10 L7,10 L7,8 Z"></path>\n    </g>\n  </svg>'},carrot:function(e){return'<svg\n    style="left:calc('.concat(e,');"\n    class="cs-icon cs-icon-carrot carrot"\n    width="20" height="20" viewBox="-8 -6 20 20"\n    focusable="false">\n    <use xlink:href="#icon-carrot" class="cs-shadow" transform="translate(1, 0)"></use>\n    <polygon id="icon-carrot" points="1,1.5 5,5 1,8.5" transform="translate(0, 2)"></polygon>\n  </svg>')},search:function(){return'\n  <svg class="cs-icon icon-search" width="14" height="14" viewBox="0 0 14 14" focusable="false" data-ref="icon">\n    <path transform="translate(1,3)" d="M13.8,12.5l-3.6-3.6c0,0-0.1-0.1-0.1-0.1c0.6-0.9,1-2,1-3.2C11.1,2.5,8.6,0,5.5,0S0,2.5,0,5.6c0,3.1,2.5,5.6,5.5,5.6c1.2,0,2.4-0.4,3.3-1.1c0,0,0,0.1,0.1,0.1l3.6,3.6c0.3,0.3,0.8,0.3,1.1,0l0.2-0.2\n  C14.1,13.3,14.1,12.8,13.8,12.5z M5.5,9.5c-2.2,0-3.9-1.8-3.9-4c0-2.2,1.8-4,3.9-4c2.2,0,3.9,1.8,3.9,4C9.5,7.8,7.7,9.5,5.5,9.5z"/>\n  </svg>\n  '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false">\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>'},close:function(){return'<svg class="icon" width="10" height="10" viewBox="0 0 10 10" focusable="false" data-ref="icon">\n    <use xlink:href="#close-icon" class="cs-icon-shadow" transform="translate(0, .5)" />\' +\n    <path id="close-icon" d="M9,9.5L9,9.5c-0.5,0.5-1.3,0.5-1.8,0L4.9,7.3L2.6,9.6c-0.5,0.5-1.3,0.5-1.8,0l0,0c-0.5-0.5-0.5-1.3,0-1.8l2.3-2.3L0.8,3.3C0.3,2.8,0.3,2,0.9,1.4l0,0c0.5-0.5,1.3-0.5,1.8,0l2.3,2.3l2.3-2.3c0.5-0.5,1.3-0.5,1.8,0l0,0c0.5,0.5,0.5,1.3,0,1.8L6.7,5.5L9,7.7C9.5,8.2,9.5,9,9,9.5z"/>\n  </svg>'},clear:function(){return'<svg\n    data-ref="icon"\n    class="cs-icon icon-clear"\n    width="13" height="14" viewBox="0 0 13 14"\n    focusable="false">\n    <use xlink:href="#icon-clear" class="cs-icon-shadow" transform="translate(0, 1)" />\n    <path id="icon-clear" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>'},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return'\n    <svg class="cs-icon" data-ref="settings" width="'.concat(16*e,'px" height="').concat(18*e,'px" viewBox="0 0 16 18" focusable="false">\n      <g transform="translate(0, 2)">\n        <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n      </g>\n    </svg>\n    ')},track:function(e,t,n,r,i,o){return'\n      <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="'.concat(24*e,'px" height="').concat(16*e,'px" viewBox="0 0 24 16" focusable="false">\n        <defs>\n            <rect id="').concat(o,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n            <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(o,'-trackFilter">\n                <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n                <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n                <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n                <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n            </filter>\n        </defs>\n        <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="').concat(r,'" fill-rule="evenodd" xlink:href="#').concat(o,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(o,'-trackFilter)" xlink:href="#').concat(o,'-track"></use>\n                <use stroke="').concat(i,'" stroke-width="1" xlink:href="#').concat(o,'-track"></use>\n                <circle fill="').concat(n,'" cx="7" cy="8" r="5"></circle>\n            </g>\n        </g>\n        <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="').concat(r,'" fill-rule="evenodd" xlink:href="#').concat(o,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(o,'-trackFilter)" xlink:href="#').concat(o,'-track"></use>\n                <use stroke="').concat(i,'" stroke-width="1" xlink:href="#').concat(o,'-track"></use>\n                <circle fill="').concat(t,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n            </g>\n        </g>        \n    </svg>\n    ')},downArrow:function(e){return'\n      <svg class="panel-down-arrow" data-ref="arrow" width="22px" height="11px" viewBox="0 0 22 11" focusable="false">\n        <path d="M 0 0 L 11 11 22 0" fill="'.concat(e,'"/>\n      </svg>\n    ')}},uo=function(e){return so[e]||co},fo="search",ho=DS,po=ho.utils,yo=(po.pxify,po.scaleVal,ho.playerGlobals),vo=te.def(fo,lo,(function(){var e=te.model,t=te.getCurrentNameSpaceString(),n=function(){return Se.getColor(t,".cs-outline .cs-diva","border-color")},r=function(){return Se.getColor(t,".cs-outline .cs-divb","border-color")};return{attrs:{class:fo,"aria-label":e.getString("acc_search_input"),tabIndex:-1},z:3,x:0,y:function(){return this.parent.y+this.parent.h-48},w:function(){return this.parent.w},h:48,html:function(){return'\n      <div class="search-ui">\n        <div data-ref="bottomDiv">\n          <hr class="cs-diva diva" style="border-color: '.concat(n(),'">\n          <hr class="cs-divb divb" style="border-color: ').concat(r(),'">\n        </div>\n        <form id="outline-search" data-ref="searchForm" class="search-input cs-outlinesearch cs-searchinput" tabindex="-1">\n          <input class="cs-input" data-ref="searchInput" type="search" placeholder="').concat(e.getString("search"),'" tabindex="0">\n          <button\n            class="cs-button btn-unstyled" style="background-repeat: no-repeat;"\n            data-ref="searchBtn"\n            tabindex="-1"\n          >').concat(uo("search")(),"</button>\n        </form>\n      </div>")},updateHook:function(){yo.presentation.isPreview()&&(this.children.bottomDiv.el.querySelector("hr.cs-diva").style.borderColor=n(),this.children.bottomDiv.el.querySelector("hr.cs-divb").style.borderColor=r()),this.viewLogic.ensureEventSubscriptions()}}}));function bo(e){return bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(e)}function mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==bo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===bo(o)?o:String(o)),r)}var i,o}function go(){return go="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oo(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},go.apply(this,arguments)}function wo(e,t){return wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wo(e,t)}function So(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oo(e);if(t){var i=Oo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===bo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ko(e)}(this,n)}}function ko(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oo(e){return Oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oo(e)}var Co=DS,Eo=Co.focusManager,xo=Co.keyManager,To=Co.detection,Lo=Co.globalEventHelper,Po=Lo.addDocumentListener,_o=Lo.removeDocumentListener,jo=(Co.utils.getPath,Co.dom),Do=jo.parentNodesOf,Io=jo.addClass,Ao=jo.removeClass,Ro=Co._,Bo=Ro.first,Mo=Ro.last,Ho=Ro.bindAll,No=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wo(e,t)}(o,e);var t,n,r,i=So(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),Ho(ko(t),"onKeydown","addEvents","onClickItem"),t.addEvents(),t}return t=o,(n=[{key:"focusSelf",value:function(){this.hasListItems()&&this.getItems().find((function(e){return 0===e.tabIndex})).focus()}},{key:"addEvents",value:function(){var e=this;To.device.isMobile?(this.el.addEventListener("touchmove",(function(t){e.moved=!0})),this.onClick((function(t){e.moved||e.onClickItem(t),e.moved=!1}))):this.onClick(this.onClickItem)}},{key:"onClickItem",value:function(){}},{key:"onFocus",value:function(){var e=this.el.querySelector(".hover");if((!this.isFocused||null==e)&&this.hasListItems()){var t;this.isFocused=!0;var n=this.el.querySelector('[tabindex="0"] .listitem');this.currentItem=null!==(t=null!=n?n:this.currentItem)&&void 0!==t?t:Bo(this.getItems()),Io(this.currentItem,"hover"),xo.isShowFocus&&this.centerOnFocused(),Eo.setFocusRectOn(this.getFocusRectTarget()),Po("keydown",this.onKeydown)}}},{key:"onBlur",value:function(e){this.el.contains(e.relatedTarget)||(go(Oo(o.prototype),"onBlur",this).call(this,e),null!=this.currentItem&&(Ao(this.currentItem,"hover"),this.currentItem.style.backgroundColor=""),_o("keydown",this.onKeydown),this.isFocused=!1)}},{key:"onKeydown",value:function(e){var t=this.currentItem;xo.isActionKey(e.which)?(this.activateItem(e),xo.isSpaceKey(e.which)&&e.preventDefault()):xo.isDownishKey(e.which)?this.currentItem=this.getNextItem(this.getItemContent()):xo.isUpishKey(e.which)?this.currentItem=this.getPrevItem(this.getItemContent()):xo.isHomeKey(e.which)?this.currentItem=this.getFirstItem():xo.isEndKey(e.which)&&(this.currentItem=this.getLastItem()),t!==this.currentItem&&(e.preventDefault(),t.tabIndex=-1,Ao(t,"hover"),this.focusOnCurrent())}},{key:"hasListItems",value:function(){return!1}},{key:"getFocusRectTarget",value:function(){return this.currentItem}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem&&(this.currentItem.tabIndex=0,Io(this.currentItem,"hover"),this.currentItem.focus()),Eo.setFocusRectOn(this.getFocusRectTarget())}},{key:"activateItem",value:function(){this.onClickItem({target:this.currentItem.firstElementChild})}},{key:"getNextItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))+1;return n===this.getItems().length&&(n=0),this.getItems()[n]}},{key:"getPrevItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))-1;return-1===n&&(n=this.getItems().length-1),this.getItems()[n]}},{key:"getLastItem",value:function(){return Mo(this.getItems())}},{key:"getFirstItem",value:function(){return Bo(this.getItems())}},{key:"getItemContent",value:function(){return this.currentItem.textContent.trim()}},{key:"findIndexCb",value:function(e,t){return e.textContent.trim()===t}},{key:"getItems",value:function(){return[]}},{key:"getScrollEl",value:function(){return this.el}},{key:"getOffsetEl",value:function(){return this.el}},{key:"getOffsetTop",value:function(e){return function(e){return Do(e,(function(e){return"li"===e.nodeName.toLowerCase()})).reduce((function(e,t){return e+t.offsetTop}),0)}(e)}},{key:"getOffsetHeight",value:function(e){return e.offsetHeight}},{key:"centerOnFocused",value:function(){if(null!=this.currentItem){var e=this.getOffsetEl(),t=this.getOffsetHeight(e),n=this.getScrollEl().scrollTop,r=this.getOffsetTop(this.currentItem),i=r+this.getOffsetHeight(this.currentItem);i-n>t?e.scrollTop=i-t+10:r<n+10&&(e.scrollTop=r-10)}}}])&&mo(t.prototype,n),r&&mo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),Fo=function(){return"no icon"},Vo={next:function(){return'\n  <svg class="cs-icon next-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="rotate(180, 5, 8)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>'},prev:function(){return'\n  <svg class="cs-icon prev-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="translate(0, 1)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>\n'},submit:function(){return'\n   <svg class="cs-icon check-icon" width="17px" height="18px" viewBox="0 0 17 16" focusable="false" aria-hidden="true">\n\n  <path stroke="none" transform="translate(0, 1)" d="\n  M 17 1.4\n  L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"/>\n\n  </svg>'},replay:function(){return'<svg class="cs-icon" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" aria-hidden="true">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 10.95 8.75\n      Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75\n      L 6 6.9\n      Q 6.05 7.75 6.85 7.35\n      L 11.35 4.3\n      Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2\n      L 6.85 0.15\n      Q 6.05 -0.3 6 0.6\n      L 6 2.75\n      Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75\n      L 10.95 8.75 Z"/>\n    </svg>'},play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="11" height="13" viewBox="0 0 11 13" focusable="false" aria-hidden="true">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 0.851 13.011\n      C 0.381 13.295 0 13.068 0 12.526\n      L 0 0.771\n      C 0 0.219 0.378 0 0.854 0.288\n      L 10.507 6.132\n      C 10.979 6.417 10.981 6.878 10.504 7.168\n      L 6.307 9.708\n      L 0.851 13.011 Z" />\n  </svg>'},pause:function(){return'<svg id="icon-pause" class="cs-icon pause-icon" width="9" height="14" viewBox="0 0 9 14" focusable="false" aria-hidden="true">\n    <rect x="0" width="3" height="14"/>\n    <rect x="6" width="3" height="14"/>\n  </svg>'},volume:function(e,t){var n=Math.min(1,e/5),r=Math.min(1,Math.max(0,e/5-.5));return'<svg class="cs-icon volume-icon '.concat(t?"volume-icon-selected":"",'" width="16px" height="14px" viewBox="0 0 16 14" focusable="false" aria-hidden="true">\n      <rect x="0" y="4" width="3" height="6"></rect>\n      <polygon points="4 4 9 0 9 14 4 10"></polygon>\n      <g transform="translate(10, 0)">\n        <mask id="vol-mask" fill="white">\n          <rect id="path-1" x="0" y="0" width="8" height="14" style="fill: white;"></rect>\n        </mask>\n        <circle strokeWidth="1.5" style="opacity: ').concat(r,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n        <circle strokeWidth="1.5" style="opacity: ').concat(n,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n      </g>\n    </g>\n  </svg>')},captionsOn:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n            <path fill="#FFFFFF" stroke="none" d="M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"/>\n          </svg>'},captionsOff:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n            <g>\n              <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n              <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n            </g>\n          </svg>'},captions:function(){return'\n    <svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n      <g>\n        <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n        <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n      </g>\n    </svg>'},carrot:function(e){return'\n    <svg style="left:calc('.concat(e,');" class="cs-icon cs-icon-carrot carrot"width="30" height="30" viewBox="0 0 30 30" focusable="false" aria-hidden="true">\n      <g transform="translate(8, 8)">\n        <polygon style="fill:currentColor !important" points="1,1.5 5,5 1,8.5"/>\n      </g>\n  </svg>')},search:function(){return'\n    <svg class="search-icon" width="13px" height="15px" viewBox="0 0 13 15" focusable="false" aria-hidden="true"\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-width="2">\n          <circle cx="5.6" cy="5.6" r="4.6"/>\n          <path d="M8 9l4 5"/>\n        </g>\n      </g>\n    </svg>\n    '},searchClear:function(){return'\n    <svg class="cs-icon icon" width="11px" height="11px" viewBox="0 0 11 11">\n    <g id="Desktop-Color-Contrast" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Search" transform="translate(-290.000000, -69.000000)" fill="fill:currentColor !important" fill-rule="nonzero">\n            <g id="search" transform="translate(13.000000, 59.000000)">\n                <polygon id="ic_close" points="286.777666 10 282.500215 14.2779053 278.222334 10 277 11.2222382 281.277881 15.5002869 277 19.7779053 278.222334 21 282.500215 16.7222382 286.777666 21 288 19.7779053 283.722119 15.5002869 288 11.2222382"></polygon>\n            </g>\n        </g>\n    </g>\n    </svg>\n    '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false" aria-hidden="true">\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>'},close:function(){return'\n    <svg class="cs-icon icon-close" width="20" height="20" viewBox="0 0 36 36" focusable="false" aria-hidden="true">\n      <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>'},clear:function(){return'<svg class="cs-icon icon-clear" width="13" height="14" viewBox="0 0 13 14" focusable="false" aria-hidden="true">\n    <use xlink:href="#icon-clear" fill="rgba(240, 240, 240, 1)" transform="translate(0, 1)" />\n    <path id="icon-clear" transform="translate(3,3)" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>'},hamburger:function(){return'\n    <svg class="cs-icon" width="30px" height="12px" viewBox="0 10 30 12" focusable="false" aria-hidden="true">\n      <path transform="translate(0, 1)" d="M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z" ></path>\n    </svg>\n  '},file:function(){return'\n    <svg width="20px" height="27px" viewBox="0 0 40 50" role="presentation" focusable="false" aria-hidden="true">\n      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">\n        <g>\n          <path class="file-icon-bg" d="M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"></path>\n          <path class="file-icon-fold" d="M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"></path>\n        </g>\n      </g>\n    </svg>'},link:function(e){return'\n  <svg class="link-icon" preserveAspectRatio="none" x="0px" y="0px" width="18px" height="18px" viewBox="0 0 18 18" role="presentation" focusable="false" aria-hidden="true">\n      <path fill="'.concat(e,'" stroke="none" d="\n            M 1.45 8.5\n            Q 0.0453125 10.0015625 0 11.9\n            L 0 12.15\n            Q 0.0453125 14.0484375 1.45 15.55\n            L 1.5 15.6\n            Q 3.0015625 17.0046875 4.85 17.05\n            L 5.1 17.05\n            Q 7.0150390625 17.0046875 8.5 15.6\n            L 10.65 13.45\n            Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75\n            L 9.95 11.75\n            Q 9.55 11.75 9.2 12.05\n            L 7.1 14.15\n            Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95\n            L 5 7.8\n            Q 5.3 7.5 5.3 7.1\n            L 5.3 7.05\n            Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4\n            L 1.45 8.5\n            M 12.05 5\n            Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5\n            L 5 10.65\n            Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05\n            L 12.05 6.4\n            Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5\n            M 15.6 1.5\n            L 15.55 1.45\n            Q 14 0 12.05 0\n            L 12 0\n            Q 10.05 0 8.5 1.45\n            L 6.4 3.55\n            Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5\n            L 9.95 2.85\n            Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1\n            L 12.05 9.2\n            Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65\n            L 15.6 8.5\n            Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"/>\n          </svg>')},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" aria-hidden="true">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},playbackSpeed:function(){return'\n    <svg class="cs-icon" width="15" height="15" viewBox="0 0 15 15" focusable="false" aria-hidden="true">\n      <path d="M5.9 4.0L10.4 7.4L5.9 10.8V4.0ZM1.5 8.2H0.0C0.1 9.6 0.6 10.9 1.5 12.0L2.6 11.0C2.0 10.1 1.6 9.2 1.5 8.2H1.5ZM15 7.4H14.9C14.9 5.6 14.3 3.8 13.0 2.4C11.8 1.0 10.0 0.1 8.2 0.0V1.5C10.1 1.7 11.8 2.9 12.8 4.7C13.7 6.4 13.7 8.5 12.8 10.2C11.8 12.0 10.1 13.1 8.2 13.4V14.9C10.0 14.7 11.8 13.8 13.0 12.5C14.3 11.1 14.9 9.3 14.9 7.4L15 7.4ZM3.6 12.1L2.5 13.1C3.7 14.1 5.1 14.8 6.7 14.9V13.4V13.4C5.5 13.3 4.5 12.8 3.6 12.1V12.1ZM2.6 3.9L1.5 2.8C0.6 3.9 0.1 5.3 0 6.7H1.5H1.5C1.6 5.7 2.0 4.7 2.6 3.9H2.6ZM6.7 1.5V0.0C5.1 0.1 3.7 0.7 2.5 1.7L3.6 2.8C4.5 2.1 5.5 1.6 6.7 1.5V1.5Z" stroke="none" />\n    </svg>\n  '},track:function(e,t){return'\n    <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false" aria-hidden="true">\n      <defs>\n        <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n        <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n          <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n          <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n          <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n          <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n        </filter>\n      </defs>\n      <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle class="thumb" stroke-width="0" cx="8" cy="8" r="6"></circle>\n        </g>\n      </g>\n      <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n        </g>\n      </g>\n    </svg>\n  ')},downArrow:function(e,t){return'\n    <div style="height: 100%; width: 100%; background-color: '.concat(e,"; border-right: 1px solid; border-bottom: 1px solid; border-color: ").concat(t,'; border-bottom-right-radius: 3px; transform: rotate(45deg);" />\n    ')},checkmark:function(){return'<svg  class="cs-icon check-icon" focusable="false" aria-hidden="true" width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <polygon style="fill:currentColor !important" points="12.04 4 13.45 5.41 6.25 12.62 2 8.36 3.41 6.95 6.25 9.79"></polygon>\n      </g>\n    </svg>'},lock:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 Z"></path>\n        </g>\n    </g>\n</svg>'},lockedViewed:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M7.11248548,6.17405922 C7.38175483,6.47268397 7.38175483,6.92847965 7.0966461,7.21138731 L4.53066757,9.75755627 C4.38811321,9.8990101 4.19804072,9.96187847 4.02380761,9.96187847 C3.83373513,9.96187847 3.65950202,9.8990101 3.51694766,9.75755627 L2.34544071,8.45018243 C2.06033199,8.16727477 2.06033199,7.71147909 2.34544071,7.42857143 C2.63054944,7.14566377 3.08989127,7.14566377 3.375,7.42857143 L4.02380761,8.21728122 L6.08292619,6.17405922 C6.36803491,5.89115155 6.82737675,5.89115155 7.11248548,6.17405922 Z M4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 Z"></path>\n        </g>\n    </g>\n</svg>'},languagePicker:function(){return'\n<svg class="cs-icon" viewBox="0 0 48 48" width="16" height="16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M23.99 4c-11.05 0-19.99 8.95-19.99 20s8.94 20 19.99 20c11.05 0 20.01-8.95 20.01-20s-8.96-20-20.01-20zm13.85 12h-5.9c-.65-2.5-1.56-4.9-2.76-7.12 3.68 1.26 6.74 3.81 8.66 7.12zm-13.84-7.93c1.67 2.4 2.97 5.07 3.82 7.93h-7.64c.85-2.86 2.15-5.53 3.82-7.93zm-15.48 19.93c-.33-1.28-.52-2.62-.52-4s.19-2.72.52-4h6.75c-.16 1.31-.27 2.64-.27 4 0 1.36.11 2.69.28 4h-6.76zm1.63 4h5.9c.65 2.5 1.56 4.9 2.76 7.13-3.68-1.26-6.74-3.82-8.66-7.13zm5.9-16h-5.9c1.92-3.31 4.98-5.87 8.66-7.13-1.2 2.23-2.11 4.63-2.76 7.13zm7.95 23.93c-1.66-2.4-2.96-5.07-3.82-7.93h7.64c-.86 2.86-2.16 5.53-3.82 7.93zm4.68-11.93h-9.36c-.19-1.31-.32-2.64-.32-4 0-1.36.13-2.69.32-4h9.36c.19 1.31.32 2.64.32 4 0 1.36-.13 2.69-.32 4zm.51 11.12c1.2-2.23 2.11-4.62 2.76-7.12h5.9c-1.93 3.31-4.99 5.86-8.66 7.12zm3.53-11.12c.16-1.31.28-2.64.28-4 0-1.36-.11-2.69-.28-4h6.75c.33 1.28.53 2.62.53 4s-.19 2.72-.53 4h-6.75z"/>\n</svg>\n  '}},Wo={play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="14" height="16" viewBox="0 0 14 16" focusable="false" aria-hidden="true">\n    <path d="M1.4 15.4C0.8 15.8 0 15.3 0 14.5L0 1.4C0 0.6 0.8 0.1 1.4 0.5L12.9 7.1C13.5 7.5 13.5 8.4 12.9 8.8L8.0 11.6L1.4 15.4Z" stroke="none" />\n  </svg>'}},Uo=function(e){return DS.detection.env.isPerpetual?Vo[e]||Fo:Wo[e]||Vo[e]||Fo};function zo(e){return zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(e)}function Ko(e){return function(e){if(Array.isArray(e))return Zo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||qo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qo(e,t){if(e){if("string"==typeof e)return Zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zo(e,t):void 0}}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qo(e,t){return Qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qo(e,t)}function Yo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$o(e);if(t){var i=$o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===zo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xo(e)}(this,n)}}function Xo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $o(e){return $o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$o(e)}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==zo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===zo(o)?o:String(o)),r)}var i,o}function ea(e,t,n){return t&&Jo(e.prototype,t),n&&Jo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ta(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var na=function(e){return t(e.slideid)},ra=DS,ia=ra.windowManager,oa=ra.focusManager,aa=ra.TweenLite,la=ra.events,ca=ra.pubSub,sa=ra.keyManager,ua=ra.resolver,fa=ra.dom,da=(fa.hasClass,fa.removeClass),ha=fa.addClass,pa=fa.getParentWithClass,ya=ra._,va=ya.bindAll,ba=(ya.first,ra.utils),ma=ba.stripTags,ga=(ba.stripPlayer,ba.prefixWithPlayer),wa=ra.globalEventHelper,Sa=wa.addDocumentListener,ka=(wa.removeDocumentListener,ra.detection),Oa=ka.theme,Ca=ka.os,Ea=ea((function e(t,n,r){ta(this,e),this.slideId=t,this.title=n,this.text=r})),xa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qo(e,t)}(n,e);var t=Yo(n);function n(e){var r;ta(this,n),r=t.call(this,e),va(Xo(r),"traverseLinks","performSearch","onSlideChanged","onClear","onReset","loadSlideBankSearchData"),r.animationDuration=.2;var i=te.model.frame.notesData||[];return r.notesBySlideId=i.map((function(e){return new Ea(ga(e.slideId),DS.utils.getPath(ua.resolvePath(e.slideId,DS.presentation),"title"),ma(e.content).trim())})),r.slideTextData=te.model.frame.navData.search||[],r.slideTextBySlideId=r.slideTextData.filter((function(e){return!e.slidebank})).map((function(e){return new Ea(ga(e.slideid),DS.utils.getPath(ua.resolvePath(e.slideid,DS.presentation),"title"),ma(e.Text).trim())})),r.menuOptions=te.model.frame.controlOptions.menuOptions,r.wrapListItems=r.menuOptions.wrapListItems,r.links=te.model.frame.navData.outline.links,r.hasSlideBankSlides=r.slideTextData.some((function(e){return e.slidebank})),r.hasSlideBankSlides&&ca.on(la.player.RESET,r.onReset),null!=r.clearEl&&r.onClickEl(r.clearEl,r.onClear),ca.on(la.search.CLEAR,r.onClear),r.onClickEl(r.searchFilterEl,r.onToggleSearchOptions),r.onClick(r.onClickLink),ca.on(la.window.MAIN_CHANGED,r.onSlideChanged),r}return ea(n,[{key:"loadSlideBankSearchData",value:function(){this.slideBankTextBySlideId=this.slideTextData.filter((function(e){return e.slidebank})).reduce((function(e,t){var n=ua.getSlideBankSlideInstance(t.slideid);return null!==n&&e.push(new Ea(n.absoluteId,n.title(),ma(t.Text))),e}),[])}},{key:"teardown",value:function(){ca.off(la.window.MAIN_CHANGED,this.onSlideChanged),window.globals.HAS_SLIDE&&ca.off(la.search.CLEAR,this.onClear)}},{key:"onSlideChanged",value:function(e){var t=this.resultsEl.querySelector(".cs-selected"),n=this.resultsEl.querySelector('[data-slide-id="'.concat(e.absoluteId,'"]'));null!=t&&da(t,"cs-selected"),null!=n&&(ha(n,"cs-selected"),ha(n,"cs-viewed"),this.updateAriaLabel(n))}},{key:"onReset",value:function(){this.onClear(),this.loadSlideBankSearchData()}},{key:"onFocus",value:function(e){e.relatedTarget;var t=e.target;if(this.el.contains(t)){if(t===this.searchFilterEl||t===this.clearEl)return oa.setFocusRectOn(t),this.isFocused=!1,!1;if(t===this.notesCheckEl||t===this.slideCheckEl)return oa.setFocusRectOn(t.parentElement),this.isFocused=!1,!1;if(!this.isFocused&&(!Oa.isUnified||sa.isShowFocus)){var n=Go(this.getItems(),1)[0];this.isFocused=!0,null!=n&&(this.currentItem=n,this.lastSelected!==this.currentItem&&this.focusOnCurrent(),Sa("keydown",this.onKeydown))}}return!1}},{key:"getIsSearchVisible",value:function(){return this.searchOptionsEl.classList.contains("visible")}},{key:"setCheckboxesVisible",value:function(e){this.notesCheckEl.hidden=e,this.slideCheckEl.hidden=e}},{key:"onToggleSearchOptions",value:function(e){var t=this,n=this.getIsSearchVisible(),r=n?"remove":"add";this.searchOptionsEl.classList[r]("visible"),n?(clearTimeout(this.checkBoxTimeout),this.checkBoxTimeout=setTimeout((function(){t.setCheckboxesVisible(n)}),200)):this.setCheckboxesVisible(n)}},{key:"onClickLink",value:function(e){if("locked"!==this.menuOptions.flow){var t=pa(e.target,"listitem"),n=t.dataset.slideId;null==n||"restricted"===this.menuOptions.flow&&!e.target.classList.contains("cs-viewed")||(ha(t,"cs-viewed"),this.updateAriaLabel(t),ca.trigger(la.request.NEXT_SLIDE,n))}}},{key:"updateAriaLabel",value:function(e){Oa.isUnified&&Ko(e.querySelector(".outline-states").children).forEach((function(t){if("none"===window.getComputedStyle(t).display);else{var n=t.getAttribute("aria-label"),r=e.getAttribute("data-slide-title");e.children[0].textContent=r+" "+n}}))}},{key:"traverseLinks",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];na(n)||this.searchResults.has(n.slideid)||(this.noSearchTerm||n.displaytext.toLowerCase().indexOf(this.term)>=0)&&this.searchResults.set(n.slideid,n.displaytext),null!=n.links&&this.traverseLinks(n.links)}}},{key:"getDefaultSate",value:function(e){var t=ia.getCurrentWindow().getCurrentSlide().absoluteId===e||ua.resolvePath(e).viewed,n=this.menuOptions.flow;if(t)switch(n){case"free":case"restricted":return te.model.getString("acc_visited");case"locked":return"".concat(te.model.getString("acc_visited"),", ").concat(te.model.getString("acc_locked"))}else switch(n){case"free":return"";case"restricted":case"locked":return te.model.getString("acc_locked")}}},{key:"performSearch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!window.globals.HAS_SLIDE)return 0;this.term=t.toLowerCase(),this.items=null,this.noSearchTerm=""===t,this.searchResults=new Map,this.resultsEl.innerHTML="",this.slideTextEnabled=this.slideCheckEl.checked,this.notesEnabled=this.notesCheckEl.checked;var n=te.model.frame.navData.links;null!=n&&this.traverseLinks(n),this.hasSlideBankSlides&&void 0===this.slideBankTextBySlideId&&this.loadSlideBankSearchData();var r=function(t){t.forEach((function(t){(t.text.toLowerCase().indexOf(e.term)>=0||t.title.toLowerCase().indexOf(e.term)>=0)&&e.searchResults.set(t.slideId,t.title)}))},i=!this.noSearchTerm;this.slideTextEnabled&&i&&r(this.slideTextBySlideId),this.hasSlideBankSlides&&i&&r(this.slideBankTextBySlideId),this.notesEnabled&&i&&r(this.notesBySlideId);Ca.isIOS;var o=this.wrapListItems?"":"no-wrap",a=ia.getCurrentWindow().getCurrentSlide().absoluteId,l=0;return this.searchResults.forEach((function(t,n){0;var r=a===n?"cs-selected":"",i=document.createElement("li"),c=ua.resolvePath(n).viewed?"cs-viewed":"",s=e.menuOptions.flow,u=e.getDefaultSate(n),f='\n      <div role="menuitem" class="cs-listitem listitem '.concat(r," ").concat(o," ").concat(c," ").concat("free"!==s&&"cs-"+s,'"\n           data-slide-id="').concat(n,'"\n           data-slide-title="').concat(t,'"\n           tabindex="').concat(l,'"\n           role = "treeitem">\n          <span style="position: absolute; opacity: 0;">').concat(t," ").concat(u,"</span>");Oa.isUnified?f+='\n           <span class="linkText" aria-hidden="true">\n             '.concat(t,'\n           </span>\n           <span class="outline-states" aria-hidden="true">\n             <span class="visitedIcon" aria-label="').concat(te.model.getString("acc_visited"),'">\n               ').concat(Uo("checkmark")(),'\n             </span>\n             <span class="lockedIcon" aria-label="').concat(te.model.getString("acc_locked"),'">\n               ').concat(Uo("lock")(),'\n             </span>\n             <span class="lockedViewedIcon" aria-label="').concat(te.model.getString("acc_visited"),", ").concat(te.model.getString("acc_locked"),'">\n               ').concat(Uo("lockedViewed")(),"\n             </span>\n           </span>\n        </div>\n      "):f+="\n             ".concat(t,"\n        </div>"),i.innerHTML=f,e.resultsEl.appendChild(i),l=-1})),this.searchResults.size}},{key:"onClear",value:function(){var e=this,t=this.view.parent.children,n=t.outline,r=t.search;this.outlineUl=this.outlineUl||document.querySelector("#outline-content ul"),n.setVisibility(!0),aa.to(this.el,this.animationDuration,{alpha:0,onComplete:function(){aa.to(e.outlineUl,e.animationDuration,{alpha:1}),e.view.setVisibility(!1),r.children.bottomDiv.el.style.opacity=1,sa.isShowFocus&&e.el.contains(document.activeElement)&&n.el.focus()}}),this.term="",r.children.searchInput.el.value="",da(document.body,"search-results-active"),ca.trigger(la.search.UPDATE_PANEL)}},{key:"hasListItems",value:function(){return!_.isEmpty(this.getItems())}},{key:"getItems",value:function(){return this.items=this.items||Ko(this.el.querySelectorAll(".cs-listitem")),this.items}},{key:"activateItem",value:function(){this["locked"!==this.menuOptions.flow?"onClickLink":"onCarrotClick"]({target:this.currentItem})}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"onAfterVisible",value:function(){this.view.parent.children.outline.setVisibility(!1)}}]),n}(No),Ta=xa,La="searchResults",Pa=te.def(La,Ta,(function(e){var t=te.model;t.rtl;return{attrs:{id:La+"-content",tabindex:-1},z:2,x:0,y:0,w:"100%",h:function(){return this.parent.h},visible:!1,html:'\n      <span class="cs-outline search-content" data-ref="content">\n        <span class="flex-static-auto">\n          <h4 data-ref="title" class="cs-heading search-heading panel-section-heading">\n            '.concat(t.getString("search_results"),'\n          </h4>\n          <button class="btn-unstyled search-filter cs-search-filter" tabindex="0" data-ref="searchFilter">\n            <span>').concat(t.getString("filter"),"</span>\n            ").concat(uo("filter")(),'\n          </button>\n        </span>\n        <hr class="cs-div cs-diva" />\n        <div class="search-options flex-static-auto" data-ref="searchOptions">\n          <p>').concat(t.getString("search_in"),'</p>\n          <label>\n            <input data-ref="notesCheck" type="checkbox" checked hidden>\n            <span>').concat(t.getString("transcript_chk"),'</span>\n          </label>\n          <label>\n            <input data-ref="slideCheck" type="checkbox" checked hidden>\n            <span>').concat(t.getString("slide_text_chk"),'</span>\n          </label>\n          <hr class="cs-div cs-diva" />\n        </div>\n        <div class="search-results is-scrollable" tabindex="0" data-ref="searchResults">\n          <ul data-ref="results"></ul>\n        </div>\n        <hr class="cs-diva diva full-width-hr" />\n        <hr class="cs-divb divb full-width-hr" />\n        <button data-ref="clear" class="btn search-clear cs-button flex-static-auto" tabindex="0">\n          ').concat(uo("clear")(),"\n          <span>").concat(t.getString("clear"),"</span>\n        </button>\n      </span>\n    ")}}));function _a(e){return _a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a(e)}function ja(e){return function(e){if(Array.isArray(e))return Da(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Da(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Da(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Da(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==_a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===_a(o)?o:String(o)),r)}var i,o}function Aa(){return Aa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ha(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Aa.apply(this,arguments)}function Ra(e,t){return Ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ra(e,t)}function Ba(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ha(e);if(t){var i=Ha(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===_a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ma(e)}(this,n)}}function Ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ha(e){return Ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ha(e)}var Na=DS,Fa=Na.detection,Va=Na.pubSub,Wa=Na._,Ua=Na.events,za=Na.keyManager,Ka=Na.resolver,Ga=Na.windowManager,qa=Na.utils.prefixWithPlayer,Za=Na.focusManager.setFocusRectOn,Qa=Na.globalEventHelper.addDocumentListener,Ya=Na.dom,Xa=Ya.parentNodesOf,$a=Ya.getParentWithClass,Ja=Ya.hasClass,el=Ya.addClass,tl=Ya.removeClass,nl=function(e){return Xa(e,(function(e){return"li"===e.nodeName.toLowerCase()}))},rl=function(e){return nl(e).slice(1).some((function(e){return Ja(e,"item-collapsed")}))},il=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ra(e,t)}(a,e);var n,r,i,o=Ba(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e),Wa.bindAll(Ma(t),"updateVisitedSlides","onSlideChanged","onSelectFirstSlideLink","addSlideToVisited","visuallyUpdateLinks","collapseLastItem","onClickLink","onCarrotClick","onClickItem","centerOnFocused","setDrawSlides","mouseDown","mouseUp"),t.visitedSlides=new Set,t.completedScenes=new Set,t.menuOptions=te.model.frame.controlOptions.menuOptions,Va.once(Ua.resume.SET_DATA,t.updateVisitedSlides),Va.on(Ua.window.MAIN_CHANGED,t.onSlideChanged),Va.on(Ua.mobile.OUTLINE_SHOWN,t.centerOnFocused),Va.on(Ua.navData.SELECT_FIRST_SLIDE_LINK,t.onSelectFirstSlideLink),t.removeDocListeners=Wa.flow(Qa("mousedown",t.mouseDown),Qa("mouseup",t.mouseUp)),null!=DS.presentation.getDrawPromise&&DS.presentation.getDrawPromise().then(t.setDrawSlides),t.isTopTabChild=te.model.topTabs.some((function(e){return"outline"===e.name})),DS.flagManager.localizationPlatform&&Va.on(Ua.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Ma(t))),Va.on(Ua.navData.REFRESH_VIEW,(function(){if(DS.flagManager.localizationPlatform){var e=DS.utils.getPath(t.el.querySelector(".cs-selected"),"dataset.ref");t.view.updateHtml(),t.view.update(),t.view.initChildRefs(),t.visuallyUpdateLinks();var n=DS.utils.getPath(t.view,["children",e,"el"]);null!=n&&t.selectItem(n)}else t.view.updateHtml(),t.view.update()})),t}return n=a,r=[{key:"teardown",value:function(){Va.off(Ua.window.MAIN_CHANGED,this.onSlideChanged),Va.off(Ua.mobile.OUTLINE_SHOWN,this.centerOnFocused),this.removeDocListeners()}},{key:"focusSelf",value:function(){this.getItems().find((function(e){return 0===e.parentNode.tabIndex})).parentNode.focus()}},{key:"onFocus",value:function(){var e=this;this.isMouseDown||(null!=this.view.parent.children.search&&Fa.theme.isUnified?setTimeout((function(){e.el.contains(document.activeElement)&&Aa(Ha(a.prototype),"onFocus",e).call(e)}),500):Aa(Ha(a.prototype),"onFocus",this).call(this))}},{key:"selectItem",value:function(e){var t=this,n=this.el.querySelector(".cs-selected"),r=this.el.querySelector('[tabindex="0"]');null!=n&&(tl(n,"cs-selected"),this.updateAriaLabel(n)),null!=r&&(r.tabIndex=-1,r.dataset.tabindex=-1),el(e,"cs-selected"),e.parentNode.tabIndex=0,e.parentNode.dataset.tabindex=0,window.requestAnimationFrame((function(){return t.updateAriaLabel(e)}))}},{key:"mouseDown",value:function(){this.isMouseDown=!0}},{key:"mouseUp",value:function(){this.isMouseDown=!1}},{key:"onClickItem",value:function(e){var t=this;if(Fa.theme.isUnified){var n=$a(e.target,"listitem");Ja(e.target,"carrot")&&(t.onCarrotClick(n),1)||n&&Ja(n.parentNode,"item-collapsible")&&(t.onCarrotClick(n),!Ja(n,"is-promoted-slide"))||"locked"!==t.menuOptions.flow&&t.onClickLink(n)}else("locked"!==this.menuOptions.flow?this.onClickLink:this.onCarrotClick)(e.target)}},{key:"visuallyUpdateLinks",value:function(){var e=this;this.visitedSlides.forEach((function(t){var n=e.view.children[t];null!=n&&(Fa.theme.isUnified?e.updateViewedState(n.el):el(n.el,"cs-viewed"))})),Fa.theme.isUnified&&(this.setComplete("div.is-promoted-slide"),this.setComplete("div.is-scene",1))}},{key:"setComplete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.el.querySelectorAll(e);Array.from(r).forEach((function(e){var r=Array.from(e.parentNode.querySelectorAll("div")).slice(n);r.length&&r.every((function(e){return Ja(e,"cs-viewed")}))&&(el(e,"cs-complete"),t.updateAriaLabel(e))}))}},{key:"updateVisitedSlides",value:function(e,t){null!=e&&(e.forEach(this.addSlideToVisited),this.visuallyUpdateLinks())}},{key:"getNextItem",value:function(e){var t,n=this,r=this.getItems(),i=r.findIndex((function(t){return n.findIndexCb(t,e)}));do{(i+=1)===r.length&&(i=0),t=r[i]}while(rl(t));return t}},{key:"getPrevItem",value:function(e){var t,n=this,r=this.getItems(),i=r.findIndex((function(t){return n.findIndexCb(t,e)}));do{-1==(i-=1)&&(i=r.length-1),t=r[i]}while(rl(t));return t}},{key:"addSlideToVisited",value:function(e){var t=e.absoluteId,n=e.getScene().absoluteId;this.visitedSlides.add(n).add(t),this.addSceneCompleted(e,n)}},{key:"addSceneCompleted",value:function(e,t){var n,r;n=e.collection.models.map((function(e){return e.absoluteId})),r=ja(this.visitedSlides),n.every((function(e){return r.includes(e)}))&&this.completedScenes.add(t)}},{key:"isSceneCompleted",value:function(e){return this.completedScenes.has(e)}},{key:"isCurrentLinkParent",value:function(e,t){return e.el===this.view.children[t].el&&e.el.getAttribute("data-has-links")&&!e.el.getAttribute("data-is-scene")}},{key:"onSelectFirstSlideLink",value:function(){var e=this.view.el.querySelector("ul > li > div:not(.is-scene)");if(null!=e){var t=e.getAttribute("data-ref");this.selectLink(e,t)}}},{key:"onSlideChanged",value:function(e){if(this.addSlideToVisited(e),!this.currentItem||$a(this.currentItem,"listitem").getAttribute("data-ref")!=e.absoluteId){var t=e.absoluteId,n=this.view.children[t];if(null==n){var r=e.getSlideDraw();null!=r&&(t=r.absoluteId,n=this.view.children[t])}if(null!=n&&this.selectLink(n.el,t),null==n){var i,o=e.getScene().absoluteId,a=null===(i=this.view.children[o])||void 0===i?void 0:i.el;if(null==a)return;var l=nl(a)[0];null==l||Ja(l,"item-collapsible")||this.selectItem(a),this.isSceneCompleted(o)&&el(a,"cs-complete"),this.updateViewedState(a)}}}},{key:"selectLink",value:function(e,t){var n=this;this.onClickLink(e,!0),Xa(e,(function(r){r.classList.contains("item-collapsed")&&(n.isCurrentLinkParent(e,t)||(tl(r,"item-collapsed"),r.setAttribute("aria-expanded",!0)))}),(function(e){return n.el===e}))}},{key:"collapsibleParents",value:function(e){var t=this;return Xa(e,(function(e){return e.classList.contains("item-collapsible")}),(function(e){return t.el===e}))}},{key:"collapseLastItem",value:function(e){var t=this;null!=this.lastExpandedEls&&this.menuOptions.autocollapse&&this.lastExpandedEls.forEach((function(n){n.contains(e)||Ja(n,"item-collapsed")||t.toggleScene(n)}))}},{key:"toggleScene",value:function(e){var t,n=Ja(e,"item-collapsed");if(t=n?"remove":"add",e.classList[t]("item-collapsed"),e.setAttribute("aria-expanded",n),Fa.theme.isUnified){var r=Array.from(e.querySelectorAll("div.listitem")),i=r[0];!function(e,t){if(!n){var r=e.slice(1).filter((function(e){return!Ja(e,"is-promoted-slide")&&!Ja(e,"is-scene")}));r.some((function(e){return Ja(e,"cs-viewed")}))&&tl(t,"cs-unvisited"),r.every((function(e){return Ja(e,"cs-viewed")}))&&el(t,"cs-complete")}}(r,i),this.updateAriaLabel(i)}Va.trigger(Ua.menuLinksListItem.TOGGLE)}},{key:"updateAriaLabel",value:function(e){var t,n,r=[].slice.call(null!==(t=null===(n=e.querySelector(".outline-states"))||void 0===n?void 0:n.children)&&void 0!==t?t:[]),i=e.getAttribute("data-slide-title"),o=e.children[0];null!=o&&(r.some((function(e){if("none"!==window.getComputedStyle(e).display){var t=e.getAttribute("aria-label");return o.textContent=i+" "+t,!0}return!1}))||(o.textContent=i))}},{key:"onCarrotClick",value:function(e){if(null!==e){var t=$a(e,"item-collapsible");this.toggleScene(t)}}},{key:"onClickLink",value:function(e,t){var n=this;if(e)if(Fa.theme.isUnified){var r=e.getAttribute("data-ref"),i=null!=r;if("restricted"!==this.menuOptions.flow||t||this.visitedSlides.has(r)){if(null!=this.currentItem&&e!==this.currentItem&&tl(this.currentItem,"hover"),this.currentItem=e,i&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),this.lastExpandedEls.forEach((function(e){var t=e.firstElementChild;r.includes(t.getAttribute("data-ref"))&&(el(t,"cs-viewed"),n.updateAriaLabel(t))}))),Ja(e,"listitem")){this.updateViewedState(e);var o=nl(e).pop();Ja(e,"is-scene")&&Ja(o,"item-collapsible")||this.selectItem(e)}else this.onCarrotClick(e);if(i&&!t){var a=Ga.getCurrentWindowSlide().absoluteId;r!=a&&(Va.trigger(Ua.request.NEXT_SLIDE,r),Fa.theme.isUnified&&Va.trigger(Ua.topEllipsesPanel.HIDE)),Fa.deviceView.isMobile&&(Va.trigger(Ua.tab.HIDE),(Fa.deviceView.isPhone||Fa.theme.isClassic)&&Va.trigger(Ua.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&Za(this.currentItem)}}else this.onClickLinkOld(e,t)}},{key:"onClickLinkOld",value:function(e,n){var r=e.getAttribute("data-ref"),i=null!=r,o=t(r);if("UL"!==e.nodeName)if("restricted"!==this.menuOptions.flow||n||this.visitedSlides.has(r)){if(null!=this.currentItem&&e!==this.currentItem&&tl(this.currentItem,"hover"),this.currentItem=e,(o||Ja(e.parentNode,"item-collapsible"))&&this.toggleScene(e.parentNode),null!=r&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),Array.from(this.lastExpandedEls).forEach((function(e){var t=e.firstElementChild;r.includes(t.getAttribute("data-ref"))&&el(t,"cs-viewed")}))),Ja(e,"listitem")?(el(e,"cs-viewed"),this.selectItem(e)):this.onCarrotClick(e),i&&!n){var a=Ga.getCurrentWindowSlide().absoluteId;r!=a&&(Va.trigger(Ua.request.NEXT_SLIDE,r),Fa.theme.isUnified&&Va.trigger(Ua.topEllipsesPanel.HIDE)),Fa.deviceView.isMobile&&(Va.trigger(Ua.tab.HIDE),(Fa.deviceView.isPhone||Fa.theme.isClassic)&&Va.trigger(Ua.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&Za(this.currentItem)}else Ja(e,"carrot")&&this.onCarrotClick(e)}},{key:"updateViewedState",value:function(e){el(e,"cs-viewed");var t=nl(e).pop();if(null!=t){if(!Ja(e,"is-scene")||!Ja(t,"item-collapsible")){var n=t.querySelector("div.listitem");tl(n,"cs-unvisited")}Ja(e,"is-scene")&&this.isSceneCompleted(e.getAttribute("data-ref"))&&el(e,"cs-complete")}this.updateAriaLabel(e)}},{key:"isExpanded",value:function(){return!!this.currentItem.dataset.hasLinks&&Ja(this.parentElement,"item-collapsed")}},{key:"onKeydown",value:function(e){var t=this.currentItem;if(za.isActionKey(e.which))this.activateItem(),za.isSpaceKey(e.which)&&e.preventDefault();else if(za.isRightKey(e.which)&&t.dataset.hasLinks)Ja(this.currentItem.parentNode,"item-collapsed")?this.onCarrotClick(this.currentItem.firstElementChild):this.currentItem=this.getNextItem(this.getItemContent());else if(za.isDownKey(e.which))this.currentItem=this.getNextItem(this.getItemContent());else if(za.isUpKey(e.which))this.currentItem=this.getPrevItem(this.getItemContent());else if(za.isLeftKey(e.which))if(t.dataset.hasLinks&&!Ja(t.parentNode,"item-collapsed"))this.onCarrotClick(this.currentItem.firstElementChild);else{var n=$a(this.currentItem,"item-collapsible");null!=n&&(this.currentItem=n.querySelector(".cs-listitem"))}else za.isHomeKey(e.which)?this.currentItem=this.getFirstItem():za.isEndKey(e.which)?this.currentItem=this.getLastItem():za.isTabKey(e.which)&&tl(this.currentItem,"hover");t!==this.currentItem&&(e.preventDefault(),tl(t,"hover"),this.focusOnCurrent())}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem.parentNode&&(el(this.currentItem,"hover"),this.currentItem.parentNode.focus()),Za(this.currentItem)}},{key:"hasListItems",value:function(){return!Wa.isEmpty(te.model.frame.navData.outline.links)}},{key:"getItems",value:function(){return this.links=this.links||ja(this.el.querySelectorAll(".cs-listitem")),this.links}},{key:"activateItem",value:function(){var e="locked"!==this.menuOptions.flow&&null==this.currentItem.dataset.isScene,t=e?"onClickLink":"onCarrotClick",n=e?this.currentItem:this.currentItem.querySelector(".carrot");this[t](n)}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"getTreeRootEl",value:function(){return this.el.querySelector("ul")}},{key:"getOffsetEl",value:function(){return Fa.deviceView.isMobile?this.el.parentNode:this.el}},{key:"getOffsetTop",value:function(e){return Fa.deviceView.isMobile?Wa.first(Xa(e,(function(e){return"li"===e.nodeName.toLowerCase()}))).offsetTop:Aa(Ha(a.prototype),"getOffsetTop",this).call(this,e)}},{key:"onShowTabItem",value:function(e,t){if("outline"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}},{key:"scrollToCurrent",value:function(){var e=this;Fa.deviceView.isMobile&&(this.currentItem=this.getItems().find((function(t){return t.getAttribute("data-ref")===e.currentSlideId}))),Aa(Ha(a.prototype),"scrollToCurrent",this).call(this)}},{key:"setDrawSlides",value:function(){var e=this;this.view.draws.forEach((function(t){var n=t.link,r=t.links,i=Ka.resolvePath(qa(n.drawid)),o=function(){var t=n.spliceNum||1,o=i.slides();r.splice.apply(r,[n.index,t].concat(ja(o.map(e.createNewLink)))),n.spliceNum=o.length,e.view.updateHtml(),e.view.initChildRefs()};i.on(Ua.draw.RESET_COMPLETE,o),null!=i.slides()&&o()}))}},{key:"createNewLink",value:function(e){var t={kind:"slidelink",expand:!1,type:"slide"};return t.slideid=e.absoluteId,t.slidetitle=t.displaytext=e.get("title"),t}}],r&&Ia(n.prototype,r),i&&Ia(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(No),ol=il,al="rtl",ll=function(){return te.model.rtl?al:""},cl=function(e){te.model.rtl&&!e.contains(al)?e.add(al):!te.model.rtl&&e.contains(al)&&e.remove(al)},sl=DS.utils,ul=sl.scaleVal,fl=sl.pxify,dl="outline",hl=function(e){for(var t="";e;)t=e.index+1+"."+t,e=null!=e.parent&&"slidelink"===e.parent.kind&&e.parent;return t+" "},pl=te.def(dl,ol,(function(){var e=te.model;return{tag:"nav",attrs:{id:dl+"-content",class:"is-scrollable cs-outline ".concat(ll()),tabindex:-1},w:"100%",h:function(){var e=this.parent,t=e.h,n=e.children.search;return t-(null!=n&&n.visible?48:0)},overflow:"auto",draws:[],html:function(){var n=this,r=e.frame.navData.outline.links||[],i=e.frame.controlOptions.menuOptions,o=i.wrapListItems,a=i.autonumber,l=i.tooltips;this.el.depth=0;var c=this.el;return c.innerHTML="",function r(i,c,s){var u=document.createElement("ul");u.depth=c.depth+1,u.tabIndex=-1,null!=s?(u.setAttribute("aria-labelledby",c.firstElementChild.id),u.setAttribute("role","group")):(u.setAttribute("aria-label",e.getString("outline")),u.setAttribute("role","tree")),c.appendChild(u);for(var f=0,d=i.length;f<d;f++){var h=document.createElement("li"),p=i[f];p.parent=s,p.index=f,h.depth=u.depth,h.tabIndex=1===h.depth&&0===f?0:-1,h.setAttribute("role","treeitem"),u.appendChild(h);var y=null!=p.links,v=15*h.depth+3.1,b=v-18,m=p.slideid||p.emptySceneId;null==m&&n.draws.push({link:p,links:i,i:f});var g=t(m),w=e.rtl;h.innerHTML='\n            <div\n              id="outline-'.concat(h.depth,"-").concat(f,'"\n              class="cs-listitem listitem ').concat(o?"":"no-wrap"," ").concat(g?"is-scene":"",'"\n              data-origpad="').concat(v,'"\n              data-ref="').concat(m,'"\n              data-slide-title="').concat(i[f].displaytext,'"\n              ').concat(g?'data-is-scene="true"':"","\n              ").concat(y?'data-has-links="true"':"",'\n              tabIndex="-1"\n              title="').concat(l?p.displaytext:"",'"\n              >\n               ').concat(y?uo("carrot")(w?"94% - ".concat(b,"px"):"".concat(b,"px")):"","\n               ").concat(a?hl(p):""," ").concat(p.displaytext,"\n            </div>\n          "),y&&(h.setAttribute("aria-expanded",p.expand),h.classList.add("item-collapsible"),p.expand||h.classList.add("item-collapsed"),r(p.links,h,p))}}(r,c),c.innerHTML},updateHook:function(){_.toArray(this.el.querySelectorAll(".listitem")).forEach((function(t){var n=parseFloat(t.getAttribute("data-origpad"));t.dataset.isScene&&(n+=2),t.style[e.rtl?"paddingRight":"paddingLeft"]=fl(ul(n)),t.style.marginBottom=fl(ul(1))})),cl(this.el.classList)}}}));function yl(e){return function(e){if(Array.isArray(e))return vl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bl="outlineSearch",ml=te.def(bl,Wi,(function(){var e=te.model.frame,t=e.controlOptions.controls.search||DS.presentation.isPreview()&&!window.globals.HAS_SLIDE;return{attrs:{id:"".concat(bl,"-content"),class:"outline-search ".concat(ll()),tabindex:-1},w:function(){return this.parent.childWidth||this.parent.w},h:function(){return this.parent.childHeight||this.parent.h},model:e,childViews:[].concat(yl(t?[vo,Pa]:[]),[pl]),updateHook:function(){this.children.forEach((function(e){return e.update()})),cl(this.el.classList)}}}));function gl(e){return gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(e)}function wl(e){return function(e){if(Array.isArray(e))return Sl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Sl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tl(r.key),r)}}function Ol(e,t){return Ol=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ol(e,t)}function Cl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xl(e);if(t){var i=xl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===gl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return El(e)}(this,n)}}function El(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xl(e){return xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xl(e)}function Tl(e){var t=function(e,t){if("object"!==gl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gl(t)?t:String(t)}var Ll=DS,Pl=(Ll._,Ll.focusManager),_l=Ll.detection,jl=Ll.pubSub,Dl=Ll.events,Il=Ll.dom,Al=Il.addClass,Rl=Il.removeClass,Bl=(Ll.keyManager.isTabKey,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ol(e,t)}(o,e);var t,n,r,i=Cl(o);function o(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),n=El(t),a=void 0,(r=Tl(r="s"))in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.view.isUnified&&(t.getScrollEl=function(){return t.termsEl},t.getOffsetTop=function(e){return e.offsetTop},t.getOffsetHeight=function(e){return e.offsetHeight+e.nextElementSibling.clientHeight}),t.hasDefinition=_l.deviceView.isDesktop&&!t.view.isUnified,jl.on(Dl.glossary.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&jl.on(Dl.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(El(t))),t}return t=o,(n=[{key:"onClickItem",value:function(e){var t=e.target;if(this.hasDefinition&&null!=t&&"p"!==t.nodeName.toLowerCase()){var n=null!=this.activeItem;n&&(this.activeItem.firstElementChild.setAttribute("aria-expanded",!1),this.activeItem.style.backgroundColor="",this.closeItem(this.activeItem)),n&&this.lastSelected==t||(t.setAttribute("aria-expanded",!0),this.openItem(t.parentElement)),this.lastSelected=t}}},{key:"getNextItem",value:function(e){var t,n=this.getItems(),r=this.getItems().indexOf(this.currentItem);do{(r+=1)===n.length&&(r=0),t=n[r]}while("none"===t.parentElement.style.display);return t}},{key:"getPrevItem",value:function(e){var t,n=this.getItems(),r=this.getItems().indexOf(this.currentItem);do{-1==(r-=1)&&(r=n.length-1),t=n[r]}while("none"===t.parentElement.style.display);return t}},{key:"hasListItems",value:function(){return!DS._.isEmpty(this.model.frame.glossaryData)}},{key:"getItems",value:function(){return this.links=this.links||wl(this.el.querySelectorAll(".term")),this.links}},{key:"openItem",value:function(e){Al(e,"cs-selected"),e.nextElementSibling.style.display="block",Al(e.nextElementSibling,"open"),this.activeItem=e}},{key:"closeItem",value:function(e){var t=this;Rl(e,"cs-selected"),Rl(e.nextElementSibling,"open"),this.activeItem=null,TweenLite.to(e,.2,{opacity:1,onComplete:function(){e.nextElementSibling.style.display="none",Pl.setFocusRectOn(t.currentItem)}})}},{key:"onShowTabItem",value:function(e,t){if("glossary"===e&&null!=t){var n=wl(this.el.querySelectorAll("[data-translation-id]")).find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&kl(t.prototype,n),r&&kl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(No));function Ml(e){return Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(e)}function Hl(e){return function(e){if(Array.isArray(e))return Nl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Nl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Ml(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ml(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Ml(o)?o:String(o)),r)}var i,o}function Vl(e,t){return Vl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vl(e,t)}function Wl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zl(e);if(t){var i=zl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ml(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ul(e)}(this,n)}}function Ul(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zl(e){return zl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zl(e)}var Kl=DS,Gl=(Kl.detection,Kl.pubSub),ql=Kl.events,Zl=Kl.keyManager.isSpaceKey,Ql=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vl(e,t)}(o,e);var t,n,r,i=Wl(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),Gl.on(ql.resources.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&Gl.on(ql.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Ul(t))),t}return t=o,(n=[{key:"onClickItem",value:function(){}},{key:"hasListItems",value:function(){return(this.model.resourceData.resources||[]).length>0}},{key:"getItems",value:function(){return this.items=this.items||Hl(this.el.querySelectorAll(".resource a")),this.items}},{key:"activateItem",value:function(e){Zl(e.keyCode)&&DS.windowOpen.open({url:this.currentItem.dataset.url})}},{key:"getOffsetTop",value:function(e){return this.currentItem.offsetTop}},{key:"getFocusRectTarget",value:function(){return this.currentItem.parentNode}},{key:"onShowTabItem",value:function(e,t){if("resource"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&Fl(t.prototype,n),r&&Fl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(Bl),Yl=DS.utils,Xl=Yl.getPath,$l=Yl.pxify,Jl=Yl.scaleVal,ec="resources",tc=te.def(ec,Ql,(function(){var e=te.model.frame;return{attrs:{id:"".concat(ec,"-content"),class:"cs-resource ".concat(ll()," is-scrollable"),tabindex:-1,"aria-labelledby":"resources-head"},w:function(){return this.parent.childWidth||this.parent.w},h:function(){return this.parent.childHeight||this.parent.h},overflow:"",model:e,html:function(){return'\n      <h4 class="resources-title cs-heading panel-section-heading html-reset" tabindex="-1" id="resources-head" data-ref="head">\n        '.concat(Xl(e,"resourceData.description"),'\n      </h4>\n      <hr class="cs-separator"></hr>\n      <div class="resources-content panel-content" data-ref="content">\n        <ul>\n          ').concat(Xl(e,"resourceData.resources",[]).reduce((function(e,t,n){var r="javascript:DS.windowOpen.open({ url: '".concat(t.url,"' })");return"".concat(e,'\n              <li class="cs-listitem resource" tabindex="-1"\n                data-url="').concat(t.url,'"\n                id="resource-').concat(n,'"\n                role="presentation">\n                  <a href="').concat(r,'" data-url="').concat(t.url,'" tabindex="').concat(0===n?0:-1,'">\n                    <img src="').concat(t.image,'" role="presentation" tabindex="-1" />\n                    ').concat(t.title,"\n                  </a>\n              </li>")}),""),"\n        </ul>\n      </div>")},updateHook:function(){var e=this.children.head.el.querySelector("font");null!=e&&(this.origSize=this.origSize||parseFloat(e.style.fontSize),e.style.fontSize=$l(Jl(this.origSize,!1))),cl(this.el.classList)}}})),nc=DS.utils.getPath,rc="glossary",ic=te.def(rc,Bl,(function(){var e=te.model,t=te.getCurrentNameSpaceString(),n=function(e){return Se.getColor(t,".cs-glossary .cs-div".concat(e),"border-color")},r=n("a"),i=n("b"),o=n("c"),a="box-shadow: 0 -1px 0 0 ".concat(o,", 0 -2px 0 0 ").concat(i,", 0 1px 0 0 ").concat(r),l=Se.getColor(t,".cs-glossary .cs-term.cs-selected .cs-choice-list-trigger","background"),c=Se.getColor(t,".cs-glossary .cs-term .cs-choice-list-trigger:focus","background");return{attrs:{id:"".concat(rc,"-content"),class:"cs-glossary ".concat(ll()),tabindex:-1},w:function(){return this.parent.childWidth||this.parent.w},h:function(){return this.parent.childHeight||this.parent.h},selectedColor:l,hoverColor:c,model:e,html:function(){return'<h4 class="panel-section-heading glossary-title cs-heading" style="'.concat(a,'" tabindex="-1">\n        ').concat(e.getString("terms"),'\n      </h4>\n\n      <div data-ref="terms" class="glossary-content cs-scrolling-panel scrolling-panel">\n        ').concat(nc(e,"frame.glossaryData",[]).map((function(e,t){var n=e.content.split(/\r\n/g).filter((function(e){return e.trim().length>0}));return'\n            <dt class="term cs-term"  tabindex="'.concat(0===t?0:-1,'" id="term-').concat(t,'">\n              <button\n                class="cs-choice-list-trigger"\n                aria-controls="term-').concat(t,'"\n                aria-expanded="false"\n                tabindex="-1"\n              >\n                  ').concat(e.title,'\n              </button>\n            </dt>\n            <dd class="cs-editor definition"  tabindex="-1" id="term-').concat(t,'" style="display: none">\n              ').concat(n.map((function(e){return'<p class="term" tabindex="-1">'.concat(e,"</p>")})).join(""),"\n            </dd>\n          ")})).join(""),"\n      </div>")},updateHook:function(){cl(this.el.classList)}}}));function oc(e){return oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(e)}function ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==oc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==oc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===oc(o)?o:String(o)),r)}var i,o}function lc(e,t){return lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lc(e,t)}function cc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uc(e);if(t){var i=uc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===oc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sc(e)}(this,n)}}function sc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uc(e){return uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uc(e)}var fc=/color:#ffffff/gi,dc=DS,hc=dc.detection,pc=dc.events,yc=dc.focusManager,vc=dc.pubSub,bc=(dc.utils,dc.slideObjectUtils),mc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lc(e,t)}(o,e);var t,n,r,i=cc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),vc.on(pc.window.MAIN_CHANGED,t.onSlideChanged.bind(sc(t))),DS.flagManager.localizationPlatform&&vc.on(pc.transcript.REFRESH_VIEW,t.onRefreshView.bind(sc(t))),hc.deviceView.isClassicMobile?vc.on(pc.mobile.NOTES_SHOWN,t.onHamburgerToggle.bind(sc(t),!1)):hc.deviceView.isUnifiedMobile&&vc.on(pc.hamburger.TOGGLE,t.onHamburgerToggle.bind(sc(t))),t.forceScrollToTop=!1,t}return t=o,(n=[{key:"onHamburgerToggle",value:function(e){this.forceScrollToTop&&!e&&(this.getScrollElement().scrollTop=0,this.forceScrollToTop=!1)}},{key:"onFocus",value:function(){this.el.focus(),yc.setFocusRectOn(this.el.parentNode)}},{key:"focusSelf",value:function(){this.onFocus()}},{key:"handleTab",value:function(){return this.el.parentElement.focus(),!0}},{key:"onSlideChanged",value:function(e){if(this.lasSlideId!=e.absoluteId){this.lasSlideId=e.absoluteId;var t=(this.model.notesData||[]).find((function(t){return e.absoluteId.includes(t.slideId)}));null!=this.titleEl&&(this.titleEl.innerHTML=e.get("title"));var n=null==t?"":t.content;hc.deviceView.isClassicMobile&&(n=n.replace(fc,"color:#515557")),this.contentEl.innerHTML=n,this.contentEl.querySelectorAll(".semantic-list").forEach((function(e){e.setAttribute("role","list")})),vc.trigger(pc.transcript.CHANGED),bc.activeMobileMenuItem(n,"no-transcript"),this.scrollToTop()}}},{key:"onRefreshView",value:function(){var e=DS.windowManager.getMainWindowSlide();null!=e&&this.onSlideChanged(e)}},{key:"scrollToTop",value:function(){hc.deviceView.isDesktop?this.view.el.scrollTop=0:hc.theme.isClassic?0===this.getScrollElement().scrollTop?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0:te.getNamespace(this.view.nameSpace).sidebar.collapsed?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0}},{key:"getScrollElement",value:function(){return hc.deviceView.isClassicMobile?this.view.parent.el:this.view.el}},{key:"getViewBox",value:function(){return this.view.parent.getBox()}},{key:"teardown",value:function(){vc.off(pc.window.MAIN_CHANGED,this.onSlideChanged.bind(this)),DS.flagManager.localizationPlatform&&vc.off(pc.transcript.REFRESH_VIEW,this.onRefreshView.bind(this)),hc.deviceView.isClassicMobile?vc.off(pc.mobile.NOTES_SHOWN,this.onHamburgerToggle.bind(this,!1)):hc.deviceView.isUnifiedMobile&&vc.off(pc.hamburger.TOGGLE,this.onHamburgerToggle.bind(this))}}])&&ac(t.prototype,n),r&&ac(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),gc="transcript",wc=DS.utils,Sc=wc.pxify,kc=wc.scaleVal,Oc="data-origsize",Cc="data-origline",Ec={outline:ml,resources:tc,glossary:ic,transcript:te.def(gc,mc,(function(){var e=te.model,t=e.rtl?"rtl":"";return{attrs:{id:gc+"-content",class:"cs-transcript ".concat(t," is-scrollable"),tabindex:0},w:function(){return this.parent.childWidth||this.parent.w},h:function(){return(this.parent.childHeight||this.parent.h)-wt},overflow:"",html:"\n      <h4 data-ref=\"title\" class='note-title cs-heading panel-section-heading'></h4>\n      <hr class='cs-div'></hr>\n      <div data-ref=\"content\" class='note-content'></div>\n    ",updateHook:function(){if("no scale"!==window.globals.scale){var e=this.children.content.el.querySelectorAll("span[style]");_.forEach(e,(function(e){var t=parseFloat(e.getAttribute(Oc)),n=parseFloat(e.getAttribute(Cc));isNaN(t)&&(t=parseFloat(e.style.fontSize),e.setAttribute(Oc,t),n=parseFloat(e.style.lineHeight),e.setAttribute(Cc,n)),e.style.fontSize=Sc(kc(t,!1)),e.style.lineHeight=Sc(kc(n,!1))}))}},model:e.frame}}))},xc=DS.utils,Tc=xc.getPath,Lc=(xc.scaleVal,DS.constants.refs.FRAME),Pc="sidebarPanels",_c=(te.def(Pc,(function(e){var t=te.getNamespace(e),n=t.sidebar,r=t.tabs,i=t.logo;return{attrs:{id:Pc},x:9,z:1,y:function(){return r.bottom()},w:function(){return n.w-St},h:function(){var e=i?i.h+wt:0;return n.h-St-r.h-e},childDef:function(){_c(te.model,e)},updateHook:function(){this.children.forEach((function(e){return e.update()}))}}})),function(e,t){Tc(e,"sidebarTabs",[]).forEach((function(e,n){!function(e,t,n,r){var i=t.name,o=i+"Panel",a=0===n,l=te.def(o,Ai,{attrs:{id:o,class:"cs-menu cs-panel is-scrollable panel","aria-labelledby":i+"-tab",role:"tabpanel",tabindex:-1},visibility:"no-reflow",style:{display:a},x:0,y:0,overflow:function(){return null},w:"100%",h:"100%",html:"",updateHook:function(){this.children.forEach((function(e){return e.update()}))}});l.init(),te.getNamespace(Lc).sidebarPanels.append(l);var c=Ec[i];null!=c&&(c.nameSpace=r,c.init(),l.append(c))}(0,e,n,t)}))}),jc="topTabs";function Dc(e){return Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(e)}function Ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Dc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Dc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Dc(o)?o:String(o)),r)}var i,o}function Ac(e,t){return Ac=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ac(e,t)}function Rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bc(e);if(t){var i=Bc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Dc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Bc(e){return Bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bc(e)}te.def(jc,(function(){return{attrs:{id:jc,role:"navigation"},overflow:"visible",w:"100%",h:"100%"}}));var Mc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ac(e,t)}(o,e);var t,n,r,i=Rc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).onClick(t.onClickLink),t}return t=o,(n=[{key:"onClickLink",value:function(){var e=this,t=this.model.properties.data;DS.pubSub.trigger(DS.events.customlink.EVENT,t),this.view.parent.children.forEach((function(t){t.viewLogic!==e&&t.viewLogic.showing&&t.viewLogic.hidePanel()}))}},{key:"isLive",value:function(){return!0}}])&&Ic(t.prototype,n),r&&Ic(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn);function Hc(e){return Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(e)}function Nc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Hc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Hc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Hc(o)?o:String(o)),r)}var i,o}function Fc(){return Fc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zc(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Fc.apply(this,arguments)}function Vc(e,t){return Vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vc(e,t)}function Wc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zc(e);if(t){var i=zc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Hc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Uc(e)}(this,n)}}function Uc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zc(e){return zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zc(e)}var Kc=DS.dom.isWithin,Gc=DS.globalEventHelper,qc=Gc.addDocumentListener,Zc=Gc.removeDocumentListener,Qc=DS,Yc=Qc.pubSub,Xc=Qc.events,$c=Qc._,Jc=Qc.playerGlobals,es=Qc.dom,ts=es.addClass,ns=es.removeClass,rs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vc(e,t)}(o,e);var t,n,r,i=Wc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),$c.bindAll(Uc(t),"hidePanel","onCheckShouldHide"),t.onClick(t.onClickLink),t.showing=!1,Yc.on(Xc.sidebar.ACTIVE_TAB_SET,t.onActiveTabSet.bind(Uc(t))),DS.flagManager.localizationPlatform&&Yc.on(Xc.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Uc(t))),t}return t=o,n=[{key:"onShowTabItem",value:function(e){this.hidePanel(),this.view.nameKey.includes(e)&&this.showPanel(!0)}},{key:"onActiveTabSet",value:function(e){this.view.parent.children.find((function(t){return t.nameKey.includes(e)}))&&this.hidePanel(),this.view.nameKey.includes(e)&&this.showPanel()}},{key:"onClickLink",value:function(e){this.showing?this.hidePanel():this.showPanel()}},{key:"showPanel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.translationShown=e,this.el.style.border="1px solid ".concat(this.view.selectedBorderColor),this.el.setAttribute("aria-expanded",!0),ts(this.el,"cs-selected"),ts(this.el,"active"),this.view.panel.el.style.display="block",this.view.panel.viewLogic.focusChild(),qc("mouseup",this.onCheckShouldHide),Yc.on(Xc.controlLayout.CHANGED,this.hidePanel),this.showing=!0}},{key:"hidePanel",value:function(){this.translationShown=!1,this.el.style.border="1px solid rgba(0, 0, 0, 0)",this.el.setAttribute("aria-expanded",!1),ns(this.el,"cs-selected"),ns(this.el,"active"),this.view.panel.el.style.display="none",Zc("mouseup",this.onCheckShouldHide),Yc.off(Xc.controlLayout.CHANGED,this.hidePanel),this.showing=!1}},{key:"onBlur",value:function(e){Jc.presentation.isPreview()&&!window.globals.HAS_SLIDE||this.onCheckShouldHide({target:e.relatedTarget}),Fc(zc(o.prototype),"onBlur",this).call(this,e)}},{key:"onCheckShouldHide",value:function(e){null!=e.target&&(Kc(e.target,"panel")||this.el.contains(e.target))||this.hidePanel()}},{key:"isLive",value:function(){var e=te.model.currControlLayout[this.model.name];return $c.isObject(e)?e.enabled:e}},{key:"teardown",value:function(){Yc.off(Xc.controlLayout.CHANGED,this.hidePanel),Yc.off(Xc.sidebar.ACTIVE_TAB_SET)}}],n&&Nc(t.prototype,n),r&&Nc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),is=rs,os=DS.utils.getPath,as=DS.constants.refs.FRAME,ls="separator-style",cs=function(){return"\n    .top-tab:before {\n      box-shadow: 0px 0px 0px 1px ".concat(Se.getColor(DS.constants.refs.FRAME,".cs-separator .cs-diva","background-color",".cs-base"),",\n        1px 0px 0px 1px ").concat(Se.getColor(DS.constants.refs.FRAME,".cs-separator .cs-divb","background-color",".cs-base"),";\n    }\n  ")},ss=!1,us=function(e){var t,n=e.id,r=te.def(n,(function(r){te.getNamespace(r).title,te.model;return t=n,{attrs:{id:n,tabindex:-1},overflow:"visible",w:"50%",x:e.x,y:0,h:"100%",z:5,childDef:function(){!function(){if(!ss){ss=!0;var e=document.createElement("style");e.id=ls,document.body.appendChild(e),e.innerHTML=cs()}}(),o(te.model,r)},updateHook:e.updateHook}})),i=function(n,i,o,a){var l,c,s,u,f="customlink"===o.name;f?(c=Mc,l=o.properties.title,s="link".concat(e.dir).concat(a),u="custom-link"):(c=is,l=i.getString(o.name),s=o.name+"Link",u="panel-link");var d=Se.getColor(n,".cs-topmenu-item.active .cs-tab","border-top-color",".cs-base"),h={id:s,class:"topmenu-item cs-topmenu-item cs-tabs top-tab ".concat(u),tabindex:0};f||(h["aria-controls"]="".concat(s,"Panel"),h["aria-expanded"]=!1);var p=te.def(s,c,{selectedBorderColor:d,attrs:h,model:Object.assign(o,{idx:a}),isTopLink:!0,calcTextSize:!0,noUpdate:!0,contentStyle:{top:"8%"},tag:"button",html:function(){return'<span class="cs-tab">'.concat(l,"</span>")},wPad:14,overflow:"visible",y:function(){return this.parent.h-this.h-9},w:"fit-to-text-w",h:"fit-to-text-h",z:2,border:"1px solid rgba(0, 0, 0, 0)",minH:23,updateHook:function(){if(_.isFunction(this.viewLogic.scaleProps)&&this.viewLogic.scaleProps(),DS.playerGlobals.presentation.isPreview()&&!window.globals.HAS_SLIDE){var e=document.querySelector("style#".concat(ls));null!=e&&(e.innerHTML=cs())}}});p.init(),te.getNamespace(as)[e.id].append(p),f||function(n,i,o,a){var l=a.name+"Panel",c="linksRight"===e.id,s=te.getNamespace(n),u=s.topBar,f=(s.frame,s.sidebar,s.slide,s.wrapper,s.linksLeft,Se.getColor(n,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base")),d=te.def(l,Ai,{attrs:{id:l,class:"cs-topmenu-item topmenu-item active cs-menu cs-panel panel topmenu-panel-align-".concat(c?"right":"left"),tabIndex:-1},style:{borderColor:f},w:302,h:438,z:1,visible:!1,lnk:i,childWidth:300,childHeight:436,tabsId:t,overflow:"visible",x:function(){var e=i.x;return e+r.x>u.w/2&&(e=e+i.w-this.w),e},y:function(){return i.y+i.h},updateHook:function(){this.updateChildren(!0)}});d.init(),te.getNamespace(as)[e.id].append(d),i.panel=d;var h=Ec[a.name];null!=h&&(h.init(),d.append(h))}(n,p,0,o)},o=function(t,n){os(t,e.linkListName,[]).forEach((function(e,r){i(n,t,e,r)}))}};us({id:"linksLeft",dir:"Left",linkListName:"topTabsLeft",x:0,updateHook:function(){this.flowChildren({hook:function(e){null!=e.panel&&e.panel.update()},pad:-3,startPos:11})}});us({id:"linksRight",dir:"Right",linkListName:"topTabsRight",x:function(){return te.getNamespace(DS.constants.refs.FRAME).linksLeft.right()},updateHook:function(){this.flowChildren({toLeft:!0,startPos:null!=this.nameSpace?te.getNamespace(this.nameSpace).linksRight.w-2:0,pad:-3,reverse:!0,hook:function(e){null!=e.panel&&e.panel.update()}})}});var fs="bottomBar";te.def(fs,(function(e){var t=te.getNamespace(e),n=t.frame,r=t.topBar,i=te.model.rtl;return{tag:"section",attrs:{id:fs},x:function(){return r.x-1},y:function(){return n.h-54},w:function(){return r.w},h:kt,overflow:"visible",updateHook:function(){if(this.hasAllChildren()){this.updateChildren(),this.el.style.pointerEvents=te.model.bottomBarOpts.bottomBarEnabled?"all":"none";var e=this.children.playbackControls.children.seek;if(e.width=0,this.children.playbackControls.visible&&e.visible){var t=this.calcChildrensWidth()+(this.children.length+1)*wt;e.width=r.w-t}this.flowChildren({alignChild:!0,bounds:{t:0,b:this.h,l:0,r:this.w},rtl:i,pad:wt})}},childVisibilityChangedHook:function(){this.update()}}}));var ds="navControls";te.def(ds,(function(){var e=te.model.rtl;return{tag:"nav",attrs:{id:ds,"aria-label":"slide navigation"},w:function(){return this.width||0},overflow:"visible",h:kt,updateHook:function(){this.flowChildren({rtl:e,startPos:-10,pad:wt,fullUpdate:!0,sizeToChildren:!0})},parentAlign:e?"l":"r"}}));var hs="miscControls";function ps(e){return ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(e)}function ys(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==ps(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ps(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===ps(o)?o:String(o)),r)}var i,o}te.def(hs,(function(){var e=te.model.rtl;return{attrs:{id:hs,"aria-label":"miscellaneous controls",role:"region"},w:function(){return this.width||0},h:kt,overflow:"visible",updateHook:function(){this.flowChildren({fullUpdate:!0,pad:wt,startPos:-10,sizeToChildren:!0,rtl:e})},childVisibilityChangedHook:function(){this.update()},parentAlign:"l"}}));var vs=DS,bs=vs._,ms=vs.pubSub,gs=vs.events,ws=vs.dom.toggleClasses,Ss=(vs.shortcutManager,function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t,bs.bindAll(this,"onSlideChanged","onTimelineChanged","onPlaybackChanged"),ms.on(gs.slide.STARTED,this.onSlideChanged)}var t,n,r;return t=e,(n=[{key:"teardown",value:function(){ms.off(gs.slide.STARTED,this.onSlideChanged)}},{key:"onTimelineChanged",value:function(e,t){e!==this.currTimeline&&(ms.trigger(gs.playbackControls.TIMELINE_CHANGED,e,t),null!=this.currTimeline&&(this.currTimeline.off(gs.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.off(gs.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.off(gs.timeline.ENDED,this.onPlaybackChanged)),this.currTimeline=e,this.currTimeline.on(gs.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.on(gs.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.on(gs.timeline.ENDED,this.onPlaybackChanged),this.onPlaybackChanged())}},{key:"onPlaybackChanged",value:function(){var e=this.view.children,t=e.reset,n=e.playPause,r=null!=this.currTimeline&&"playing"===this.currTimeline.playbackState();ws(document.body,"timeline-playing","timeline-paused",r),ws(document.body,"has-reset","no-reset",this.view.visible&&null!=t&&t.visible),null!=n&&n.viewLogic.onPlaybackChanged()}},{key:"onSlideChanged",value:function(e,t,n){this.view.el.tabIndex=0,this.view.el.tabIndex=-1,this.view.nameSpace===n&&(null!=this.currSlide&&this.currSlide.off(gs.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.currSlide=t,this.currSlide.on(gs.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.onTimelineChanged(t.currentTimeline(),t))}}])&&ys(t.prototype,n),r&&ys(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),ks="playbackControls";function Os(e){return Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(e)}function Cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_s(r.key),r)}}function Es(){return Es="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ps(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Es.apply(this,arguments)}function xs(e,t){return xs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xs(e,t)}function Ts(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ps(e);if(t){var i=Ps(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Os(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ls(e)}(this,n)}}function Ls(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ps(e){return Ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ps(e)}function _s(e){var t=function(e,t){if("object"!==Os(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Os(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Os(t)?t:String(t)}te.def(ks,Ss,(function(e){return{attrs:{id:ks,"aria-label":"playback controls",class:"cs-seekcontrol",tabindex:-1},visibility:"no-reflow",x:0,w:function(){return this.visible&&this.width||0},h:kt,noUpdate:!0,updateHook:function(){this.el.style.background="none",this.flowChildren({fullUpdate:!0,sizeToChildren:!0})},parentAlign:"l"}}));var js=DS,Ds=js._,Is=js.utils,As=js.pubSub,Rs=js.events,Bs=js.constants,Ms=js.keyManager,Hs=js.focusManager,Ns=js.dom,Fs=js.dom,Vs=Fs.addClass,Ws=Fs.removeClass,Us=js.globalEventHelper,zs=Us.addBodyListener,Ks=Us.removeBodyListener,Gs=js.appState,qs=10,Zs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xs(e,t)}(o,e);var t,n,r,i=Ts(o);function o(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),n=Ls(t),a=!0,(r=_s(r="hasTooltip"))in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.isOpen=!1,t.view.volumeStrength=Bs.DEFAULT_VOLUME*qs,Ds.bindAll(Ls(t),"onShow","onHide","onVolumeChanged","onInputChanged","toggleMute","onKeydown","onScroll"),t.volumeRangeEl.addEventListener("input",t.onInputChanged),t.el.addEventListener("mouseover",t.onShow),t.el.addEventListener("scroll",t.onScroll),t.buttonEl.addEventListener("click",t.toggleMute),As.on(Rs.volume.CHANGED,t.onVolumeChanged),Gs.setVolume(t.view.volumeStrength/qs),t}return t=o,(n=[{key:"tooltipKey",get:function(){return Gs.getVolume()>0?"acc_mute":"acc_unmute"}},{key:"onVolumeChanged",value:function(e){e=Is.clamp(0,qs,e*qs),this.view.volumeStrength=e,this.view.updateButton();var t=0===e;this.buttonEl.setAttribute("aria-pressed",t),this.volumeRangeEl.valueAsNumber!==e&&(this.volumeRangeEl.value=e)}},{key:"onHide",value:function(e){var t=this;setTimeout((function(){var e=document.elementFromPoint(Ns.mouseX,Ns.mouseY);t.el.contains(e)||"tooltip"===e.id||(t.isOpen=!1,Ws(t.el,"open"),t.view.el.removeEventListener("mouseleave",t.onHide),Ks("keydown",t.onKeydown),t.view.update())}),200)}},{key:"onShow",value:function(){this.isOpen||(this.isOpen=!0,Vs(this.el,"open"),this.view.el.addEventListener("mouseleave",this.onHide),zs("keydown",this.onKeydown),this.view.update())}},{key:"onInputChanged",value:function(e){var t=e.target.valueAsNumber;Gs.setVolume(t/qs)}},{key:"toggleMute",value:function(e){Gs.onToggleVolume()}},{key:"onFocus",value:function(e){this.onShow(),this.onHoverIn(e),Hs.setFocusRectOn(e.target)}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.onHoverOut(e),this.onHide(),Es(Ps(o.prototype),"onBlur",this).call(this))}},{key:"onKeydown",value:function(e){var t=e.which,n=this.volumeRangeEl.valueAsNumber,r=function(t){Gs.setVolume(t/qs),e.preventDefault()};document.activeElement!==this.volumeRangeEl&&(Ms.isDownishKey(t)||Ms.isPageDownKey(t)?r(n-1):Ms.isUpishKey(t)||Ms.isPageUpKey(t)?r(n+1):Ms.isEndKey(t)?r(qs):Ms.isHomeKey(t)&&(this.previousVolume=n,r(0)))}},{key:"onScroll",value:function(e){e.target.scrollTop=0}},{key:"dismissTooltip",value:function(){Es(Ps(o.prototype),"dismissTooltip",this).call(this),this.onHide()}},{key:"teardown",value:function(){As.off(Rs.volume.CHANGED,this.onVolumeChanged)}}])&&Cs(t.prototype,n),r&&Cs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),Qs="volume",Ys=DS,Xs=(Ys.scaler,Ys.utils),$s=Xs.pxify,Js=Xs.scaleVal;function eu(e){return eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(e)}function tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cu(r.key),r)}}function nu(){return nu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=au(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},nu.apply(this,arguments)}function ru(e,t){return ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ru(e,t)}function iu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=au(e);if(t){var i=au(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===eu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ou(e)}(this,n)}}function ou(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function au(e){return au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},au(e)}function lu(e,t,n){return(t=cu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cu(e){var t=function(e,t){if("object"!==eu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eu(t)?t:String(t)}te.def(Qs,Zs,(function(e){var t=te.model;te.model.rtl;return{noUpdate:!0,z:1e3,attrs:{id:Qs,class:"btn cs-volume cs-button volume-panel"},style:{position:"absolute"},w:31,h:function(){return this.viewLogic.isOpen?106:30},y:function(){return this.el.style.top=$s(Js(this.viewLogic.isOpen?-68:8,!1)),0},html:function(){return'<button\n      data-ref="button"\n      class="cs-button btn"\n      aria-label="'.concat(t.getString("acc_volume"),'"\n      aria-pressed="false"\n      tabIndex="0"\n      >\n      ').concat(uo("volume")(this.volumeStrength,Js(15),Js(20)),'\n      </button>\n      <div data-ref="sliderBar" class="slider-bar">\n        <input\n          type="range"\n          class="cs-volume"\n          data-ref="volumeRange"\n          aria-label="').concat(t.getString("acc_volume"),'"\n          min="0"\n          max="10"\n          step="1"\n          value="').concat(this.volumeStrength,'"\n          tabIndex="0"\n          aria-orientation="vertical" />\n      </div>')},updateHook:function(){var e=this.el.querySelector("svg");null!=e&&(e.height.baseVal.value=Js(20),e.width.baseVal.value=Js(15))},methods:{updateButton:function(){this.children.button.el.innerHTML=uo("volume")(this.volumeStrength,Js(15),Js(20)),this.el.style.background=this.accessibleTextOn?"#777":""}}}}));var su=DS,uu=su.dom,fu=uu.addClass,du=uu.removeClass,hu=su.appState,pu=su.scaler,yu=su.shortcutManager,vu=su.events,bu=su.focusManager,mu=su.pubSub,gu=su.keyManager,wu=su.utils.fullScreen,Su=su.globalEventHelper.addDocumentListener,ku=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ru(e,t)}(o,e);var t,n,r,i=iu(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),lu(ou(t=i.call(this,e)),"hasTooltip",!0),lu(ou(t),"tooltipKey","acc_settings"),lu(ou(t),"hideTooltipWhenOpen",!0),lu(ou(t),"onToggleBackgroundAudio",(function(){mu.trigger(vu.backgroundAudio.TOGGLE)})),lu(ou(t),"toggleBackgroundAudio",(function(){t.updateToggle(t.backgroundAudioSwitchEl,DS.courseAudio.enabled())})),lu(ou(t),"onCaptionsEnabled",(function(){t.view.updateHook()})),DS._.bindAll(ou(t),"onAccessibleTextChanged","onZoomModeChanged","onKeyboardShortcutsChanged"),t.onClickEl(t.settingsBtnEl,t.togglePanel),null!=t.shortcutsSwitchEl&&(t.onClickEl(t.shortcutsSwitchEl,t.toggleShortcuts),DS.pubSub.on(vu.player.ENABLE_KEYBOARD_SHORTCUTS,t.onKeyboardShortcutsChanged)),null!=t.captionsButtonEl&&(t.onClickEl(t.captionsButtonEl,t.toggleCaptions),mu.on(vu.captions.ENABLED,t.onCaptionsEnabled)),null!=t.resetButtonEl&&t.onClickEl(t.resetButtonEl,t.resetTimeline),null!=t.acctextSwitchEl&&(t.onClickEl(t.acctextSwitchEl,t.toggleAccessibleText),hu.on(vu.player.ACCESSIBLE_TEXT_CHANGED,t.onAccessibleTextChanged)),null!=t.zoomSwitchEl&&(t.onClickEl(t.zoomSwitchEl,t.toggleZoomMode),mu.on(vu.window.ZOOM_MODE_CHANGED,t.onZoomModeChanged)),t.handleFullScreenChange=t.handleFullScreenChange.bind(ou(t)),null!=t.fullScreenToggleButtonEl&&(t.onClickEl(t.fullScreenToggleButtonEl,t.toggleFullScreen),t.removeFullScreenListener=wu.addChangeListener(t.handleFullScreenChange)),null!=t.backgroundAudioSwitchEl&&(t.onClickEl(t.backgroundAudioSwitchEl,t.onToggleBackgroundAudio),mu.on(vu.backgroundAudio.HAS_TOGGLED,t.toggleBackgroundAudio)),t}return t=o,(n=[{key:"toggleFullScreen",value:function(){hu.toggleFullScreen()}},{key:"handleFullScreenChange",value:function(){wu.getEl()===hu.getPresoEl()?fu(this.el,"full-screen"):du(this.el,"full-screen")}},{key:"togglePanel",value:function(){this.isOpen?this.hidePanel():(this.showPanel(),this.dismissTooltip())}},{key:"showPanel",value:function(){var e=this;this.isOpen=!0,fu(this.el,"open"),this.view.updatePanelPosition(),this.settingsBtnEl.setAttribute("aria-expanded",!0),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!0),this.removeShowPanelListener=Su("keydown",(function(t){return e.handleKeyDown(t)}))}},{key:"hidePanel",value:function(){this.isOpen=!1,du(this.el,"open"),this.settingsBtnEl.setAttribute("aria-expanded",!1),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!1),null!=this.removeShowPanelListener&&this.removeShowPanelListener()}},{key:"handleKeyDown",value:function(e){gu.isEscapeKey(e.which)&&(this.hidePanel(),this.settingsBtnEl.focus(),bu.setFocusRectOn(this.settingsBtnEl))}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.hidePanel(),nu(au(o.prototype),"onBlur",this).call(this))}},{key:"updateToggle",value:function(e,t){t?(fu(e,"toggle-on"),du(e,"toggle-off")):(fu(e,"toggle-off"),du(e,"toggle-on")),e.querySelector("button").setAttribute("aria-checked",t)}},{key:"onAccessibleTextChanged",value:function(e){this.accTextOn=e,this.updateToggle(this.acctextSwitchEl,this.accTextOn)}},{key:"onKeyboardShortcutsChanged",value:function(e){this.updateToggle(this.shortcutsSwitchEl,e)}},{key:"toggleAccessibleText",value:function(){this.accTextOn=!this.accTextOn,this.updateToggle(this.acctextSwitchEl,this.accTextOn),hu.onToggleAccessibleText(this.accTextOn)}},{key:"onZoomModeChanged",value:function(){this.updateToggle(this.zoomSwitchEl,pu.zoomMode)}},{key:"toggleZoomMode",value:function(){pu.enableZoomMode(!pu.zoomMode),this.updateToggle(this.zoomSwitchEl,pu.zoomMode),bu.setFocusRectOn(this.zoomSwitchEl.querySelector("button"))}},{key:"toggleShortcuts",value:function(){yu.enableShortcuts(!yu.enabled),this.updateToggle(this.shortcutsSwitchEl,yu.enabled)}},{key:"toggleCaptions",value:function(){te.getNamespace("_frame").captions.viewLogic.toggleCaptions(),this.view.updateHook()}},{key:"resetTimeline",value:function(){te.getNamespace("_frame").reset.viewLogic.resetTimeline()}},{key:"teardown",value:function(){hu.off(vu.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged),mu.off(vu.window.ZOOM_MODE_CHANGED,this.onZoomModeChanged),mu.off(vu.captions.ENABLED,this.onCaptionsEnabled),mu.off(vu.backgroundAudio.HAS_TOGGLED,this.toggleBackgroundAudio),null!=this.removeFullScreenListener&&this.removeFullScreenListener()}},{key:"onFocus",value:function(e){var t=e.target;if(this.el.contains(t))return bu.setFocusRectOn(t),this.onHoverIn(e),this.isFocused=!1,!1}}])&&tu(t.prototype,n),r&&tu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn);function Ou(e){return function(e){if(Array.isArray(e))return Cu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Cu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Eu=DS,xu=Eu.utils,Tu=xu.pxify,Lu=xu.scaleVal,Pu=Eu.scaler,_u="settings";function ju(e){return ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(e)}function Du(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mu(r.key),r)}}function Iu(e,t){return Iu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Iu(e,t)}function Au(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bu(e);if(t){var i=Bu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ju(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ru(e)}(this,n)}}function Ru(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bu(e){return Bu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bu(e)}function Mu(e){var t=function(e,t){if("object"!==ju(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ju(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ju(t)?t:String(t)}te.def(_u,ku,(function(e){var t=te.model,n=(te.model.rtl,Se.getColor(e,".cs-button","color")),r=Se.getColor(e,".cs-checkbox .cs-box.checked.after","color"),i=Se.getColor(e,".cs-checkbox .cs-box","border-color"),o=Se.getColor(e,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base"),a=Se.getColor(e,".cs-menu","background-color"),l=te.getNamespace(e).bottomBar;return{noUpdate:!0,attrs:{id:_u,class:"btn cs-button cs-settings"},overflow:"visible",w:30,parentAlign:"l",h:function(){return 30},x:function(){return this.left||0},y:"vertical-center",methods:{getControlConfigs:function(){return[].concat(Ou(DS.frameModel.hasModernText?[{name:"acctext",labelId:"accessible_text",isOn:function(){return DS.appState.accessibleTextOn()}}]:[]),[{name:"shortcuts",labelId:"keyboardshortcuts_lower",isOn:function(){return DS.shortcutManager.enabled}}])},getToggleControls:function(){return this.getControlConfigs().map((function(e){var o=e.name,l=e.labelId,c=(0,e.isOn)();return'\n            <div class="switch '.concat(c?"toggle-on":"toggle-off",'" data-ref="').concat(o,'Switch">\n              <label class="switch-label" aria-hidden="true" id="').concat(o,'-label">\n                ').concat(t.getString(l),'\n              </label>\n              <button class="switch-toggle" id="').concat(o,'-switch" tabindex="0" role="switch" aria-checked="').concat(c,'" aria-labelledby="').concat(o,'-label">\n                ').concat(uo("track")(Pu.getScale(),r,i,a,n,o),"\n              </button>\n            </div>\n          ")})).join("")},updatePanelPosition:function(){if(null!=l){var e=this.children.settingsPanel.el;e.style.left=0;var t=e.getBoundingClientRect(),n=l.el.getBoundingClientRect(),r=0;t.right>n.right&&(r=n.right-(t.right+Lu(wt))),t.left<n.left&&(r=n.left-t.left+Lu(wt)),e.style.left=Tu(r)}},scaleControls:function(){var e=this.children.settingsPanel.el,t=Lu(18),n=Lu(8);e.style.bottom=Tu(Lu(39)),e.style.padding="".concat(n,"px ").concat(t,"px ").concat(n,"px ").concat(t,"px");var r=this.children.downArrow.el,i=r.querySelector("svg");r.style.bottom=Tu(Lu(41)),r.style.left=Tu(Lu(2)),i.width.baseVal.value=Lu(22),i.height.baseVal.value=Lu(11);var o=e.querySelectorAll(".switch");_.forEach(o,(function(e){e.style.margin="".concat(Lu(15),"px 0 ").concat(Lu(15),"px 0");var t=e.querySelector(".switch-toggle > svg");t.width.baseVal.value=Lu(24),t.height.baseVal.value=Lu(16)}));var a=this.el.querySelector("svg");a.width.baseVal.value=Lu(16),a.height.baseVal.value=Lu(18)}},updateHook:function(){this.scaleControls(),this.updatePanelPosition()},html:function(){return'\n        <button data-ref="settingsBtn" aria-expanded="false" class="cs-button" aria-label="'.concat(t.getString("acc_settings"),'" tabIndex="0">\n          ').concat(uo("settings")(Pu.getScale()),'\n        </button>\n        <div data-ref="settingsPanel" class="settings-panel cs-menu" style="background:').concat(a,"; border: 1px solid ").concat(o,';" tabindex="-1">\n          <div class="settings-content">\n            ').concat(this.getToggleControls(),'\n          </div>\n        </div>\n        <div data-ref="downArrow" class="panel-down-arrow">\n          ').concat(uo("downArrow")(a),"\n        </div>\n      ")}}}));var Hu=DS,Nu=Hu.pubSub,Fu=Hu.captionsManager,Vu=Hu.stringTabler,Wu=Hu.events.captions,Uu=Wu.SHOW_BUTTON,zu=Wu.HIDE_BUTTON,Ku=Wu.ENABLED,Gu=Wu.ENABLE,qu=Hu.detection.theme.isUnified,Zu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iu(e,t)}(o,e);var t,n,r,i=Au(o);function o(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),n=Ru(t),a=!0,(r=Mu(r="hasTooltip"))in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.onClick(t.onClickCaptions),t.toggle=!1,Nu.on(Uu,(function(e){return t.onVisibilityChanged(!0)})),Nu.on(zu,(function(e){return t.onVisibilityChanged(!1)})),Nu.on(Ku,t.onCaptionsEnabled.bind(Ru(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.toggle?"acc_cc_hide":"acc_cc_show"}},{key:"onVisibilityChanged",value:function(e){this.view.setVisibility(e,!0),this.view.childVisibilityChanged(),this.toggle=Fu.isCaptionEnabled(),this.updateBtn()}},{key:"onCaptionsEnabled",value:function(e){this.toggle=e,this.updateBtn()}},{key:"updateBtn",value:function(){var e=this.toggle?"add":"remove";this.view.el.classList[e]("cs-tabs","cs-selected"),this.view.el.setAttribute("aria-pressed",this.toggle),this.view.el.setAttribute("aria-label",Vu.getString(this.toggle?"acc_cc_hide":"acc_cc_show")),qu&&this.view.updateHtml()}},{key:"onClickCaptions",value:function(e){this.toggleCaptions()}},{key:"toggleCaptions",value:function(){this.toggle=!this.toggle,Nu.trigger(Gu,this.toggle),this.updateBtn()}},{key:"getViewBox",value:function(){var e=this.view.getBox(),t=(e.h-30)/2;return e.h=30,e.y=e.y+t,e}},{key:"teardown",value:function(){Nu.off(Uu),Nu.off(zu),Nu.off(Ku)}}])&&Du(t.prototype,n),r&&Du(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),Qu="captions",Yu=DS.utils;Yu.pxify,Yu.scaleVal;function Xu(e){return Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(e)}function $u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,of(r.key),r)}}function Ju(e,t){return Ju=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ju(e,t)}function ef(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nf(e);if(t){var i=nf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Xu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tf(e)}(this,n)}}function tf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nf(e){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nf(e)}function rf(e,t,n){return(t=of(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function of(e){var t=function(e,t){if("object"!==Xu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xu(t)?t:String(t)}te.def(Qu,Zu,(function(){var e=te.model;return{tag:"button",attrs:{id:Qu,class:"cs-button btn content-center","aria-label":e.getString("acc_closed_captions"),"aria-pressed":!1,tabindex:0},minW:40,minH:30,y:"vertical-center",visible:!1,html:function(){return uo("captions")()}}}));var af=DS,lf=af._,cf=af.events,sf=af.pubSub,uf=af.detection,ff=af.dom.tappedClass,df=af.keyManager,hf=af.stringTabler,pf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ju(e,t)}(o,e);var t,n,r,i=ef(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),rf(tf(t=i.call(this,e)),"hasTooltip",!0),rf(tf(t),"onTap",(function(e){ff(t.el)})),rf(tf(t),"onClickBtn",(function(e){1!==t.currTimeline.progress()?t.currTimeline.togglePlayback():uf.theme.isUnified&&t.currTimeline.reset()})),rf(tf(t),"onKeydown",(function(e){var t=e.which;df.isSeekKey(t)&&sf.trigger(cf.player.SEEK,e)})),rf(tf(t),"onPlaybackChanged",(function(){t.updateToggle(),t.updateView()})),lf.bindAll(tf(t),"onTimelineChanged"),sf.on(cf.player.TOGGLE_PLAYBACK,t.onClickBtn),sf.on(cf.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),uf.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t.el.addEventListener("keydown",t.onKeydown),t.view.toggle=!0,uf.deviceView.isMobile&&sf.on(cf.currTimeline.TICK,t.onTick.bind(tf(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.view.toggle?"acc_pause":"acc_play"}},{key:"teardown",value:function(){sf.off(cf.currTimeline.TICK,this.onTick.bind(this))}},{key:"onTick",value:function(e){null!=this.circleProgress&&this.circleProgress.setAttribute("d",DS.svgUtils.wheelPath(17,17,17,0,360*e)),this.lastProgress=e}},{key:"updateView",value:function(){this.view.updateHtml(),this.circleProgress=this.el.querySelector(".circle-progress path"),this.onTick(this.lastProgress)}},{key:"updateToggle",value:function(){this.view.toggle="playing"===this.currTimeline.playbackState(),this.view.el.setAttribute("aria-pressed",!this.view.toggle),this.view.el.setAttribute("aria-label",hf.getString(this.view.toggle?"acc_pause":"acc_play"))}},{key:"onTimelineChanged",value:function(e){this.currTimeline=e,this.view.toggle=this.currTimeline.isPlaying(),this.updateView()}}])&&$u(t.prototype,n),r&&$u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),yf="playPause",vf=DS.utils,bf=(vf.encode,vf.scaleVal);function mf(e){return mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(e)}function gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ef(r.key),r)}}function wf(e,t){return wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wf(e,t)}function Sf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Of(e);if(t){var i=Of(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===mf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kf(e)}(this,n)}}function kf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Of(e)}function Cf(e,t,n){return(t=Ef(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ef(e){var t=function(e,t){if("object"!==mf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==mf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mf(t)?t:String(t)}te.def(yf,pf,(function(){var e=te.model;return{tag:"button",attrs:{id:yf,class:"content-center cs-button","aria-pressed":!1,"aria-label":"".concat(e.getString("acc_play"),"/").concat(e.getString("acc_pause")),tabindex:0},style:{background:"transparent",border:"none"},html:function(){return this.toggle?uo("pause")(bf(14),bf(12)):uo("play")(bf(14),bf(11))},y:"vertical-center",minW:30,minH:30,z:1,updateHook:function(){this.el.setAttribute("aria-pressed",!this.toggle);var e=this.el.querySelector("svg");e.height.baseVal.value=bf(14),e.width.baseVal.value=bf(this.toggle?12:11)}}}));var xf=DS,Tf=xf._,Lf=xf.detection,Pf=xf.utils,_f=xf.keyManager,jf=xf.dom,Df=xf.dom,If=Df.addClass,Af=Df.removeClass,Rf=xf.globalEventHelper.addWindowListener,Bf=xf.events,Mf=xf.pubSub,Hf=(xf.stringTabler,function(e){for(;e.startsWith("0")&&!e.startsWith("0:");)e=e.substring(1);return e}),Nf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wf(e,t)}(o,e);var t,n,r,i=Sf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Cf(kf(t=i.call(this,e)),"hasTooltip",!0),Cf(kf(t),"tooltipMoves",!0),Tf.bindAll(kf(t),"onTick","onSeek","onMouseDown","onMouseUp","onMouseMove","checkSeekable","onKeydown","onTimelineChanged","onChange"),Mf.on(Bf.slide.STARTED,t.checkSeekable),Mf.on(Bf.player.SEEK,t.onKeydown),Mf.on(Bf.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),t.isUserControlled=!te.model.frame.controlOptions.controls.readonly||te.model.frame.controlOptions.controls.readonlyOnce,t.bindListeners(),t.isUp=!0,t}return t=o,(n=[{key:"bindListeners",value:function(){if(this.isUserControlled){var e=Lf.deviceView.isClassicDesktop?this.seekEl:this.view.el;Lf.device.isMobile?(e.addEventListener("touchstart",this.onMouseDown),this.seekEvent="touchmove",this.endEvent="touchend"):(e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("keydown",this.onKeydown),this.seekEvent="mousemove",this.endEvent="mouseup"),this.progressBarEl.addEventListener("change",this.onChange)}}},{key:"isSeekable",value:function(){if(null==this.currSlide)return!1;var e=te.model.frame.controlOptions.controls,t=e.readonly,n=e.readonlyOnce;return!(t&&!n||n&&!this.currSlide.currentTimelineCompletedOnce())}},{key:"getSeekValue",value:function(e){var t=this.view.getBox();return Pf.clamp(0,1,(e-t.x)/t.w)}},{key:"getEventX",value:function(e){return Lf.device.isMobile?e.touches[0]&&e.touches[0].pageX:e.pageX}},{key:"onTimelineChanged",value:function(e,t){null!=this.currTimeline&&(this.currTimeline.off(Bf.timeline.TICK,this.onTick),this.currTimeline.off(Bf.timeline.COMPLETE,this.checkSeekable)),this.currSlide=t,this.currTimeline=e,this.currTimeline.on(Bf.timeline.TICK,this.onTick),this.currTimeline.on(Bf.timeline.COMPLETE,this.checkSeekable);var n=this.currTimeline.progress();this.duration=Pf.toSeconds(this.currTimeline.timelineDuration()),this.progressBarEl.max=Math.round(1e3*this.duration),this.progressBarEl.step=100,this.progressBarEl.setAttribute("aria-valuemin",0),this.progressBarEl.setAttribute("aria-valuemax",this.progressBarEl.max),isNaN(n)&&(n=0),this.onTick(n),this.checkSeekable()}},{key:"checkSeekable",value:function(){this.isSeekable()?(Af(this.el,"read-only"),this.progressBarEl.disabled=!1):(If(this.el,"read-only"),this.progressBarEl.disabled=!0)}},{key:"onTick",value:function(e){var t=100*e;this.progressBarFillEl.style.width="".concat(t,"%");var n=DS.stringTabler.getString("acc_played",{time:this.getTooltipString({type:"ariaTick"})},"%time% played");this.progressBarEl.value=this.currTimeline.timeline?this.currTimeline.timeline.currentTime:0,this.progressBarEl.setAttribute("aria-valuenow",this.progressBarEl.value),this.progressBarEl.setAttribute("aria-valuetext",n),Mf.trigger(Bf.currTimeline.TICK,e,Math.floor(this.progressBarEl.value))}},{key:"onSeek",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.seeking=!0,!0!==this.isUp&&this.currTimeline.isPlaying()&&(this.currTimeline.pause(!0),this.currTimeline.on(Bf.timeline.AFTER_SEEK_UPDATE,(function e(){t.currTimeline.play(),t.currTimeline.off(Bf.timeline.AFTER_SEEK_UPDATE,e)})));var n=this.getEventX(e);null!=n&&this.currTimeline.progress(this.getSeekValue(n)),this.isUp=!1}},{key:"seekBy",value:function(e,t){var n=this;e.preventDefault();var r=(this.currTimeline.elapsedTime()+t)/this.currTimeline.duration();this.currTimeline.onSeekStart(),this.currTimeline.progress(r),this.currTimeline.onSeekEnd(),this.currTimeline.isPlaying()&&(this.currTimeline.pause(),setTimeout((function(){return n.currTimeline.play()}),125))}},{key:"isEnded",value:function(){return this.currTimeline.progress()>=1}},{key:"onChange",value:function(e){this.currTimeline.progress(this.progressBarEl.value/this.progressBarEl.max)}},{key:"onMouseDown",value:function(e){this.isUp=!1,this.removeEndListener=Rf(this.endEvent,this.onMouseUp),this.removeSeekListener=Rf(this.seekEvent,this.onSeek),this.currTimeline.onSeekStart(),this.onSeek(e)}},{key:"onMouseUp",value:function(e){this.onSeek(e),this.removeEndListener(),this.removeSeekListener(),this.isUp=!0,this.currTimeline.onSeekEnd()}},{key:"onKeydown",value:function(e){var t=e.which;_f.isActionKey(t)?Mf.trigger(Bf.player.TOGGLE_PLAYBACK):this.isSeekable()&&(_f.isDownishKey(t)?this.seekBy(e,-100):_f.isPageDownKey(t)?this.seekBy(e,-1e3):_f.isUpishKey(t)?this.seekBy(e,100):_f.isPageUpKey(t)&&this.seekBy(e,1e3))}},{key:"getViewBox",value:function(e){var t=this.view.getBox();return null!=e&&(t.x="focusin"===e.type?t.x+t.w/2:e.pageX,t.w=2),t}},{key:"onMouseMove",value:function(e){nn.updateTooltip(e.pageX,this.getTooltipString())}},{key:"setForFollowMouse",value:function(){this.el.addEventListener("mousemove",this.onMouseMove)}},{key:"stopFollowMouse",value:function(){this.el.removeEventListener("mousemove",this.onMouseMove)}},{key:"getTooltipString",value:function(e){if(null!=this.duration){var t=0;t=null==e||"focusin"!==e.type&&"ariaTick"!==e.type?this.getSeekValue(jf.mouseX)*this.duration:Math.floor(Pf.toSeconds(this.progressBarEl.value));var n=Pf.formatSecondsAsTime(t),r=Pf.formatSecondsAsTime(this.duration);return"".concat(Hf(n)," / ").concat(Hf(r))}}}])&&gf(t.prototype,n),r&&gf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),Ff="seek",Vf=DS,Wf=Vf.utils,Uf=Wf.pxify,zf=Wf.scaleVal,Kf=Vf.vendorOverrides.fixStyleString;function Gf(e){return Gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(e)}function qf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jf(r.key),r)}}function Zf(e,t){return Zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zf(e,t)}function Qf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xf(e);if(t){var i=Xf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Gf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yf(e)}(this,n)}}function Yf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xf(e){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xf(e)}function $f(e,t,n){return(t=Jf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jf(e){var t=function(e,t){if("object"!==Gf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Gf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Gf(t)?t:String(t)}te.def(Ff,Nf,(function(){var e=te.model,t=te.model.frame.controlOptions.controls,n=t.readonly,r=te.getCurrentNameSpaceString(),i=function(){return Kf("#seek:before {\n      border: 1px solid ".concat(Se.getColor(r,".cs-seekcontrol","border-top-color"),";\n      background-image: ").concat(Se.getColor(r,".cs-seekcontrol","background-image").replace("(, ","(180deg,"),";\n      background-repeat: no-repeat !important;\n      border-radius: ").concat(Uf(zf(7)),";\n      height: ").concat(Uf(zf(30))," !important;\n      width: calc(100% + ").concat(Uf(zf(60)),");\n      left: -").concat(Uf(zf(30)),";\n    }"))};return{attrs:{id:Ff,tabindex:-1,class:"progress-bar cs-seekcontrol ".concat(n?"read-only":"")},y:"vertical-center",overflow:"visible",noUpdate:!0,w:function(){return this.width||0},h:30,html:'\n      <style data-ref="styleContainer" class="style-container">\n        '.concat(i(),'\n      </style>\n\n      <div class="cs-seekbar-inner progress-bar-inner slide-lockable" data-ref="seekInner">\n        <div data-ref="seek" class="cs-seek progress-bar-seek" style="height: ').concat(Uf(zf(18)),'; position: absolute; top: 50%; transform: translate(0%, -50%);">\n          <input\n            tabIndex="0"\n            type="range"\n            aria-hidden="').concat(!t.seekbar,'"\n            aria-label="').concat(e.getString("acc_slide_progress"),'"\n            data-ref="progressBar"\n          >\n          <div class="cs-fill progress-bar-fill" style="width: 0px" data-ref="progressBarFill"></div>\n        </div>\n      </div>\n    '),updateHook:function(){this.children.seek.el.style.height=Uf(zf(18)),this.children.seekInner.el.style.top=Uf(zf(6)),this.children.styleContainer.el.innerText=i()}}}));var ed=DS,td=ed._,nd=ed.events,rd=ed.pubSub,id=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zf(e,t)}(o,e);var t,n,r,i=Qf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),$f(Yf(t=i.call(this,e)),"hasTooltip",!0),$f(Yf(t),"tooltipKey","acc_replay"),td.bindAll(Yf(t),"onClickBtn","onTimelineChanged"),t.onClick(t.onClickBtn),rd.on(nd.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),t}return t=o,(n=[{key:"onClickBtn",value:function(){this.resetTimeline()}},{key:"resetTimeline",value:function(){this.currTimeline.reset()}},{key:"onTimelineChanged",value:function(e){this.currTimeline=e}}])&&qf(t.prototype,n),r&&qf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),od="reset",ad=DS.utils;ad.encode,ad.scaleVal;function ld(e){return ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(e)}function cd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hd(r.key),r)}}function sd(e,t){return sd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sd(e,t)}function ud(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dd(e);if(t){var i=dd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ld(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fd(e)}(this,n)}}function fd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dd(e){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dd(e)}function hd(e){var t=function(e,t){if("object"!==ld(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ld(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ld(t)?t:String(t)}te.def(od,id,(function(){return{tag:"button",attrs:{id:od,class:"content-center cs-button","aria-label":te.model.getString("acc_replay"),tabindex:0},style:{background:"transparent",border:"none"},html:function(){return uo("replay")()},y:"vertical-center",z:1,minW:30,minH:30}}));var pd=DS,yd=pd.detection,vd=pd.dom,bd=pd.pubSub,md=pd.events,gd={next:"acc_next_visual",prev:"acc_previous_visual",submit:"acc_submit"},wd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sd(e,t)}(o,e);var t,n,r,i=ud(o);function o(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),n=fd(t),a=!0,(r=hd(r="hasTooltip"))in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,yd.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t}return t=o,(n=[{key:"tooltipKey",get:function(){return gd[this.view.nameKey]}},{key:"onTap",value:function(e){vd.tappedClass(this.el)}},{key:"onClickBtn",value:function(e){var t=this.view,n=t.enabled,r=t.nameKey;n&&bd.trigger(md.presentation.ON_OBJECT_EVENT,r+"_pressed")}},{key:"onLayoutChange",value:function(e){var t=this,n=this.view.nameKey;this.hasFocus&&(e[n]?window.requestAnimationFrame((function(){return t.onFocus()})):this.onBlur())}}])&&cd(t.prototype,n),r&&cd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),Sd="prev",kd=DS.utils;kd.pxify,kd.scaleVal;te.def(Sd,wd,(function(){var e=te.model,t=te.model,n=t.dir,r=t.rtl;return{tag:"button",attrs:{id:Sd,class:"cs-button btn",tabindex:0,"aria-label":e.getString(r?"acc_next":"acc_previous")},html:n([uo(r?"next":"prev")(),e.getString("prev")]).join("\n"),methods:{shortcutActivated:function(){this.visible&&this.viewLogic.onClickBtn()}},calcTextSize:!0,w:"fit-to-text-w",y:"vertical-center",padLeft:r?0:8,padRight:r?8:0,minW:71,minH:30}}));var Od="next",Cd=DS.utils;Cd.pxify,Cd.scaleVal;te.def(Od,wd,(function(){var e=te.model,t=te.model,n=t.dir,r=t.rtl;return{tag:"button",attrs:{id:Od,class:"cs-button btn","aria-label":e.getString(r?"acc_previous":"acc_next"),tabindex:0},html:n([e.getString("next"),uo(r?"prev":"next")()]).join("\n"),methods:{shortcutActivated:function(){this.visible&&this.viewLogic.onClickBtn()}},calcTextSize:!0,padRight:r?0:8,padLeft:r?8:0,w:"fit-to-text-w",y:"vertical-center",minW:71,minH:30}}));var Ed="submit";function xd(e){return xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(e)}function Td(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==xd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===xd(o)?o:String(o)),r)}var i,o}function Ld(e,t){return Ld=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ld(e,t)}function Pd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jd(e);if(t){var i=jd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===xd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _d(e)}(this,n)}}function _d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jd(e)}te.def(Ed,wd,(function(){var e=te.model;return{tag:"button",attrs:{id:Ed,class:"cs-button btn","aria-label":e.getString("acc_submit"),tabindex:0},html:"".concat(te.model.getString(Ed)),methods:{shortcutActivated:function(){this.visible&&this.viewLogic.onClickBtn()}},overflow:"visible",w:"fit-to-text-w",y:"vertical-center",calcTextSize:!0,minW:71,minH:30,noUpdate:!0}}));var Dd=DS,Id=Dd._,Ad=Dd.detection,Rd=Dd.pubSub,Bd=Dd.events,Md=Dd.focusManager,Hd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ld(e,t)}(o,e);var t,n,r,i=Pd(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),Id.bindAll(_d(t),"onStart","onClickCallback"),Rd.once(Bd.request.START,t.onStart),t}return t=o,(n=[{key:"onStart",value:function(e){this.rejectDeferred=e,this.el.classList.add("opaque"),this.playIconEl.addEventListener("click",this.onClickCallback),this.toggleVisibility(!0),Ad.env.is360||this.playIconEl.focus(),Rd.trigger(Bd.startOverlay.READY)}},{key:"onFocus",value:function(){Md.setFocusRectOn(this.playIconEl)}},{key:"onClickCallback",value:function(){var e=this;this.view.children.playIcon.el.removeEventListener("click",this.onClickCallback),Rd.trigger(Bd.loader.UNMUTE),Ad.deviceView.isMobile?Rd.once(Bd.slide.STARTED,(function(){e.el.classList.remove("opaque")})):this.el.classList.remove("opaque"),this.rejectDeferred(),this.toggleVisibility(!1)}},{key:"toggleVisibility",value:function(e){this.el.classList.add(e?"shown":"hidden"),this.el.classList.remove(e?"hidden":"shown")}}])&&Td(t.prototype,n),r&&Td(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),Nd=DS.stringTabler;te.def("startoverlay",Hd,(function(){return{attrs:{class:"start-overlay hidden","aria-modal":"true",role:"dialog","aria-label":"".concat(Nd.getString(DS.constants.strings.PROJECT_TITLE)," ").concat(Nd.getString("desktop_start"))},x:0,y:0,w:"100%",h:"100%",add:!0,html:function(){return"<button\n        aria-label=".concat(Nd.getString("desktop_start"),'\n        data-ref="playIcon"\n        tabindex="0"\n        data-leavealone="0">\n        <div class="cs-button">\n          <svg viewBox="0 0 100 100" width="100" height="100">\n            <path d="M 81.94 50.00 L 31.03 20.61 L 31.03 79.39" fill="currentColor" />\n          </svg>\n        </div>\n      </div>')}}}));function Fd(e){return Fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(e)}function Vd(e,t,n){return(t=Ud(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ud(r.key),r)}}function Ud(e){var t=function(e,t){if("object"!==Fd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fd(t)?t:String(t)}function zd(e,t){return zd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zd(e,t)}function Kd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qd(e);if(t){var i=qd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Fd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gd(e)}(this,n)}}function Gd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qd(e){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qd(e)}te.def("captionContainer",(function(){return{attrs:{class:"caption-container"},z:2,w:"100%",h:"100%",add:!0}}));var Zd=DS,Qd=Zd._,Yd=Zd.pubSub,Xd=Zd.dom,$d=Zd.detection,Jd=Zd.events,eh=Zd.utils.pxify,th=Zd.constants.DESKTOP_LOADER_DELAY*($d.browser.isIE?2:1),nh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zd(e,t)}(o,e);var t,n,r,i=Kd(o);function o(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=i.call(this,e),Qd.bindAll(Gd(n),"onShow","onHide","onMouseMove","onCtxMenu"),Yd.on((Vd(t={},Jd.app.SHOW_LOADER,n.onShow),Vd(t,Jd.app.HIDE_LOADER,n.onHide),t)),n.view.el.addEventListener("contextmenu",n.onCtxMenu),n}return t=o,(n=[{key:"onShow",value:function(){var e=this;this.spinnerTimeout=setTimeout((function(){document.body.addEventListener("mousemove",e.onMouseMove),e.updateSpinnerLoc(),e.view.el.style.cursor="none",e.view.setVisibility(!0)}),th)}},{key:"onHide",value:function(){clearTimeout(this.spinnerTimeout),document.body.removeEventListener("mousemove",this.onMouseMove),this.view.el.style.cursor="",this.view.setVisibility(!1)}},{key:"onMouseMove",value:function(){this.updateSpinnerLoc()}},{key:"onCtxMenu",value:function(e){e.preventDefault()}},{key:"updateSpinnerLoc",value:function(){this.spinnerEl.style.left=eh(Xd.mouseX),this.spinnerEl.style.top=eh(Xd.mouseY)}},{key:"teardown",value:function(){Yd.off("app:showLoader",this.onShow),Yd.off("app:hideLoader",this.onHide),this.view.el.removeEventListener("contextmenu",this.onCtxMenu)}}])&&Wd(t.prototype,n),r&&Wd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),rh="slideLoaderOverlay";function ih(e){return function(e){if(Array.isArray(e))return oh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return oh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}te.def(rh,nh,(function(){te.model;return{attrs:{id:rh},w:null,h:null,html:'<div class="slide-loader" data-ref="spinner"></div>'}}));var ah=DS.constants.refs.FRAME,lh=DS,ch=lh.pubSub,sh=lh.events,uh=lh.scaler;function fh(e){return fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(e)}function dh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==fh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===fh(o)?o:String(o)),r)}var i,o}var hh=DS,ph=hh._,yh=hh.pubSub,vh=hh.events,bh=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.nameSpace=t.nameSpace,this.el.classList.add(this.nameSpace),ph.bindAll(this,"onSlideTransitionIn","onWindowClosing"),yh.on(vh.slide.ON_TRANSITION_IN,this.onSlideTransitionIn),yh.on(vh.window.CLOSING,this.onWindowClosing)}var t,n,r;return t=e,(n=[{key:"onSlideTransitionIn",value:function(e){e.windowId===this.nameSpace&&document.body.classList.add("showing-".concat(this.nameSpace.toLowerCase()))}},{key:"onWindowClosing",value:function(e){e===this.nameSpace&&document.body.classList.remove("showing-".concat(this.nameSpace.toLowerCase()))}}])&&dh(t.prototype,n),r&&dh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function mh(e){return mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(e)}function gh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==mh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==mh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mh(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wh="lightBoxWrapper",Sh=DS,kh=Sh.utils.scaleVal,Oh=Sh.scaler;te.def(wh,bh,(function(e){var t,n=te.model,r=n.frame.fontscale,i=n.preso.display().windows().find({id:e});return gh(t={attrs:{id:wh,class:"cs-base cs-".concat(n.frame.default_layout," fn-").concat(n.frame.default_layout)},style:{fontSize:"".concat(kh(r),"%")}},"style",{transformOrigin:"0px 0px",transform:"translate(-50%, -50%)",background:"black"}),gh(t,"dimScale",(function(){return Oh.getScale()})),gh(t,"overflow","visible"),gh(t,"w",i.get("width")),gh(t,"h",i.get("height")),gh(t,"x",(function(){return(window.innerWidth-kh(this.w))/2})),gh(t,"y",(function(){return(window.innerHeight-kh(this.h))/2})),gh(t,"updateHook",(function(){this.el.style.fontSize="".concat(kh(r),"%")})),gh(t,"add",!0),t}));var Ch=DS.constants.LIGHTBOX_SCALAR,Eh="lightBoxSlide";te.def(Eh,sr,(function(){var e=te.model;return{attrs:{class:Eh,role:"dialog","aria-modal":!0},origin:"0 0",w:e.slideWidth*Ch,h:e.slideHeight*Ch,x:function(){return(this.parent.w-this.w)/2},y:function(){return this.x},z:1,bgColor:"black",add:!0,html:'<div id="slide-label-lightbox" data-ref="label" aria-live="polite"></div><main data-ref="container" class="slide-container" tabindex="-1"></main>',childViews:["captionContainer"],updateHook:function(){this.children.captionContainer.update()},winScale:function(){return DS.scaler.getScale()*Ch}}}));var xh="lightBox",Th=DS.utils,Lh=Th.scaleVal,Ph=Th.pxify;function _h(e){return _h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(e)}function jh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==_h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===_h(o)?o:String(o)),r)}var i,o}function Dh(e,t){return Dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dh(e,t)}function Ih(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ah(e);if(t){var i=Ah(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===_h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ah(e){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ah(e)}te.def(xh,(function(){return{attrs:{class:"".concat(xh," cs-base")},x:0,y:0,w:"100%",h:"100%",border:"".concat(Ph(Lh(4))," solid black"),offsets:{l:4,t:4},overflow:"visible",contentStyle:{width:"100%",height:"100%"},updateHook:function(){this.el.style.borderWidth=Ph(Lh(4))}}}));var Rh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dh(e,t)}(o,e);var t,n,r,i=Ih(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).onClick(t.onClickClose),t}return t=o,(n=[{key:"onClickClose",value:function(e){var t=this.model.windowId;DS.pubSub.trigger(DS.events.window.CLOSING,t)}}])&&jh(t.prototype,n),r&&jh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(mn),Bh="lightBoxClose";DS.utils.scaleVal;te.def(Bh,Rh,(function(e){var t={windowId:e};return{tag:"button",attrs:{id:Bh,tabindex:0,"aria-label":DS.stringTabler.getString("close")},html:uo("close"),y:function(){return-this.h/2+2},x:function(){return this.parent.w-this.w/2-2},model:t,w:20,h:20}}));var Mh=DS.scaler,Hh=function(e){return e/Mh.getScale()};te.def("visibleOverlay",(function(){return{attrs:{class:"visible-overlay"},x:0,y:0,w:function(){return Hh(window.innerWidth)},h:function(){return Hh(window.innerHeight)},position:"fixed",bgColor:"rgba(0, 0, 0, 0.4)",add:!0}}));var Nh="LightboxWnd",Fh="lightBoxBottom";te.def(Fh,(function(){return{tag:"nav",attrs:{id:Fh},x:-4,y:function(){return this.parent.h-this.h-4},w:"100%",h:kt,updateHook:function(){if(this.hasAllChildren()){this.flowChildren({pad:wt,startPos:this.w,toLeft:!0});var e=this.children.captions;e.x=wt,e.update()}}}}));var Vh="LightboxControlsWnd",Wh="printWrapper";te.def(Wh,(function(e){return{attrs:{id:Wh,class:"print-window"},w:0,h:0,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:1,x:0,y:0,add:!0}}));var Uh=DS.constants.printSettings,zh="printSlide";te.def(zh,sr,(function(e){var t=te.model.slideWidth;return{attrs:{id:zh,class:"cs-window window-slide ".concat(e,"-slide"),tabindex:-1},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent",display:"none"},origin:"0 0",winScale:function(){return this.w/t},w:function(){var e=DS.detection.os,t=e.isAndroid,n=e.isIOS;return t?Uh.android.pageW:n?Uh.ios.pageW:Uh.desktop.pageW},h:0,x:0,y:0,z:1,html:'<div data-ref="container" class="slide-container"></div>'}}));var Kh="PrintWindow",Gh="messageWindowWrapper",qh=DS,Zh=qh.scaler,Qh=(qh.utils.scaleVal,function(e){return e/Zh.getScale()});te.def(Gh,(function(e){var t=te.model,n=t.preso.display().windows().find({id:e}),r=te.getNamespace(DS.constants.refs.FRAME),i=r.slide,o=r.wrapper;return{attrs:{id:Gh,class:"cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout)},w:n.get("width"),h:n.get("height"),style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},dimScale:function(){return Zh.getScale()},x:function(){return Qh(o.x)+(i.x+(i.w-this.w)/2)},y:function(){return Qh(o.y)+(i.y+(i.h-this.h)/2)},add:!0}}));var Yh="messageWindowSlide";te.def(Yh,sr,(function(){return{attrs:{id:Yh,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:'<div id="slide-label-message" data-ref="label" role="presentation"></div><div data-ref="container" class="slide-container"></div>',winScale:function(){return DS.scaler.getScale()}}}));te.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var Xh="MessageWnd",$h=DS.scaler,Jh="shortcutWrapper";te.def(Jh,(function(e){var t=te.model,n=te.getNamespace(DS.constants.refs.FRAME),r=(n.slide,n.wrapper);return{attrs:{id:Jh,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout)},w:function(){return.7*r.w},h:function(){return.7*r.h},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},x:function(){return r.x/$h.getScale()+(r.w-this.w)/2},y:function(){return r.y/$h.getScale()+(r.h-this.h)/2},add:!0}}));var ep=function(){return"no icon"},tp={track:function(e,t){return'\n      <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16">\n        <defs>\n            <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n            <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n                <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n                <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n                <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n                <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n            </filter>\n        </defs>\n        <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#D1D1D1" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="white" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#AFAFAF" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="#585858" stroke-width="0" cx="8" cy="8" r="5"></circle>\n            </g>\n        </g>\n        <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#DBDBDB" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="white" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#AFAFAF" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n            </g>\n        </g>\n      </svg>\n    ')}};function np(e){return np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(e)}function rp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==np(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==np(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===np(o)?o:String(o)),r)}var i,o}function ip(){return ip="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cp(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ip.apply(this,arguments)}function op(e,t){return op=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},op(e,t)}function ap(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cp(e);if(t){var i=cp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===np(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lp(e)}(this,n)}}function lp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cp(e){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cp(e)}var sp="shortcutSlide",up="comma_key",fp="period_key",dp="question_mark_key",hp=DS,pp=hp._,yp=hp.shortcutManager,vp=hp.keyManager,bp=hp.pubSub,mp=hp.events,gp=mp.window.CLOSING,wp=mp.player.ENABLE_KEYBOARD_SHORTCUTS,Sp=hp.MicroScrollBar,kp=hp.focusManager,Op=(hp.flagManager,hp.constants),Cp=hp.globalEventHelper.addDocumentListener;function Ep(e,t,n){return(e.ctrl?t.getString("ctrl_key")+"+":"")+(e.alt?t.getString("alt_key")+"+":"")+(e.shift?t.getString("shift_key")+"+":"")+function(e,t,n){if(n)switch(e.key){case"?":return t.getString(dp);case".":return t.getString(fp);case",":return t.getString(up)}return(e.keyName||e.key).toUpperCase()}(e,t,n)}var xp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&op(e,t)}(o,e);var t,n,r,i=ap(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),pp.bindAll(lp(t),"onKeyboardShortcutsChanged","toggleKeyboardShortcuts","onFocus","onKeydown"),bp.on(gp,t.closeWindow),t.removeKeydownListener=Cp("keydown",t.onKeydown),null!=t.keyboardShortcutsSwitchEl&&(t.onClickEl(t.keyboardShortcutsSwitchEl,t.toggleKeyboardShortcuts),bp.on(wp,t.onKeyboardShortcutsChanged)),t}return t=o,(n=[{key:"onKeydown",value:function(e){vp.isKey(e.which,Op.keys.ESCAPE)&&this.closeWindow("ShortcutWnd")}},{key:"closeWindow",value:function(e){"ShortcutWnd"===e&&yp.closeShortcutWindow()}},{key:"onKeyboardShortcutsChanged",value:function(e){e?(this.keyboardShortcutsSwitchEl.classList.add("toggle-on"),this.keyboardShortcutsSwitchEl.classList.remove("toggle-off"),this.shortcutsTableEl.classList.remove("disabled")):(this.keyboardShortcutsSwitchEl.classList.add("toggle-off"),this.keyboardShortcutsSwitchEl.classList.remove("toggle-on"),this.shortcutsTableEl.classList.add("disabled")),this.keyboardShortcutsSwitchEl.querySelector("button").setAttribute("aria-checked",e)}},{key:"toggleKeyboardShortcuts",value:function(){yp.enableShortcuts(!yp.enabled)}},{key:"onFocus",value:function(e){var t=e.target;this.el.contains(t)&&kp.setFocusRectOn(t)}},{key:"teardown",value:function(){bp.off(gp,this.closeWindow),null!=this.keyboardShortcutsSwitchEl&&bp.off(wp,this.onKeyboardShortcutsChanged),this.removeKeydownListener(),ip(cp(o.prototype),"teardown",this).call(this)}}])&&rp(t.prototype,n),r&&rp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(sr);te.def(sp,xp,(function(){var e=te.model;return{attrs:{id:sp,class:"shortcut-slide","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},style:{overflow:"scroll"},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var t=DS.detection.theme.isUnified?[Op.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme"]:[Op.refs.FRAME,".cs-duration stop:last-child","stop-color",void 0,".cs-duration stop"],n=Se.getColor.apply(Se,t),r='\n        <div class="switch '.concat(yp.enabled?"toggle-on":"toggle-off",'" data-ref="keyboardShortcutsSwitch">\n          <label id="shortcuts-label" class="switch-label">').concat(e.getString("enable_keyboardshortcuts"),'</label>\n          <button class="switch-toggle" tabindex="0" role="switch" aria-checked="').concat(yp.enabled,'" aria-labelledby="shortcuts-label">\n            ').concat((tp["track"]||ep)(n,"shortcuts"),"\n          </button>\n        </div>"),i="<h1>".concat(e.getString("keyboardshortcuts")).concat(r,"</h1>"),o=yp.getShortcutList().map((function(t){var n=t.name,r=t.keyInfo;return'<tr class="'.concat("?"===r.key?"":"disableable",'">\n            <td class="action">').concat(n,'</td>\n            <td class="key">\n              <span aria-hidden="true">').concat(Ep(r,e,!1),'</span>\n              <span class="sr-only">').concat(Ep(r,e,!0),"</span>\n            </td>\n          </tr>")})).join(""),a='<tr><th class="action">'.concat(e.getString("action"),'</th><th class="key">').concat(e.getString("shortcut"),"</th></tr>");return[i,'<table data-ref="shortcutsTable">'.concat(a).concat(o,"</table>")].join("")},childDef:function(){null==this.scrollbar&&(this.scrollbar=new Sp(this.el,"shortcut-slide"))}}}));var Tp=DS.scaler,Lp="shortcutClose";te.def(Lp,Rh,(function(e){var t={windowId:e};return{tag:"button",attrs:{id:Lp,class:"close-btn-floating",tabindex:0,"z-index":999,"aria-label":te.model.getString("close"),"data-aria-label-id":"close"},style:{overflow:"visible"},html:function(){return'<svg class="cs-icon icon-close" width="'.concat(20*Tp.getScale(),'" height="').concat(20*Tp.getScale(),'" viewBox="0 0 36 36" focusable="false">\n                <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n              </svg>')},methods:{updateDomStrings:function(){this.el.setAttribute("aria-label",te.model.getString("close"))}},y:35,x:function(){var e=te.getNamespace("_frame").wrapper;return Math.max(window.innerWidth/Tp.getScale(),e.w)-(this.w+35)},model:t,w:20,h:20}}));var Pp="ShortcutWnd",_p="messagePromptWrapper";te.def(_p,(function(e){var t=te.model,n=te.getNamespace(DS.constants.refs.FRAME),r=n.slide,i=n.wrapper,o=t.rtl?"rtl":"";return{attrs:{id:_p,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout," ").concat(o)},w:336,h:210,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:function(){return i.scale},x:function(){var e=i.scale;return i.x+(r.x+(r.w-this.w)/2)*e},y:function(){var e=i.scale;return i.y+(r.y+(r.h-this.h)/2)*e},add:!0}}));function jp(e){return jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(e)}function Dp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==jp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==jp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===jp(o)?o:String(o)),r)}var i,o}function Ip(){return Ip="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bp(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ip.apply(this,arguments)}function Ap(e,t){return Ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ap(e,t)}function Rp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bp(e);if(t){var i=Bp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===jp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Bp(e){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bp(e)}te.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var Mp=DS,Hp=Mp.events,Np=Mp.pubSub,Fp=Mp.focusManager,Vp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ap(e,t)}(o,e);var t,n,r,i=Rp(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).onClickEl(t.okButtonEl,t.onClickOk),t}return t=o,(n=[{key:"setPromptId",value:function(e){this.promptId=e}},{key:"onClickOk",value:function(e){var t,n,r=null===(t=this.view)||void 0===t||null===(n=t.getClosingData)||void 0===n?void 0:n.call(t);Np.trigger(Hp.prompt.CLOSING,this.promptId),Np.trigger(Hp.presentation.ON_OBJECT_EVENT,"".concat(this.promptId,"_closed"),r)}},{key:"onFocus",value:function(e){var t=e.target;this.el.contains(t)&&Fp.setFocusRectOn(t)}},{key:"teardown",value:function(){Ip(Bp(o.prototype),"teardown",this).call(this)}}])&&Dp(t.prototype,n),r&&Dp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(sr),Wp=DS.MicroScrollBar,Up="invalidPromptSlide";te.def(Up,Vp,(function(e){var t=te.model;return{attrs:{id:Up,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("invalid_prompt_title"),n=t.getString("invalid_prompt_message"),r=t.getString("invalid_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(r,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new Wp(e,"message-window-text"))}}}));var zp=DS,Kp=zp.MicroScrollBar,Gp=(zp.pubSub,zp.events,"printPromptSlide");te.def(Gp,Vp,(function(e){var t=te.model;return{attrs:{id:Gp,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,methods:{getClosingData:function(){var e=this.children.userNameInput.el,t=e.value;return e.value="",{_ActPrintPromptUsername:t}}},html:function(){var e=t.getString("print_prompt_title"),n=t.getString("print_prompt_message"),r=t.getString("print_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <input data-ref="userNameInput" tabindex="0" type="text">\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(r,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new Kp(e,"message-window-text"))}}}));var qp=DS.MicroScrollBar,Zp="timerPromptSlide";te.def(Zp,Vp,(function(e){var t=te.model;return{attrs:{id:Zp,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("timer_prompt_title"),n=t.getString("timer_prompt_message"),r=t.getString("timer_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(r,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new qp(e,"message-window-text"))}}}));var Qp,Yp={InvalidPrompt:"invalidPromptSlide",PrintPrompt:"printPromptSlide",TimerPrompt:"timerPromptSlide"},Xp=function(e){var t=e,n=Yp[e];return{nameSpace:t,render:function(e){var r=te.tree(t,["overlay",{messagePromptWrapper:[n]}]),i=te.getNamespace(t);return i.slide=i[n],i.wrapper=i.messagePromptWrapper,{all:function(){return te.update(r)},resize:function(){i.isAttached&&(i.overlay.update(),i.messagePromptWrapper.update())}}}}};function $p(e){return $p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(e)}function Jp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==$p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$p(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ey=Xp("InvalidPrompt"),ty=ey.render,ny=ey.nameSpace,ry=Xp("PrintPrompt"),iy=ry.render,oy=ry.nameSpace,ay=Xp("TimerPrompt"),ly=ay.render,cy=ay.nameSpace;!function(e,t){mt(e),function(e){var t=window.globalProvideData;if(window.globalProvideData=function(e,n){"frame"===e&&(null!=(Be=JSON.parse(n)).localization&&DS.flagManager.localizationPlatform?(DS.localizationManager.registerFrameLanguageData(Be.localization),DS.localizationManager.loadFrameData().then((function(e){Me=e,gt()}))):gt(),window.globalProvideData=t)},st.on(Ye,(function(e){new ze,Re=new v(Be,Me,e),te.setModel(Re),dt.initialize(Re),ht.initialize((function(e){return Re.getString(e)})),Se.initializeCssColorVars(),DS.frameModel=Re,DS.views=te,(DS.frameModel.frame.chromeless||DS.detection.env.hideFrame)&&pt.addClass(document.body,"chromeless"),st.trigger(Je)})),window.globals.useJson){var n=e.replace(".js",".json"),r=new XMLHttpRequest;return r.overrideMimeType("application/json"),r.onreadystatechange=function(){4===r.readyState&&200===r.status&&window.globalProvideData("frame",r.responseText.replace(/\\'/g,"'").replace(/\\"/g,'"'))},r.open("GET",n,!0),void r.send(null)}DS.loadScript(e)}(t)}((Jp(Qp={},ah,(function(e){var t=e.topTabsLeft,r=e.topTabsRight,i=e.sidebarOpts,o=i.timeEnabled,a=i.logoEnabled,l=i.html5_logo_url,c=i.logoPlaceholderText,s=e.frame.controlOptions.controls,u=s.closed_captions,f=s.settings,d=te.tree(ah,[{wrapper:[{frame:["slide",e.frame.skip_nav_enabled?"skipnav":null,{bottomBar:[{playbackControls:["playPause","seek","reset"]},{miscControls:["volume"].concat(ih(u?["captions"]:[]),ih(f?["settings"]:[]))},{navControls:["prev","next","submit"]}]},{sidebar:[].concat(ih(a&&(l||c)?["logo"]:[]),["tabs","sidebarPanels"])},{topBar:["title",{topTabs:["linksLeft","linksRight"]}].concat(ih(o?["timer"]:[]))}]},"startoverlay"]},window.globals.HAS_SLIDE?"slideLoaderOverlay":null]),h=function(e){return function(t){return t.name===e}},p=function(e){return!t.some(h(e))&&!r.some(h(e))},y=function(t,r){if(r===ah){var i=function(e,t){var r=e.sidebarOpts.sidebarEnabled;return r&&(r=n(e.sidebarTabs,t)),r||e.sidebarOpts.logoEnabled}(e,t),o=n([].concat(ih(e.topTabsRight),ih(e.topTabsLeft)),t),a={playbackControls:t.seekbar,next:t.next,prev:t.previous,submit:t.submit,skipnav:i||o,volume:t.volume,glossaryTab:t.glossary,glossaryPanel:t.glossary&&p("glossary"),glossaryLink:t.glossary,resourcesTab:t.resources,resourcesPanel:t.resources&&p("resources"),resourcesLink:t.resources,outlineTab:t.outline.enabled,outlinePanel:t.outline.enabled&&p("outline"),outlineLink:t.outline.enabled,search:t.outline.search,transcriptTab:t.transcript,transcriptPanel:t.transcript&&p("transcript"),transcriptLink:t.transcript,sidebar:i,bottomBar:e.bottomBarOpts.bottomBarEnabled};te.resetStates(ah),te.updateVisibility(a,ah),te.update(d)}};ch.on(sh.frameModel.LAYOUT_CHANGED,y);var v=function(e){var t=e.kind,n=e.name,r=e.visible,i=e.enable,o=e.affectTabStop,a="toggle_window_control_visible"===t||"toggle_window_control"===t;"previous"===n&&(n="prev");var l=te["enable_window_control"===t||"toggle_window_control"===t?"getTopNameSpace":"getFrameNameSpace"]()[n];null!=l&&(a?"toggle_window_control_visible"===t?(l.setVisibility(!l.visible),l.childVisibilityChanged()):l.setEnabled(!l.enabled,o):"set_window_control_visible"===t?(l.setVisibility(r),l.childVisibilityChanged()):l.setEnabled(i,o))};ch.on(sh.navcontrols.CHANGED,v);var b=new It(e);b.update();var m=uh.isShowAll()?function(){b.update()}:_.noop;return{all:function(){te.update(d),m()},resize:function(){te.update(d),m()},rerender:function(){te.update(d,!0),m(),te.nameSpaces[ah].wrapper.updateChildren(!0),DS.renderEngine.createWindowFor()},destroy:function(){ch.off(sh.navcontrols.CHANGED,v),ch.off(sh.frameModel.LAYOUT_CHANGED,y),te.nameSpaces[ah].topLevelElements.forEach((function(e){return e.destroy()}))}}})),Jp(Qp,Nh,(function(e){var t=te.tree(Nh,["visibleOverlay",{lightBoxWrapper:["lightBoxSlide","lightBox","lightBoxClose"]}]),n=te.getNamespace(Nh);return n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper,{all:function(){return te.update(t)},resize:function(){n.isAttached&&te.update(t)}}})),Jp(Qp,Vh,(function(e){var t=te.tree(Vh,["visibleOverlay",{lightBoxWrapper:["lightBoxSlide",{lightBox:[{lightBoxBottom:["submit","next","prev","captions"]}]},"lightBoxClose"]}]),n=te.getNamespace(Vh);n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper;var r=function(e,n){if(n===Vh){var r={next:e.next,prev:e.previous,submit:e.submit};te.resetStates(Vh),te.updateVisibility(r,Vh),te.update(t)}};return DS.pubSub.on(DS.events.frameModel.LAYOUT_CHANGED,r),r(e.currControlLayout),{all:function(){return te.update(t)},resize:function(){n.isAttached&&te.update(t)}}})),Jp(Qp,Kh,(function(e){te.tree(Kh,[{printWrapper:["printSlide"]}]);var t=te.getNamespace(Kh);return t.slide=t.printSlide,t.wrapper=t.printWrapper,{all:function(){},resize:function(){},pinchZoom:function(){}}})),Jp(Qp,Xh,(function(e){var t=te.tree(Xh,["overlay",{messageWindowWrapper:["messageWindowSlide"]}]),n=te.getNamespace(Xh);return n.slide=n.messageWindowSlide,n.wrapper=n.messageWindowWrapper,{all:function(){return te.update(t)},resize:function(){n.isAttached&&te.update(t)}}})),Jp(Qp,Pp,(function(e){var t=te.tree(Pp,["visibleOverlay",{shortcutWrapper:["shortcutSlide"]},"shortcutClose"]),n=te.getNamespace(Pp);return n.slide=n.shortcutSlide,n.wrapper=n.shortcutWrapper,{all:function(){return te.update(t)},resize:function(){n.isAttached&&te.update(t)}}})),Jp(Qp,ny,ty),Jp(Qp,oy,iy),Jp(Qp,cy,ly),Qp),"html5/data/js/frame.js")}();
